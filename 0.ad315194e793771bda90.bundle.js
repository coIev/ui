/*! For license information please see 0.ad315194e793771bda90.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{3893:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(process,Buffer,global){function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _classCallCheck2(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function __defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass2(Constructor,protoProps,staticProps){return protoProps&&__defineProperties(Constructor.prototype,protoProps),staticProps&&__defineProperties(Constructor,staticProps),Constructor}function _typeof2(obj){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof2(obj){return typeof obj}:function _typeof2(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread2(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof2(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_require__.d(__webpack_exports__,"Arcs",(function(){return Arcs})),__webpack_require__.d(__webpack_exports__,"Atmosphere",(function(){return Atmosphere})),__webpack_require__.d(__webpack_exports__,"Background",(function(){return Background})),__webpack_require__.d(__webpack_exports__,"Callout",(function(){return Callout})),__webpack_require__.d(__webpack_exports__,"CalloutDefinition",(function(){return CalloutDefinition})),__webpack_require__.d(__webpack_exports__,"CalloutManager",(function(){return CalloutManager})),__webpack_require__.d(__webpack_exports__,"Camera",(function(){return Camera})),__webpack_require__.d(__webpack_exports__,"DataStore",(function(){return DataStore})),__webpack_require__.d(__webpack_exports__,"Drawable",(function(){return Drawable})),__webpack_require__.d(__webpack_exports__,"GKUtils",(function(){return GKUtils})),__webpack_require__.d(__webpack_exports__,"Geometry",(function(){return Geometry})),__webpack_require__.d(__webpack_exports__,"GlobeKitView",(function(){return GlobeKitView})),__webpack_require__.d(__webpack_exports__,"Icosphere",(function(){return Icosphere})),__webpack_require__.d(__webpack_exports__,"IcosphereLookup",(function(){return IcosphereLookup})),__webpack_require__.d(__webpack_exports__,"Lookup",(function(){return Lookup})),__webpack_require__.d(__webpack_exports__,"Lowpoly",(function(){return Lowpoly})),__webpack_require__.d(__webpack_exports__,"Points",(function(){return Points})),__webpack_require__.d(__webpack_exports__,"QuadNormal",(function(){return QuadNormal})),__webpack_require__.d(__webpack_exports__,"Renderer",(function(){return Renderer})),__webpack_require__.d(__webpack_exports__,"Scene",(function(){return Scene})),__webpack_require__.d(__webpack_exports__,"ShaderMaterial",(function(){return ShaderMaterial}));var VecType=Float32Array;function create(x,y,z){var dst=new VecType(3);return x&&(dst[0]=x),y&&(dst[1]=y),z&&(dst[2]=z),dst}function add(a,b,dst){return(dst=dst||new VecType(3))[0]=a[0]+b[0],dst[1]=a[1]+b[1],dst[2]=a[2]+b[2],dst}function cross(a,b,dst){dst=dst||new VecType(3);var t1=a[2]*b[0]-a[0]*b[2],t2=a[0]*b[1]-a[1]*b[0];return dst[0]=a[1]*b[2]-a[2]*b[1],dst[1]=t1,dst[2]=t2,dst}function normalize(a,dst){dst=dst||new VecType(3);var lenSq=a[0]*a[0]+a[1]*a[1]+a[2]*a[2],len=Math.sqrt(lenSq);return len>1e-5?(dst[0]=a[0]/len,dst[1]=a[1]/len,dst[2]=a[2]/len):(dst[0]=0,dst[1]=0,dst[2]=0),dst}var xAxis,yAxis,zAxis,MatType=Float32Array;function copy$1(m,dst){return(dst=dst||new MatType(16))[0]=m[0],dst[1]=m[1],dst[2]=m[2],dst[3]=m[3],dst[4]=m[4],dst[5]=m[5],dst[6]=m[6],dst[7]=m[7],dst[8]=m[8],dst[9]=m[9],dst[10]=m[10],dst[11]=m[11],dst[12]=m[12],dst[13]=m[13],dst[14]=m[14],dst[15]=m[15],dst}function identity(dst){return(dst=dst||new MatType(16))[0]=1,dst[1]=0,dst[2]=0,dst[3]=0,dst[4]=0,dst[5]=1,dst[6]=0,dst[7]=0,dst[8]=0,dst[9]=0,dst[10]=1,dst[11]=0,dst[12]=0,dst[13]=0,dst[14]=0,dst[15]=1,dst}function inverse(m,dst){dst=dst||new MatType(16);var m00=m[0],m01=m[1],m02=m[2],m03=m[3],m10=m[4],m11=m[5],m12=m[6],m13=m[7],m20=m[8],m21=m[9],m22=m[10],m23=m[11],m30=m[12],m31=m[13],m32=m[14],m33=m[15],tmp_0=m22*m33,tmp_1=m32*m23,tmp_2=m12*m33,tmp_3=m32*m13,tmp_4=m12*m23,tmp_5=m22*m13,tmp_6=m02*m33,tmp_7=m32*m03,tmp_8=m02*m23,tmp_9=m22*m03,tmp_10=m02*m13,tmp_11=m12*m03,tmp_12=m20*m31,tmp_13=m30*m21,tmp_14=m10*m31,tmp_15=m30*m11,tmp_16=m10*m21,tmp_17=m20*m11,tmp_18=m00*m31,tmp_19=m30*m01,tmp_20=m00*m21,tmp_21=m20*m01,tmp_22=m00*m11,tmp_23=m10*m01,t0=tmp_0*m11+tmp_3*m21+tmp_4*m31-(tmp_1*m11+tmp_2*m21+tmp_5*m31),t1=tmp_1*m01+tmp_6*m21+tmp_9*m31-(tmp_0*m01+tmp_7*m21+tmp_8*m31),t2=tmp_2*m01+tmp_7*m11+tmp_10*m31-(tmp_3*m01+tmp_6*m11+tmp_11*m31),t3=tmp_5*m01+tmp_8*m11+tmp_11*m21-(tmp_4*m01+tmp_9*m11+tmp_10*m21),d=1/(m00*t0+m10*t1+m20*t2+m30*t3);return dst[0]=d*t0,dst[1]=d*t1,dst[2]=d*t2,dst[3]=d*t3,dst[4]=d*(tmp_1*m10+tmp_2*m20+tmp_5*m30-(tmp_0*m10+tmp_3*m20+tmp_4*m30)),dst[5]=d*(tmp_0*m00+tmp_7*m20+tmp_8*m30-(tmp_1*m00+tmp_6*m20+tmp_9*m30)),dst[6]=d*(tmp_3*m00+tmp_6*m10+tmp_11*m30-(tmp_2*m00+tmp_7*m10+tmp_10*m30)),dst[7]=d*(tmp_4*m00+tmp_9*m10+tmp_10*m20-(tmp_5*m00+tmp_8*m10+tmp_11*m20)),dst[8]=d*(tmp_12*m13+tmp_15*m23+tmp_16*m33-(tmp_13*m13+tmp_14*m23+tmp_17*m33)),dst[9]=d*(tmp_13*m03+tmp_18*m23+tmp_21*m33-(tmp_12*m03+tmp_19*m23+tmp_20*m33)),dst[10]=d*(tmp_14*m03+tmp_19*m13+tmp_22*m33-(tmp_15*m03+tmp_18*m13+tmp_23*m33)),dst[11]=d*(tmp_17*m03+tmp_20*m13+tmp_23*m23-(tmp_16*m03+tmp_21*m13+tmp_22*m23)),dst[12]=d*(tmp_14*m22+tmp_17*m32+tmp_13*m12-(tmp_16*m32+tmp_12*m12+tmp_15*m22)),dst[13]=d*(tmp_20*m32+tmp_12*m02+tmp_19*m22-(tmp_18*m22+tmp_21*m32+tmp_13*m02)),dst[14]=d*(tmp_18*m12+tmp_23*m32+tmp_15*m02-(tmp_22*m32+tmp_14*m02+tmp_19*m12)),dst[15]=d*(tmp_22*m22+tmp_16*m02+tmp_21*m12-(tmp_20*m12+tmp_23*m22+tmp_17*m02)),dst}function transformPoint(m,v,dst){dst=dst||create();var v0=v[0],v1=v[1],v2=v[2],d=v0*m[3]+v1*m[7]+v2*m[11]+m[15];return dst[0]=(v0*m[0]+v1*m[4]+v2*m[8]+m[12])/d,dst[1]=(v0*m[1]+v1*m[5]+v2*m[9]+m[13])/d,dst[2]=(v0*m[2]+v1*m[6]+v2*m[10]+m[14])/d,dst}function transformDirection(m,v,dst){dst=dst||create();var v0=v[0],v1=v[1],v2=v[2];return dst[0]=v0*m[0]+v1*m[4]+v2*m[8],dst[1]=v0*m[1]+v1*m[5]+v2*m[9],dst[2]=v0*m[2]+v1*m[6]+v2*m[10],dst}var m4=Object.freeze({__proto__:null,axisRotate:function axisRotate(m,axis,angleInRadians,dst){dst=dst||new MatType(16);var x=axis[0],y=axis[1],z=axis[2],n=Math.sqrt(x*x+y*y+z*z),xx=(x/=n)*x,yy=(y/=n)*y,zz=(z/=n)*z,c=Math.cos(angleInRadians),s=Math.sin(angleInRadians),oneMinusCosine=1-c,r00=xx+(1-xx)*c,r01=x*y*oneMinusCosine+z*s,r02=x*z*oneMinusCosine-y*s,r10=x*y*oneMinusCosine-z*s,r11=yy+(1-yy)*c,r12=y*z*oneMinusCosine+x*s,r20=x*z*oneMinusCosine+y*s,r21=y*z*oneMinusCosine-x*s,r22=zz+(1-zz)*c,m00=m[0],m01=m[1],m02=m[2],m03=m[3],m10=m[4],m11=m[5],m12=m[6],m13=m[7],m20=m[8],m21=m[9],m22=m[10],m23=m[11];return dst[0]=r00*m00+r01*m10+r02*m20,dst[1]=r00*m01+r01*m11+r02*m21,dst[2]=r00*m02+r01*m12+r02*m22,dst[3]=r00*m03+r01*m13+r02*m23,dst[4]=r10*m00+r11*m10+r12*m20,dst[5]=r10*m01+r11*m11+r12*m21,dst[6]=r10*m02+r11*m12+r12*m22,dst[7]=r10*m03+r11*m13+r12*m23,dst[8]=r20*m00+r21*m10+r22*m20,dst[9]=r20*m01+r21*m11+r22*m21,dst[10]=r20*m02+r21*m12+r22*m22,dst[11]=r20*m03+r21*m13+r22*m23,m!==dst&&(dst[12]=m[12],dst[13]=m[13],dst[14]=m[14],dst[15]=m[15]),dst},axisRotation:function axisRotation(axis,angleInRadians,dst){dst=dst||new MatType(16);var x=axis[0],y=axis[1],z=axis[2],n=Math.sqrt(x*x+y*y+z*z),xx=(x/=n)*x,yy=(y/=n)*y,zz=(z/=n)*z,c=Math.cos(angleInRadians),s=Math.sin(angleInRadians),oneMinusCosine=1-c;return dst[0]=xx+(1-xx)*c,dst[1]=x*y*oneMinusCosine+z*s,dst[2]=x*z*oneMinusCosine-y*s,dst[3]=0,dst[4]=x*y*oneMinusCosine-z*s,dst[5]=yy+(1-yy)*c,dst[6]=y*z*oneMinusCosine+x*s,dst[7]=0,dst[8]=x*z*oneMinusCosine+y*s,dst[9]=y*z*oneMinusCosine-x*s,dst[10]=zz+(1-zz)*c,dst[11]=0,dst[12]=0,dst[13]=0,dst[14]=0,dst[15]=1,dst},copy:copy$1,frustum:function frustum(left,right,bottom,top,near,far,dst){var dx=right-left,dy=top-bottom,dz=near-far;return(dst=dst||new MatType(16))[0]=2*near/dx,dst[1]=0,dst[2]=0,dst[3]=0,dst[4]=0,dst[5]=2*near/dy,dst[6]=0,dst[7]=0,dst[8]=(left+right)/dx,dst[9]=(top+bottom)/dy,dst[10]=far/dz,dst[11]=-1,dst[12]=0,dst[13]=0,dst[14]=near*far/dz,dst[15]=0,dst},getAxis:function getAxis(m,axis,dst){var off=4*axis;return(dst=dst||create())[0]=m[off+0],dst[1]=m[off+1],dst[2]=m[off+2],dst},getTranslation:function getTranslation(m,dst){return(dst=dst||create())[0]=m[12],dst[1]=m[13],dst[2]=m[14],dst},identity:identity,inverse:inverse,lookAt:function lookAt(eye,target,up,dst){return dst=dst||new MatType(16),xAxis=xAxis||create(),yAxis=yAxis||create(),normalize(function subtract(a,b,dst){return(dst=dst||new VecType(3))[0]=a[0]-b[0],dst[1]=a[1]-b[1],dst[2]=a[2]-b[2],dst}(eye,target,zAxis=zAxis||create()),zAxis),normalize(cross(up,zAxis,xAxis),xAxis),normalize(cross(zAxis,xAxis,yAxis),yAxis),dst[0]=xAxis[0],dst[1]=xAxis[1],dst[2]=xAxis[2],dst[3]=0,dst[4]=yAxis[0],dst[5]=yAxis[1],dst[6]=yAxis[2],dst[7]=0,dst[8]=zAxis[0],dst[9]=zAxis[1],dst[10]=zAxis[2],dst[11]=0,dst[12]=eye[0],dst[13]=eye[1],dst[14]=eye[2],dst[15]=1,dst},multiply:function multiply$1(a,b,dst){dst=dst||new MatType(16);var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=b[0],b01=b[1],b02=b[2],b03=b[3],b10=b[4],b11=b[5],b12=b[6],b13=b[7],b20=b[8],b21=b[9],b22=b[10],b23=b[11],b30=b[12],b31=b[13],b32=b[14],b33=b[15];return dst[0]=a00*b00+a10*b01+a20*b02+a30*b03,dst[1]=a01*b00+a11*b01+a21*b02+a31*b03,dst[2]=a02*b00+a12*b01+a22*b02+a32*b03,dst[3]=a03*b00+a13*b01+a23*b02+a33*b03,dst[4]=a00*b10+a10*b11+a20*b12+a30*b13,dst[5]=a01*b10+a11*b11+a21*b12+a31*b13,dst[6]=a02*b10+a12*b11+a22*b12+a32*b13,dst[7]=a03*b10+a13*b11+a23*b12+a33*b13,dst[8]=a00*b20+a10*b21+a20*b22+a30*b23,dst[9]=a01*b20+a11*b21+a21*b22+a31*b23,dst[10]=a02*b20+a12*b21+a22*b22+a32*b23,dst[11]=a03*b20+a13*b21+a23*b22+a33*b23,dst[12]=a00*b30+a10*b31+a20*b32+a30*b33,dst[13]=a01*b30+a11*b31+a21*b32+a31*b33,dst[14]=a02*b30+a12*b31+a22*b32+a32*b33,dst[15]=a03*b30+a13*b31+a23*b32+a33*b33,dst},negate:function negate$1(m,dst){return(dst=dst||new MatType(16))[0]=-m[0],dst[1]=-m[1],dst[2]=-m[2],dst[3]=-m[3],dst[4]=-m[4],dst[5]=-m[5],dst[6]=-m[6],dst[7]=-m[7],dst[8]=-m[8],dst[9]=-m[9],dst[10]=-m[10],dst[11]=-m[11],dst[12]=-m[12],dst[13]=-m[13],dst[14]=-m[14],dst[15]=-m[15],dst},ortho:function ortho(left,right,bottom,top,near,far,dst){return(dst=dst||new MatType(16))[0]=2/(right-left),dst[1]=0,dst[2]=0,dst[3]=0,dst[4]=0,dst[5]=2/(top-bottom),dst[6]=0,dst[7]=0,dst[8]=0,dst[9]=0,dst[10]=2/(near-far),dst[11]=0,dst[12]=(right+left)/(left-right),dst[13]=(top+bottom)/(bottom-top),dst[14]=(far+near)/(near-far),dst[15]=1,dst},perspective:function perspective(fieldOfViewYInRadians,aspect,zNear,zFar,dst){dst=dst||new MatType(16);var f=Math.tan(.5*Math.PI-.5*fieldOfViewYInRadians),rangeInv=1/(zNear-zFar);return dst[0]=f/aspect,dst[1]=0,dst[2]=0,dst[3]=0,dst[4]=0,dst[5]=f,dst[6]=0,dst[7]=0,dst[8]=0,dst[9]=0,dst[10]=(zNear+zFar)*rangeInv,dst[11]=-1,dst[12]=0,dst[13]=0,dst[14]=zNear*zFar*rangeInv*2,dst[15]=0,dst},rotateX:function rotateX(m,angleInRadians,dst){dst=dst||new MatType(16);var m10=m[4],m11=m[5],m12=m[6],m13=m[7],m20=m[8],m21=m[9],m22=m[10],m23=m[11],c=Math.cos(angleInRadians),s=Math.sin(angleInRadians);return dst[4]=c*m10+s*m20,dst[5]=c*m11+s*m21,dst[6]=c*m12+s*m22,dst[7]=c*m13+s*m23,dst[8]=c*m20-s*m10,dst[9]=c*m21-s*m11,dst[10]=c*m22-s*m12,dst[11]=c*m23-s*m13,m!==dst&&(dst[0]=m[0],dst[1]=m[1],dst[2]=m[2],dst[3]=m[3],dst[12]=m[12],dst[13]=m[13],dst[14]=m[14],dst[15]=m[15]),dst},rotateY:function rotateY(m,angleInRadians,dst){dst=dst||new MatType(16);var m00=m[0],m01=m[1],m02=m[2],m03=m[3],m20=m[8],m21=m[9],m22=m[10],m23=m[11],c=Math.cos(angleInRadians),s=Math.sin(angleInRadians);return dst[0]=c*m00-s*m20,dst[1]=c*m01-s*m21,dst[2]=c*m02-s*m22,dst[3]=c*m03-s*m23,dst[8]=c*m20+s*m00,dst[9]=c*m21+s*m01,dst[10]=c*m22+s*m02,dst[11]=c*m23+s*m03,m!==dst&&(dst[4]=m[4],dst[5]=m[5],dst[6]=m[6],dst[7]=m[7],dst[12]=m[12],dst[13]=m[13],dst[14]=m[14],dst[15]=m[15]),dst},rotateZ:function rotateZ(m,angleInRadians,dst){dst=dst||new MatType(16);var m00=m[0],m01=m[1],m02=m[2],m03=m[3],m10=m[4],m11=m[5],m12=m[6],m13=m[7],c=Math.cos(angleInRadians),s=Math.sin(angleInRadians);return dst[0]=c*m00+s*m10,dst[1]=c*m01+s*m11,dst[2]=c*m02+s*m12,dst[3]=c*m03+s*m13,dst[4]=c*m10-s*m00,dst[5]=c*m11-s*m01,dst[6]=c*m12-s*m02,dst[7]=c*m13-s*m03,m!==dst&&(dst[8]=m[8],dst[9]=m[9],dst[10]=m[10],dst[11]=m[11],dst[12]=m[12],dst[13]=m[13],dst[14]=m[14],dst[15]=m[15]),dst},rotationX:function rotationX(angleInRadians,dst){dst=dst||new MatType(16);var c=Math.cos(angleInRadians),s=Math.sin(angleInRadians);return dst[0]=1,dst[1]=0,dst[2]=0,dst[3]=0,dst[4]=0,dst[5]=c,dst[6]=s,dst[7]=0,dst[8]=0,dst[9]=-s,dst[10]=c,dst[11]=0,dst[12]=0,dst[13]=0,dst[14]=0,dst[15]=1,dst},rotationY:function rotationY(angleInRadians,dst){dst=dst||new MatType(16);var c=Math.cos(angleInRadians),s=Math.sin(angleInRadians);return dst[0]=c,dst[1]=0,dst[2]=-s,dst[3]=0,dst[4]=0,dst[5]=1,dst[6]=0,dst[7]=0,dst[8]=s,dst[9]=0,dst[10]=c,dst[11]=0,dst[12]=0,dst[13]=0,dst[14]=0,dst[15]=1,dst},rotationZ:function rotationZ(angleInRadians,dst){dst=dst||new MatType(16);var c=Math.cos(angleInRadians),s=Math.sin(angleInRadians);return dst[0]=c,dst[1]=s,dst[2]=0,dst[3]=0,dst[4]=-s,dst[5]=c,dst[6]=0,dst[7]=0,dst[8]=0,dst[9]=0,dst[10]=1,dst[11]=0,dst[12]=0,dst[13]=0,dst[14]=0,dst[15]=1,dst},scale:function scale(m,v,dst){dst=dst||new MatType(16);var v0=v[0],v1=v[1],v2=v[2];return dst[0]=v0*m[0],dst[1]=v0*m[1],dst[2]=v0*m[2],dst[3]=v0*m[3],dst[4]=v1*m[4],dst[5]=v1*m[5],dst[6]=v1*m[6],dst[7]=v1*m[7],dst[8]=v2*m[8],dst[9]=v2*m[9],dst[10]=v2*m[10],dst[11]=v2*m[11],m!==dst&&(dst[12]=m[12],dst[13]=m[13],dst[14]=m[14],dst[15]=m[15]),dst},scaling:function scaling(v,dst){return(dst=dst||new MatType(16))[0]=v[0],dst[1]=0,dst[2]=0,dst[3]=0,dst[4]=0,dst[5]=v[1],dst[6]=0,dst[7]=0,dst[8]=0,dst[9]=0,dst[10]=v[2],dst[11]=0,dst[12]=0,dst[13]=0,dst[14]=0,dst[15]=1,dst},setAxis:function setAxis(a,v,axis,dst){dst!==a&&(dst=copy$1(a,dst));var off=4*axis;return dst[off+0]=v[0],dst[off+1]=v[1],dst[off+2]=v[2],dst},setDefaultType:function setDefaultType$1(ctor){var oldType=MatType;return MatType=ctor,oldType},setTranslation:function setTranslation(a,v,dst){return a!==(dst=dst||identity())&&(dst[0]=a[0],dst[1]=a[1],dst[2]=a[2],dst[3]=a[3],dst[4]=a[4],dst[5]=a[5],dst[6]=a[6],dst[7]=a[7],dst[8]=a[8],dst[9]=a[9],dst[10]=a[10],dst[11]=a[11]),dst[12]=v[0],dst[13]=v[1],dst[14]=v[2],dst[15]=1,dst},transformDirection:transformDirection,transformNormal:function transformNormal(m,v,dst){dst=dst||create();var mi=inverse(m),v0=v[0],v1=v[1],v2=v[2];return dst[0]=v0*mi[0]+v1*mi[1]+v2*mi[2],dst[1]=v0*mi[4]+v1*mi[5]+v2*mi[6],dst[2]=v0*mi[8]+v1*mi[9]+v2*mi[10],dst},transformPoint:transformPoint,translate:function translate(m,v,dst){dst=dst||new MatType(16);var v0=v[0],v1=v[1],v2=v[2],m00=m[0],m01=m[1],m02=m[2],m03=m[3],m10=m[4],m11=m[5],m12=m[6],m13=m[7],m20=m[8],m21=m[9],m22=m[10],m23=m[11],m30=m[12],m31=m[13],m32=m[14],m33=m[15];return m!==dst&&(dst[0]=m00,dst[1]=m01,dst[2]=m02,dst[3]=m03,dst[4]=m10,dst[5]=m11,dst[6]=m12,dst[7]=m13,dst[8]=m20,dst[9]=m21,dst[10]=m22,dst[11]=m23),dst[12]=m00*v0+m10*v1+m20*v2+m30,dst[13]=m01*v0+m11*v1+m21*v2+m31,dst[14]=m02*v0+m12*v1+m22*v2+m32,dst[15]=m03*v0+m13*v1+m23*v2+m33,dst},translation:function translation(v,dst){return(dst=dst||new MatType(16))[0]=1,dst[1]=0,dst[2]=0,dst[3]=0,dst[4]=0,dst[5]=1,dst[6]=0,dst[7]=0,dst[8]=0,dst[9]=0,dst[10]=1,dst[11]=0,dst[12]=v[0],dst[13]=v[1],dst[14]=v[2],dst[15]=1,dst},transpose:function transpose(m,dst){var t;if((dst=dst||new MatType(16))===m)return t=m[1],m[1]=m[4],m[4]=t,t=m[2],m[2]=m[8],m[8]=t,t=m[3],m[3]=m[12],m[12]=t,t=m[6],m[6]=m[9],m[9]=t,t=m[7],m[7]=m[13],m[13]=t,t=m[11],m[11]=m[14],m[14]=t,dst;var m00=m[0],m01=m[1],m02=m[2],m03=m[3],m10=m[4],m11=m[5],m12=m[6],m13=m[7],m20=m[8],m21=m[9],m22=m[10],m23=m[11],m30=m[12],m31=m[13],m32=m[14],m33=m[15];return dst[0]=m00,dst[1]=m10,dst[2]=m20,dst[3]=m30,dst[4]=m01,dst[5]=m11,dst[6]=m21,dst[7]=m31,dst[8]=m02,dst[9]=m12,dst[10]=m22,dst[11]=m32,dst[12]=m03,dst[13]=m13,dst[14]=m23,dst[15]=m33,dst}}),glTypeToTypedArray={},tt=glTypeToTypedArray;function getGLTypeForTypedArray(typedArray){if(typedArray instanceof Int8Array)return 5120;if(typedArray instanceof Uint8Array)return 5121;if(typedArray instanceof Uint8ClampedArray)return 5121;if(typedArray instanceof Int16Array)return 5122;if(typedArray instanceof Uint16Array)return 5123;if(typedArray instanceof Int32Array)return 5124;if(typedArray instanceof Uint32Array)return 5125;if(typedArray instanceof Float32Array)return 5126;throw new Error("unsupported typed array type")}tt[5120]=Int8Array,tt[5121]=Uint8Array,tt[5122]=Int16Array,tt[5123]=Uint16Array,tt[5124]=Int32Array,tt[5125]=Uint32Array,tt[5126]=Float32Array,tt[32819]=Uint16Array,tt[32820]=Uint16Array,tt[33635]=Uint16Array,tt[5131]=Uint16Array,tt[33640]=Uint32Array,tt[35899]=Uint32Array,tt[35902]=Uint32Array,tt[36269]=Uint32Array,tt[34042]=Uint32Array;var isArrayBuffer="undefined"!=typeof SharedArrayBuffer?function isArrayBufferOrSharedArrayBuffer(a){return a&&a.buffer&&(a.buffer instanceof ArrayBuffer||a.buffer instanceof SharedArrayBuffer)}:function isArrayBuffer(a){return a&&a.buffer&&a.buffer instanceof ArrayBuffer};function error(){var _console;(_console=console).error.apply(_console,arguments)}function warn(){var _console2;(_console2=console).warn.apply(_console2,arguments)}function isTexture(gl,t){return"undefined"!=typeof WebGLTexture&&t instanceof WebGLTexture}var defaults_attribPrefix="";function setBufferFromTypedArray(gl,type,buffer,array,drawType){gl.bindBuffer(type,buffer),gl.bufferData(type,array,drawType||35044)}function createBufferFromTypedArray(gl,typedArray,type,drawType){if(function isBuffer(gl,t){return"undefined"!=typeof WebGLBuffer&&t instanceof WebGLBuffer}(0,typedArray))return typedArray;type=type||34962;var buffer=gl.createBuffer();return setBufferFromTypedArray(gl,type,buffer,typedArray,drawType),buffer}function isIndices(name){return"indices"===name}function getArray(array){return array.length?array:array.data}var texcoordRE=/coord|texture/i,colorRE=/color|colour/i;function guessNumComponentsFromName(name,length){var numComponents;if(length%(numComponents=texcoordRE.test(name)?2:colorRE.test(name)?4:3)>0)throw new Error("Can not guess numComponents for attribute '".concat(name,"'. Tried ").concat(numComponents," but ").concat(length," values is not evenly divisible by ").concat(numComponents,". You should specify it."));return numComponents}function getNumComponents(array,arrayName){return array.numComponents||array.size||guessNumComponentsFromName(arrayName,getArray(array).length)}function makeTypedArray(array,name){if(isArrayBuffer(array))return array;if(isArrayBuffer(array.data))return array.data;Array.isArray(array)&&(array={data:array});var Type=array.type;return Type||(Type=isIndices(name)?Uint16Array:Float32Array),new Type(array.data)}function createAttribsFromArrays(gl,arrays){var attribs={};return Object.keys(arrays).forEach((function(arrayName){if(!isIndices(arrayName)){var array=arrays[arrayName],attribName=array.attrib||array.name||array.attribName||defaults_attribPrefix+arrayName;if(array.value){if(!Array.isArray(array.value)&&!isArrayBuffer(array.value))throw new Error("array.value is not array or typedarray");attribs[attribName]={value:array.value}}else{var buffer,type,normalization,numComponents;if(array.buffer&&array.buffer instanceof WebGLBuffer)buffer=array.buffer,numComponents=array.numComponents||array.size,type=array.type,normalization=array.normalize;else if("number"==typeof array||"number"==typeof array.data){var numValues=array.data||array,arrayType=array.type||Float32Array,numBytes=numValues*arrayType.BYTES_PER_ELEMENT;type=function getGLTypeForTypedArrayType(typedArrayType){if(typedArrayType===Int8Array)return 5120;if(typedArrayType===Uint8Array)return 5121;if(typedArrayType===Uint8ClampedArray)return 5121;if(typedArrayType===Int16Array)return 5122;if(typedArrayType===Uint16Array)return 5123;if(typedArrayType===Int32Array)return 5124;if(typedArrayType===Uint32Array)return 5125;if(typedArrayType===Float32Array)return 5126;throw new Error("unsupported typed array type")}(arrayType),normalization=void 0!==array.normalize?array.normalize:function getNormalizationForTypedArrayType(typedArrayType){return typedArrayType===Int8Array||typedArrayType===Uint8Array}(arrayType),numComponents=array.numComponents||array.size||guessNumComponentsFromName(arrayName,numValues),buffer=gl.createBuffer(),gl.bindBuffer(34962,buffer),gl.bufferData(34962,numBytes,array.drawType||35044)}else{var typedArray=makeTypedArray(array,arrayName);buffer=createBufferFromTypedArray(gl,typedArray,void 0,array.drawType),type=getGLTypeForTypedArray(typedArray),normalization=void 0!==array.normalize?array.normalize:function getNormalizationForTypedArray(typedArray){return typedArray instanceof Int8Array||typedArray instanceof Uint8Array}(typedArray),numComponents=getNumComponents(array,arrayName)}attribs[attribName]={buffer:buffer,numComponents:numComponents,type:type,normalize:normalization,stride:array.stride||0,offset:array.offset||0,divisor:void 0===array.divisor?void 0:array.divisor,drawType:array.drawType}}}})),gl.bindBuffer(34962,null),attribs}var positionKeys=["position","positions","a_position"];function createBufferInfoFromArrays(gl,arrays,srcBufferInfo){var newAttribs=createAttribsFromArrays(gl,arrays),bufferInfo=Object.assign({},srcBufferInfo||{});bufferInfo.attribs=Object.assign({},srcBufferInfo?srcBufferInfo.attribs:{},newAttribs);var indices=arrays.indices;if(indices){var newIndices=makeTypedArray(indices,"indices");bufferInfo.indices=createBufferFromTypedArray(gl,newIndices,34963),bufferInfo.numElements=newIndices.length,bufferInfo.elementType=getGLTypeForTypedArray(newIndices)}else bufferInfo.numElements||(bufferInfo.numElements=function getNumElementsFromAttributes(gl,attribs){var key,ii;for(ii=0;ii<positionKeys.length&&!((key=positionKeys[ii])in attribs)&&!((key=defaults_attribPrefix+key)in attribs);++ii);ii===positionKeys.length&&(key=Object.keys(attribs)[0]);var attrib=attribs[key];gl.bindBuffer(34962,attrib.buffer);var numBytes=gl.getBufferParameter(34962,34660);gl.bindBuffer(34962,null);var totalElements=numBytes/function getBytesPerValueForGLType(gl,type){return 5120===type||5121===type?1:5122===type||5123===type?2:5124===type||5125===type||5126===type?4:0}(0,attrib.type),numComponents=attrib.numComponents||attrib.size,numElements=totalElements/numComponents;if(numElements%1!=0)throw new Error("numComponents ".concat(numComponents," not correct for length ").concat(length));return numElements}(gl,bufferInfo.attribs));return bufferInfo}function createBuffersFromArrays(gl,arrays){var buffers={};return Object.keys(arrays).forEach((function(key){buffers[key]=function createBufferFromArray(gl,array,arrayName){var type="indices"===arrayName?34963:34962;return createBufferFromTypedArray(gl,makeTypedArray(array,arrayName),type)}(gl,arrays[key],key)})),arrays.indices?(buffers.numElements=arrays.indices.length,buffers.elementType=getGLTypeForTypedArray(makeTypedArray(arrays.indices))):buffers.numElements=function getNumElementsFromNonIndexedArrays(arrays){var key,ii;for(ii=0;ii<positionKeys.length&&!((key=positionKeys[ii])in arrays);++ii);ii===positionKeys.length&&(key=Object.keys(arrays)[0]);var array=arrays[key],length=getArray(array).length,numComponents=getNumComponents(array,key),numElements=length/numComponents;if(length%numComponents>0)throw new Error("numComponents ".concat(numComponents," not correct for length ").concat(length));return numElements}(arrays),buffers}var getArray$1=getArray,getNumComponents$1=getNumComponents;function augmentTypedArray(typedArray,numComponents){var cursor=0;return typedArray.push=function(){for(var ii=0;ii<arguments.length;++ii){var value=arguments[ii];if(value instanceof Array||isArrayBuffer(value))for(var jj=0;jj<value.length;++jj)typedArray[cursor++]=value[jj];else typedArray[cursor++]=value}},typedArray.reset=function(opt_index){cursor=opt_index||0},typedArray.numComponents=numComponents,Object.defineProperty(typedArray,"numElements",{get:function get(){return this.length/this.numComponents|0}}),typedArray}function createAugmentedTypedArray(numComponents,numElements,opt_type){return augmentTypedArray(new(opt_type||Float32Array)(numComponents*numElements),numComponents)}function allButIndices(name){return"indices"!==name}function applyFuncToV3Array(array,matrix,fn){for(var len=array.length,tmp=new Float32Array(3),ii=0;ii<len;ii+=3)fn(matrix,[array[ii],array[ii+1],array[ii+2]],tmp),array[ii]=tmp[0],array[ii+1]=tmp[1],array[ii+2]=tmp[2]}function transformNormal$1(mi,v,dst){dst=dst||create();var v0=v[0],v1=v[1],v2=v[2];return dst[0]=v0*mi[0]+v1*mi[1]+v2*mi[2],dst[1]=v0*mi[4]+v1*mi[5]+v2*mi[6],dst[2]=v0*mi[8]+v1*mi[9]+v2*mi[10],dst}function reorientDirections(array,matrix){return applyFuncToV3Array(array,matrix,transformDirection),array}function reorientNormals(array,matrix){return applyFuncToV3Array(array,inverse(matrix),transformNormal$1),array}function reorientPositions(array,matrix){return applyFuncToV3Array(array,matrix,transformPoint),array}function reorientVertices(arrays,matrix){return Object.keys(arrays).forEach((function(name){var array=arrays[name];name.indexOf("pos")>=0?reorientPositions(array,matrix):name.indexOf("tan")>=0||name.indexOf("binorm")>=0?reorientDirections(array,matrix):name.indexOf("norm")>=0&&reorientNormals(array,matrix)})),arrays}function createXYQuadVertices(size,xOffset,yOffset){return size=size||2,{position:{numComponents:2,data:[(xOffset=xOffset||0)+-1*(size*=.5),(yOffset=yOffset||0)+-1*size,xOffset+1*size,yOffset+-1*size,xOffset+-1*size,yOffset+1*size,xOffset+1*size,yOffset+1*size]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function createPlaneVertices(width,depth,subdivisionsWidth,subdivisionsDepth,matrix){width=width||1,depth=depth||1,subdivisionsWidth=subdivisionsWidth||1,subdivisionsDepth=subdivisionsDepth||1,matrix=matrix||identity();for(var numVertices=(subdivisionsWidth+1)*(subdivisionsDepth+1),positions=createAugmentedTypedArray(3,numVertices),normals=createAugmentedTypedArray(3,numVertices),texcoords=createAugmentedTypedArray(2,numVertices),z=0;z<=subdivisionsDepth;z++)for(var x=0;x<=subdivisionsWidth;x++){var u=x/subdivisionsWidth,v=z/subdivisionsDepth;positions.push(width*u-.5*width,0,depth*v-.5*depth),normals.push(0,1,0),texcoords.push(u,v)}for(var numVertsAcross=subdivisionsWidth+1,indices=createAugmentedTypedArray(3,subdivisionsWidth*subdivisionsDepth*2,Uint16Array),_z=0;_z<subdivisionsDepth;_z++)for(var _x=0;_x<subdivisionsWidth;_x++)indices.push((_z+0)*numVertsAcross+_x,(_z+1)*numVertsAcross+_x,(_z+0)*numVertsAcross+_x+1),indices.push((_z+1)*numVertsAcross+_x,(_z+1)*numVertsAcross+_x+1,(_z+0)*numVertsAcross+_x+1);return reorientVertices({position:positions,normal:normals,texcoord:texcoords,indices:indices},matrix)}function createSphereVertices(radius,subdivisionsAxis,subdivisionsHeight,opt_startLatitudeInRadians,opt_endLatitudeInRadians,opt_startLongitudeInRadians,opt_endLongitudeInRadians){if(subdivisionsAxis<=0||subdivisionsHeight<=0)throw new Error("subdivisionAxis and subdivisionHeight must be > 0");opt_startLatitudeInRadians=opt_startLatitudeInRadians||0,opt_startLongitudeInRadians=opt_startLongitudeInRadians||0;for(var latRange=(opt_endLatitudeInRadians=opt_endLatitudeInRadians||Math.PI)-opt_startLatitudeInRadians,longRange=(opt_endLongitudeInRadians=opt_endLongitudeInRadians||2*Math.PI)-opt_startLongitudeInRadians,numVertices=(subdivisionsAxis+1)*(subdivisionsHeight+1),positions=createAugmentedTypedArray(3,numVertices),normals=createAugmentedTypedArray(3,numVertices),texcoords=createAugmentedTypedArray(2,numVertices),y=0;y<=subdivisionsHeight;y++)for(var x=0;x<=subdivisionsAxis;x++){var u=x/subdivisionsAxis,v=y/subdivisionsHeight,theta=longRange*u+opt_startLongitudeInRadians,phi=latRange*v+opt_startLatitudeInRadians,sinTheta=Math.sin(theta),cosTheta=Math.cos(theta),sinPhi=Math.sin(phi),ux=cosTheta*sinPhi,uy=Math.cos(phi),uz=sinTheta*sinPhi;positions.push(radius*ux,radius*uy,radius*uz),normals.push(ux,uy,uz),texcoords.push(1-u,v)}for(var numVertsAround=subdivisionsAxis+1,indices=createAugmentedTypedArray(3,subdivisionsAxis*subdivisionsHeight*2,Uint16Array),_x2=0;_x2<subdivisionsAxis;_x2++)for(var _y=0;_y<subdivisionsHeight;_y++)indices.push((_y+0)*numVertsAround+_x2,(_y+0)*numVertsAround+_x2+1,(_y+1)*numVertsAround+_x2),indices.push((_y+1)*numVertsAround+_x2,(_y+0)*numVertsAround+_x2+1,(_y+1)*numVertsAround+_x2+1);return{position:positions,normal:normals,texcoord:texcoords,indices:indices}}var CUBE_FACE_INDICES=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function createCubeVertices(size){for(var k=(size=size||1)/2,cornerVertices=[[-k,-k,-k],[+k,-k,-k],[-k,+k,-k],[+k,+k,-k],[-k,-k,+k],[+k,-k,+k],[-k,+k,+k],[+k,+k,+k]],faceNormals=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],uvCoords=[[1,0],[0,0],[0,1],[1,1]],positions=createAugmentedTypedArray(3,24),normals=createAugmentedTypedArray(3,24),texcoords=createAugmentedTypedArray(2,24),indices=createAugmentedTypedArray(3,12,Uint16Array),f=0;f<6;++f){for(var faceIndices=CUBE_FACE_INDICES[f],v=0;v<4;++v){var position=cornerVertices[faceIndices[v]],normal=faceNormals[f],uv=uvCoords[v];positions.push(position),normals.push(normal),texcoords.push(uv)}var offset=4*f;indices.push(offset+0,offset+1,offset+2),indices.push(offset+0,offset+2,offset+3)}return{position:positions,normal:normals,texcoord:texcoords,indices:indices}}function createTruncatedConeVertices(bottomRadius,topRadius,height,radialSubdivisions,verticalSubdivisions,opt_topCap,opt_bottomCap){if(radialSubdivisions<3)throw new Error("radialSubdivisions must be 3 or greater");if(verticalSubdivisions<1)throw new Error("verticalSubdivisions must be 1 or greater");for(var topCap=void 0===opt_topCap||opt_topCap,bottomCap=void 0===opt_bottomCap||opt_bottomCap,extra=(topCap?2:0)+(bottomCap?2:0),numVertices=(radialSubdivisions+1)*(verticalSubdivisions+1+extra),positions=createAugmentedTypedArray(3,numVertices),normals=createAugmentedTypedArray(3,numVertices),texcoords=createAugmentedTypedArray(2,numVertices),indices=createAugmentedTypedArray(3,radialSubdivisions*(verticalSubdivisions+extra/2)*2,Uint16Array),vertsAroundEdge=radialSubdivisions+1,slant=Math.atan2(bottomRadius-topRadius,height),cosSlant=Math.cos(slant),sinSlant=Math.sin(slant),end=verticalSubdivisions+(bottomCap?2:0),yy=topCap?-2:0;yy<=end;++yy){var v=yy/verticalSubdivisions,y=height*v,ringRadius=void 0;yy<0?(y=0,v=1,ringRadius=bottomRadius):yy>verticalSubdivisions?(y=height,v=1,ringRadius=topRadius):ringRadius=bottomRadius+yy/verticalSubdivisions*(topRadius-bottomRadius),-2!==yy&&yy!==verticalSubdivisions+2||(ringRadius=0,v=0),y-=height/2;for(var ii=0;ii<vertsAroundEdge;++ii){var sin=Math.sin(ii*Math.PI*2/radialSubdivisions),cos=Math.cos(ii*Math.PI*2/radialSubdivisions);positions.push(sin*ringRadius,y,cos*ringRadius),yy<0?normals.push(0,-1,0):yy>verticalSubdivisions?normals.push(0,1,0):0===ringRadius?normals.push(0,0,0):normals.push(sin*cosSlant,sinSlant,cos*cosSlant),texcoords.push(ii/radialSubdivisions,1-v)}}for(var _yy=0;_yy<verticalSubdivisions+extra;++_yy)if(!(1===_yy&&topCap||_yy===verticalSubdivisions+extra-2&&bottomCap))for(var _ii=0;_ii<radialSubdivisions;++_ii)indices.push(vertsAroundEdge*(_yy+0)+0+_ii,vertsAroundEdge*(_yy+0)+1+_ii,vertsAroundEdge*(_yy+1)+1+_ii),indices.push(vertsAroundEdge*(_yy+0)+0+_ii,vertsAroundEdge*(_yy+1)+1+_ii,vertsAroundEdge*(_yy+1)+0+_ii);return{position:positions,normal:normals,texcoord:texcoords,indices:indices}}function expandRLEData(rleData,padding){padding=padding||[];for(var data=[],ii=0;ii<rleData.length;ii+=4){var runLength=rleData[ii],element=rleData.slice(ii+1,ii+4);element.push.apply(element,padding);for(var jj=0;jj<runLength;++jj)data.push.apply(data,element)}return data}function create3DFVertices(){var positions=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],normals=expandRLEData([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),colors=expandRLEData([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),numVerts=positions.length/3,arrays={position:createAugmentedTypedArray(3,numVerts),texcoord:createAugmentedTypedArray(2,numVerts),normal:createAugmentedTypedArray(3,numVerts),color:createAugmentedTypedArray(4,numVerts,Uint8Array),indices:createAugmentedTypedArray(3,numVerts/3,Uint16Array)};arrays.position.push(positions),arrays.texcoord.push([.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]),arrays.normal.push(normals),arrays.color.push(colors);for(var ii=0;ii<numVerts;++ii)arrays.indices.push(ii);return arrays}function createCrescentVertices(verticalRadius,outerRadius,innerRadius,thickness,subdivisionsDown,startOffset,endOffset){if(subdivisionsDown<=0)throw new Error("subdivisionDown must be > 0");var offsetRange=(endOffset=endOffset||1)-(startOffset=startOffset||0),numVertices=2*(subdivisionsDown+1)*4,positions=createAugmentedTypedArray(3,numVertices),normals=createAugmentedTypedArray(3,numVertices),texcoords=createAugmentedTypedArray(2,numVertices);function lerp(a,b,s){return a+(b-a)*s}function createArc(arcRadius,x,normalMult,normalAdd,uMult,uAdd){for(var z=0;z<=subdivisionsDown;z++){var uBack=x/1,v=z/subdivisionsDown,xBack=2*(uBack-.5),angle=(startOffset+v*offsetRange)*Math.PI,s=Math.sin(angle),c=Math.cos(angle),radius=lerp(verticalRadius,arcRadius,s),px=xBack*thickness,py=c*verticalRadius,pz=s*radius;positions.push(px,py,pz);var n=add((a=[0,s,c],b=normalMult,(dst=(dst=void 0)||new VecType(3))[0]=a[0]*b[0],dst[1]=a[1]*b[1],dst[2]=a[2]*b[2],dst),normalAdd);normals.push(n),texcoords.push(uBack*uMult+uAdd,v)}var a,b,dst}for(var x=0;x<2;x++){var uBack=2*(x/1-.5);createArc(outerRadius,x,[1,1,1],[0,0,0],1,0),createArc(outerRadius,x,[0,0,0],[uBack,0,0],0,0),createArc(innerRadius,x,[1,1,1],[0,0,0],1,0),createArc(innerRadius,x,[0,0,0],[uBack,0,0],0,1)}var indices=createAugmentedTypedArray(3,2*subdivisionsDown*4,Uint16Array);function createSurface(leftArcOffset,rightArcOffset){for(var z=0;z<subdivisionsDown;++z)indices.push(leftArcOffset+z+0,leftArcOffset+z+1,rightArcOffset+z+0),indices.push(leftArcOffset+z+1,rightArcOffset+z+1,rightArcOffset+z+0)}var numVerticesDown=subdivisionsDown+1;return createSurface(0*numVerticesDown,4*numVerticesDown),createSurface(5*numVerticesDown,7*numVerticesDown),createSurface(6*numVerticesDown,2*numVerticesDown),createSurface(3*numVerticesDown,1*numVerticesDown),{position:positions,normal:normals,texcoord:texcoords,indices:indices}}function createCylinderVertices(radius,height,radialSubdivisions,verticalSubdivisions,topCap,bottomCap){return createTruncatedConeVertices(radius,radius,height,radialSubdivisions,verticalSubdivisions,topCap,bottomCap)}function createTorusVertices(radius,thickness,radialSubdivisions,bodySubdivisions,startAngle,endAngle){if(radialSubdivisions<3)throw new Error("radialSubdivisions must be 3 or greater");if(bodySubdivisions<3)throw new Error("verticalSubdivisions must be 3 or greater");startAngle=startAngle||0;for(var range=(endAngle=endAngle||2*Math.PI)-startAngle,radialParts=radialSubdivisions+1,bodyParts=bodySubdivisions+1,numVertices=radialParts*bodyParts,positions=createAugmentedTypedArray(3,numVertices),normals=createAugmentedTypedArray(3,numVertices),texcoords=createAugmentedTypedArray(2,numVertices),indices=createAugmentedTypedArray(3,radialSubdivisions*bodySubdivisions*2,Uint16Array),slice=0;slice<bodyParts;++slice)for(var v=slice/bodySubdivisions,sliceAngle=v*Math.PI*2,sliceSin=Math.sin(sliceAngle),ringRadius=radius+sliceSin*thickness,ny=Math.cos(sliceAngle),y=ny*thickness,ring=0;ring<radialParts;++ring){var u=ring/radialSubdivisions,ringAngle=startAngle+u*range,xSin=Math.sin(ringAngle),zCos=Math.cos(ringAngle),x=xSin*ringRadius,z=zCos*ringRadius,nx=xSin*sliceSin,nz=zCos*sliceSin;positions.push(x,y,z),normals.push(nx,ny,nz),texcoords.push(u,1-v)}for(var _slice=0;_slice<bodySubdivisions;++_slice)for(var _ring=0;_ring<radialSubdivisions;++_ring){var nextRingIndex=1+_ring,nextSliceIndex=1+_slice;indices.push(radialParts*_slice+_ring,radialParts*nextSliceIndex+_ring,radialParts*_slice+nextRingIndex),indices.push(radialParts*nextSliceIndex+_ring,radialParts*nextSliceIndex+nextRingIndex,radialParts*_slice+nextRingIndex)}return{position:positions,normal:normals,texcoord:texcoords,indices:indices}}function createDiscVertices(radius,divisions,stacks,innerRadius,stackPower){if(divisions<3)throw new Error("divisions must be at least 3");stackPower=stackPower||1,innerRadius=innerRadius||0;for(var numVertices=(divisions+1)*((stacks=stacks||1)+1),positions=createAugmentedTypedArray(3,numVertices),normals=createAugmentedTypedArray(3,numVertices),texcoords=createAugmentedTypedArray(2,numVertices),indices=createAugmentedTypedArray(3,stacks*divisions*2,Uint16Array),firstIndex=0,radiusSpan=radius-innerRadius,pointsPerStack=divisions+1,stack=0;stack<=stacks;++stack){for(var stackRadius=innerRadius+radiusSpan*Math.pow(stack/stacks,stackPower),i=0;i<=divisions;++i){var theta=2*Math.PI*i/divisions,x=stackRadius*Math.cos(theta),z=stackRadius*Math.sin(theta);if(positions.push(x,0,z),normals.push(0,1,0),texcoords.push(1-i/divisions,stack/stacks),stack>0&&i!==divisions){var a=firstIndex+(i+1),b=firstIndex+i,c=firstIndex+i-pointsPerStack,d=firstIndex+(i+1)-pointsPerStack;indices.push(a,b,c),indices.push(a,c,d)}}firstIndex+=divisions+1}return{position:positions,normal:normals,texcoord:texcoords,indices:indices}}function createBufferFunc(fn){return function(gl){var arrays=fn.apply(this,Array.prototype.slice.call(arguments,1));return createBuffersFromArrays(gl,arrays)}}function createBufferInfoFunc(fn){return function(gl){var arrays=fn.apply(null,Array.prototype.slice.call(arguments,1));return createBufferInfoFromArrays(gl,arrays)}}var arraySpecPropertyNames=["numComponents","size","type","normalize","stride","offset","attrib","name","attribName"];function copyElements(src,dst,dstNdx,offset){offset=offset||0;for(var length=src.length,ii=0;ii<length;++ii)dst[dstNdx+ii]=src[ii]+offset}function createArrayOfSameType(srcArray,length){var arraySrc=getArray$1(srcArray),newArray=new arraySrc.constructor(length),newArraySpec=newArray;return arraySrc.numComponents&&arraySrc.numElements&&augmentTypedArray(newArray,arraySrc.numComponents),srcArray.data&&function copyNamedProperties(names,src,dst){names.forEach((function(name){var value=src[name];void 0!==value&&(dst[name]=value)}))}(arraySpecPropertyNames,srcArray,newArraySpec={data:newArray}),newArraySpec}var create3DFBufferInfo=createBufferInfoFunc(create3DFVertices),create3DFBuffers=createBufferFunc(create3DFVertices),createCubeBufferInfo=createBufferInfoFunc(createCubeVertices),createCubeBuffers=createBufferFunc(createCubeVertices),createPlaneBufferInfo=createBufferInfoFunc(createPlaneVertices),createPlaneBuffers=createBufferFunc(createPlaneVertices),createSphereBufferInfo=createBufferInfoFunc(createSphereVertices),createSphereBuffers=createBufferFunc(createSphereVertices),createTruncatedConeBufferInfo=createBufferInfoFunc(createTruncatedConeVertices),createTruncatedConeBuffers=createBufferFunc(createTruncatedConeVertices),createXYQuadBufferInfo=createBufferInfoFunc(createXYQuadVertices),createXYQuadBuffers=createBufferFunc(createXYQuadVertices),createCrescentBufferInfo=createBufferInfoFunc(createCrescentVertices),createCrescentBuffers=createBufferFunc(createCrescentVertices),createCylinderBufferInfo=createBufferInfoFunc(createCylinderVertices),createCylinderBuffers=createBufferFunc(createCylinderVertices),createTorusBufferInfo=createBufferInfoFunc(createTorusVertices),createTorusBuffers=createBufferFunc(createTorusVertices),createDiscBufferInfo=createBufferInfoFunc(createDiscVertices),createDiscBuffers=createBufferFunc(createDiscVertices),createCresentBufferInfo=createCrescentBufferInfo,createCresentBuffers=createCrescentBuffers,createCresentVertices=createCrescentVertices,primitives=Object.freeze({__proto__:null,create3DFBufferInfo:create3DFBufferInfo,create3DFBuffers:create3DFBuffers,create3DFVertices:create3DFVertices,createAugmentedTypedArray:createAugmentedTypedArray,createCubeBufferInfo:createCubeBufferInfo,createCubeBuffers:createCubeBuffers,createCubeVertices:createCubeVertices,createPlaneBufferInfo:createPlaneBufferInfo,createPlaneBuffers:createPlaneBuffers,createPlaneVertices:createPlaneVertices,createSphereBufferInfo:createSphereBufferInfo,createSphereBuffers:createSphereBuffers,createSphereVertices:createSphereVertices,createTruncatedConeBufferInfo:createTruncatedConeBufferInfo,createTruncatedConeBuffers:createTruncatedConeBuffers,createTruncatedConeVertices:createTruncatedConeVertices,createXYQuadBufferInfo:createXYQuadBufferInfo,createXYQuadBuffers:createXYQuadBuffers,createXYQuadVertices:createXYQuadVertices,createCresentBufferInfo:createCresentBufferInfo,createCresentBuffers:createCresentBuffers,createCresentVertices:createCresentVertices,createCrescentBufferInfo:createCrescentBufferInfo,createCrescentBuffers:createCrescentBuffers,createCrescentVertices:createCrescentVertices,createCylinderBufferInfo:createCylinderBufferInfo,createCylinderBuffers:createCylinderBuffers,createCylinderVertices:createCylinderVertices,createTorusBufferInfo:createTorusBufferInfo,createTorusBuffers:createTorusBuffers,createTorusVertices:createTorusVertices,createDiscBufferInfo:createDiscBufferInfo,createDiscBuffers:createDiscBuffers,createDiscVertices:createDiscVertices,deindexVertices:function deindexVertices(vertices){var indices=vertices.indices,newVertices={},numElements=indices.length;return Object.keys(vertices).filter(allButIndices).forEach((function expandToUnindexed(channel){for(var srcBuffer=vertices[channel],numComponents=srcBuffer.numComponents,dstBuffer=createAugmentedTypedArray(numComponents,numElements,srcBuffer.constructor),ii=0;ii<numElements;++ii)for(var offset=indices[ii]*numComponents,jj=0;jj<numComponents;++jj)dstBuffer.push(srcBuffer[offset+jj]);newVertices[channel]=dstBuffer})),newVertices},flattenNormals:function flattenNormals(vertices){if(vertices.indices)throw new Error("can not flatten normals of indexed vertices. deindex them first");for(var normals=vertices.normal,numNormals=normals.length,ii=0;ii<numNormals;ii+=9){var nax=normals[ii+0],nay=normals[ii+1],naz=normals[ii+2],nbx=normals[ii+3],nby=normals[ii+4],nbz=normals[ii+5],nx=nax+nbx+normals[ii+6],ny=nay+nby+normals[ii+7],nz=naz+nbz+normals[ii+8],_length=Math.sqrt(nx*nx+ny*ny+nz*nz);nx/=_length,ny/=_length,nz/=_length,normals[ii+0]=nx,normals[ii+1]=ny,normals[ii+2]=nz,normals[ii+3]=nx,normals[ii+4]=ny,normals[ii+5]=nz,normals[ii+6]=nx,normals[ii+7]=ny,normals[ii+8]=nz}return vertices},makeRandomVertexColors:function makeRandomVertexColors(vertices,options){options=options||{};var numElements=vertices.position.numElements,vColors=createAugmentedTypedArray(4,numElements,Uint8Array),rand=options.rand||function(ndx,channel){return channel<3?function randInt(range){return Math.random()*range|0}(256):255};if(vertices.color=vColors,vertices.indices)for(var ii=0;ii<numElements;++ii)vColors.push(rand(ii,0),rand(ii,1),rand(ii,2),rand(ii,3));else for(var numVertsPerColor=options.vertsPerColor||3,numSets=numElements/numVertsPerColor,_ii2=0;_ii2<numSets;++_ii2)for(var color=[rand(_ii2,0),rand(_ii2,1),rand(_ii2,2),rand(_ii2,3)],jj=0;jj<numVertsPerColor;++jj)vColors.push(color);return vertices},reorientDirections:reorientDirections,reorientNormals:reorientNormals,reorientPositions:reorientPositions,reorientVertices:reorientVertices,concatVertices:function concatVertices(arrayOfArrays){for(var baseName,names={},_loop=function _loop(ii){var arrays=arrayOfArrays[ii];Object.keys(arrays).forEach((function(name){names[name]||(names[name]=[]),baseName||"indices"===name||(baseName=name);var arrayInfo=arrays[name],numComponents=getNumComponents$1(arrayInfo,name),numElements=getArray$1(arrayInfo).length/numComponents;names[name].push(numElements)}))},ii=0;ii<arrayOfArrays.length;++ii)_loop(ii);var base=names[baseName],newArrays={};return Object.keys(names).forEach((function(name){var info=function getLengthOfCombinedArrays(name){for(var arraySpec,length=0,_ii3=0;_ii3<arrayOfArrays.length;++_ii3){var arrayInfo=arrayOfArrays[_ii3][name];length+=getArray$1(arrayInfo).length,arraySpec&&!arrayInfo.data||(arraySpec=arrayInfo)}return{length:length,spec:arraySpec}}(name),newArraySpec=createArrayOfSameType(info.spec,info.length);!function copyArraysToNewArray(name,base,newArray){for(var baseIndex=0,offset=0,_ii4=0;_ii4<arrayOfArrays.length;++_ii4){var arrayInfo=arrayOfArrays[_ii4][name],array=getArray$1(arrayInfo);"indices"===name?(copyElements(array,newArray,offset,baseIndex),baseIndex+=base[_ii4]):copyElements(array,newArray,offset),offset+=array.length}}(name,base,getArray$1(newArraySpec)),newArrays[name]=newArraySpec})),newArrays},duplicateVertices:function duplicateVertices(arrays){var newArrays={};return Object.keys(arrays).forEach((function(name){var arraySpec=arrays[name],srcArray=getArray$1(arraySpec),newArraySpec=createArrayOfSameType(arraySpec,srcArray.length);copyElements(srcArray,getArray$1(newArraySpec),0),newArrays[name]=newArraySpec})),newArrays}});function isWebGL2(gl){return!!gl.texStorage2D}function isWebGL1(gl){return!gl.texStorage2D}var haveEnumsForType,enums,s_ctx,glEnumToString=(haveEnumsForType={},enums={},function glEnumToString(gl,value){return function addEnums(gl){var type=gl.constructor.name;if(!haveEnumsForType[type]){for(var key in gl)if("number"==typeof gl[key]){var existing=enums[gl[key]];enums[gl[key]]=existing?"".concat(existing," | ").concat(key):key}haveEnumsForType[type]=!0}}(gl),enums[value]||"0x"+value.toString(16)}),defaults$1={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},isArrayBuffer$1=isArrayBuffer;function getShared2DContext(){return s_ctx=s_ctx||("undefined"!=typeof document&&document.createElement?document.createElement("canvas").getContext("2d"):null)}var s_textureInternalFormatInfo,RGB=6407,RG=33319,f={6406:{numColorComponents:1},6409:{numColorComponents:1},6410:{numColorComponents:2},6407:{numColorComponents:3},6408:{numColorComponents:4},6403:{numColorComponents:1},36244:{numColorComponents:1},33319:{numColorComponents:2},33320:{numColorComponents:2}};function getTextureInternalFormatInfo(internalFormat){if(!s_textureInternalFormatInfo){var t={6406:{textureFormat:6406,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[5121,5131,36193,5126]},6409:{textureFormat:6409,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[5121,5131,36193,5126]},6410:{textureFormat:6410,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[5121,5131,36193,5126]}};t[RGB]={textureFormat:RGB,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[5121,5131,36193,5126,33635]},t[6408]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[5121,5131,36193,5126,32819,32820]},t[33321]={textureFormat:6403,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[5121]},t[36756]={textureFormat:6403,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[5120]},t[33325]={textureFormat:6403,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[5126,5131]},t[33326]={textureFormat:6403,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[5126]},t[33330]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[5121]},t[33329]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[5120]},t[33332]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5123]},t[33331]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5122]},t[33334]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5125]},t[33333]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5124]},t[33323]={textureFormat:RG,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[5121]},t[36757]={textureFormat:RG,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[5120]},t[33327]={textureFormat:RG,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[5126,5131]},t[33328]={textureFormat:RG,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[5126]},t[33336]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5121]},t[33335]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5120]},t[33338]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5123]},t[33337]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5122]},t[33340]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5125]},t[33339]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5124]},t[32849]={textureFormat:RGB,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[5121]},t[35905]={textureFormat:RGB,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[5121]},t[36194]={textureFormat:RGB,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[5121,33635]},t[36758]={textureFormat:RGB,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[5120]},t[35898]={textureFormat:RGB,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[5126,5131,35899]},t[35901]={textureFormat:RGB,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[5126,5131,35902]},t[34843]={textureFormat:RGB,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[5126,5131]},t[34837]={textureFormat:RGB,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5126]},t[36221]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[5121]},t[36239]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[5120]},t[36215]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[5123]},t[36233]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[5122]},t[36209]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5125]},t[36227]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5124]},t[32856]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[5121]},t[35907]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[5121]},t[36759]={textureFormat:6408,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[5120]},t[32855]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[5121,32820,33640]},t[32854]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[5121,32819]},t[32857]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[33640]},t[34842]={textureFormat:6408,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[5126,5131]},t[34836]={textureFormat:6408,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[5126]},t[36220]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5121]},t[36238]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5120]},t[36975]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[33640]},t[36214]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5123]},t[36232]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5122]},t[36226]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[5124]},t[36208]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[5125]},t[33189]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[5123,5125]},t[33190]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5125]},t[36012]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5126]},t[35056]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[34042]},t[36013]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[36269]},Object.keys(t).forEach((function(internalFormat){var info=t[internalFormat];info.bytesPerElementMap={},info.bytesPerElement.forEach((function(bytesPerElement,ndx){var type=info.type[ndx];info.bytesPerElementMap[type]=bytesPerElement}))})),s_textureInternalFormatInfo=t}return s_textureInternalFormatInfo[internalFormat]}function getFormatAndTypeForInternalFormat(internalFormat){var info=getTextureInternalFormatInfo(internalFormat);if(!info)throw"unknown internal format";return{format:info.textureFormat,type:info.type[0]}}function isPowerOf2(value){return 0==(value&value-1)}function guessDimensions(gl,target,width,height,numElements){if(numElements%1!=0)throw"can't guess dimensions";if(width||height){if(height){if(!width&&(width=numElements/height)%1)throw"can't guess dimensions"}else if((height=numElements/width)%1)throw"can't guess dimensions"}else{var size=Math.sqrt(numElements/(34067===target?6:1));size%1==0?(width=size,height=size):(width=numElements,height=1)}return{width:width,height:height}}f[RGB]={numColorComponents:3},f[36248]={numColorComponents:3},f[6408]={numColorComponents:4},f[36249]={numColorComponents:4},f[6402]={numColorComponents:1},f[34041]={numColorComponents:2};var lastPackState={};function savePackState(gl,options){void 0!==options.colorspaceConversion&&(lastPackState.colorspaceConversion=gl.getParameter(37443),gl.pixelStorei(37443,options.colorspaceConversion)),void 0!==options.premultiplyAlpha&&(lastPackState.premultiplyAlpha=gl.getParameter(37441),gl.pixelStorei(37441,options.premultiplyAlpha)),void 0!==options.flipY&&(lastPackState.flipY=gl.getParameter(37440),gl.pixelStorei(37440,options.flipY))}function restorePackState(gl,options){void 0!==options.colorspaceConversion&&gl.pixelStorei(37443,lastPackState.colorspaceConversion),void 0!==options.premultiplyAlpha&&gl.pixelStorei(37441,lastPackState.premultiplyAlpha),void 0!==options.flipY&&gl.pixelStorei(37440,lastPackState.flipY)}function saveSkipState(gl){lastPackState.unpackAlignment=gl.getParameter(3317),isWebGL2(gl)&&(lastPackState.unpackRowLength=gl.getParameter(3314),lastPackState.unpackImageHeight=gl.getParameter(32878),lastPackState.unpackSkipPixels=gl.getParameter(3316),lastPackState.unpackSkipRows=gl.getParameter(3315),lastPackState.unpackSkipImages=gl.getParameter(32877))}function restoreSkipState(gl){gl.pixelStorei(3317,lastPackState.unpackAlignment),isWebGL2(gl)&&(gl.pixelStorei(3314,lastPackState.unpackRowLength),gl.pixelStorei(32878,lastPackState.unpackImageHeight),gl.pixelStorei(3316,lastPackState.unpackSkipPixels),gl.pixelStorei(3315,lastPackState.unpackSkipRows),gl.pixelStorei(32877,lastPackState.unpackSkipImages))}function setTextureSamplerParameters(gl,target,parameteriFn,options){options.minMag&&(parameteriFn.call(gl,target,10241,options.minMag),parameteriFn.call(gl,target,10240,options.minMag)),options.min&&parameteriFn.call(gl,target,10241,options.min),options.mag&&parameteriFn.call(gl,target,10240,options.mag),options.wrap&&(parameteriFn.call(gl,target,10242,options.wrap),parameteriFn.call(gl,target,10243,options.wrap),(32879===target||function isSampler(gl,t){return"undefined"!=typeof WebGLSampler&&t instanceof WebGLSampler}(0,target))&&parameteriFn.call(gl,target,32882,options.wrap)),options.wrapR&&parameteriFn.call(gl,target,32882,options.wrapR),options.wrapS&&parameteriFn.call(gl,target,10242,options.wrapS),options.wrapT&&parameteriFn.call(gl,target,10243,options.wrapT),options.minLod&&parameteriFn.call(gl,target,33082,options.minLod),options.maxLod&&parameteriFn.call(gl,target,33083,options.maxLod),options.baseLevel&&parameteriFn.call(gl,target,33084,options.baseLevel),options.maxLevel&&parameteriFn.call(gl,target,33085,options.maxLevel)}function setTextureParameters(gl,tex,options){var target=options.target||3553;gl.bindTexture(target,tex),setTextureSamplerParameters(gl,target,gl.texParameteri,options)}function setTextureFilteringForSize(gl,tex,options,width,height,internalFormat){internalFormat=internalFormat||6408;var target=(options=options||defaults$1.textureOptions).target||3553;if(width=width||options.width,height=height||options.height,gl.bindTexture(target,tex),function canGenerateMipmap(gl,width,height,internalFormat){if(!isWebGL2(gl))return isPowerOf2(width)&&isPowerOf2(height);var info=getTextureInternalFormatInfo(internalFormat);if(!info)throw"unknown internal format";return info.colorRenderable&&info.textureFilterable}(gl,width,height,internalFormat))gl.generateMipmap(target);else{var filtering=function canFilter(internalFormat){var info=getTextureInternalFormatInfo(internalFormat);if(!info)throw"unknown internal format";return info.textureFilterable}(internalFormat)?9729:9728;gl.texParameteri(target,10241,filtering),gl.texParameteri(target,10240,filtering),gl.texParameteri(target,10242,33071),gl.texParameteri(target,10243,33071)}}function shouldAutomaticallySetTextureFilteringForSize(options){return!0===options.auto||void 0===options.auto&&void 0===options.level}function getCubeFaceOrder(gl,options){return(options=options||{}).cubeFaceOrder||[34069,34070,34071,34072,34073,34074]}function getCubeFacesWithNdx(gl,options){var facesWithNdx=getCubeFaceOrder(0,options).map((function(face,ndx){return{face:face,ndx:ndx}}));return facesWithNdx.sort((function(a,b){return a.face-b.face})),facesWithNdx}function setTextureFromElement(gl,tex,element,options){var target=(options=options||defaults$1.textureOptions).target||3553,level=options.level||0,width=element.width,height=element.height,internalFormat=options.internalFormat||options.format||6408,formatType=getFormatAndTypeForInternalFormat(internalFormat),format=options.format||formatType.format,type=options.type||formatType.type;if(savePackState(gl,options),gl.bindTexture(target,tex),34067===target){var size,slices,imgWidth=element.width,imgHeight=element.height;if(imgWidth/6===imgHeight)size=imgHeight,slices=[0,0,1,0,2,0,3,0,4,0,5,0];else if(imgHeight/6===imgWidth)size=imgWidth,slices=[0,0,0,1,0,2,0,3,0,4,0,5];else if(imgWidth/3==imgHeight/2)size=imgWidth/3,slices=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(imgWidth/2!=imgHeight/3)throw"can't figure out cube map from element: "+(element.src?element.src:element.nodeName);size=imgWidth/2,slices=[0,0,1,0,0,1,1,1,0,2,1,2]}var ctx=getShared2DContext();ctx?(ctx.canvas.width=size,ctx.canvas.height=size,width=size,height=size,getCubeFacesWithNdx(0,options).forEach((function(f){var xOffset=slices[2*f.ndx+0]*size,yOffset=slices[2*f.ndx+1]*size;ctx.drawImage(element,xOffset,yOffset,size,size,0,0,size,size),gl.texImage2D(f.face,level,internalFormat,format,type,ctx.canvas)})),ctx.canvas.width=1,ctx.canvas.height=1):"undefined"!=typeof createImageBitmap&&(width=size,height=size,getCubeFacesWithNdx(0,options).forEach((function(f){var xOffset=slices[2*f.ndx+0]*size,yOffset=slices[2*f.ndx+1]*size;gl.texImage2D(f.face,level,internalFormat,size,size,0,format,type,null),createImageBitmap(element,xOffset,yOffset,size,size,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then((function(imageBitmap){savePackState(gl,options),gl.bindTexture(target,tex),gl.texImage2D(f.face,level,internalFormat,format,type,imageBitmap),restorePackState(gl,options),shouldAutomaticallySetTextureFilteringForSize(options)&&setTextureFilteringForSize(gl,tex,options,width,height,internalFormat)}))})))}else if(32879===target||35866===target){var smallest=Math.min(element.width,element.height),largest=Math.max(element.width,element.height),depth=largest/smallest;if(depth%1!=0)throw"can not compute 3D dimensions of element";var xMult=element.width===largest?1:0,yMult=element.height===largest?1:0;saveSkipState(gl),gl.pixelStorei(3317,1),gl.pixelStorei(3314,element.width),gl.pixelStorei(32878,0),gl.pixelStorei(32877,0),gl.texImage3D(target,level,internalFormat,smallest,smallest,smallest,0,format,type,null);for(var d=0;d<depth;++d){var srcX=d*smallest*xMult,srcY=d*smallest*yMult;gl.pixelStorei(3316,srcX),gl.pixelStorei(3315,srcY),gl.texSubImage3D(target,level,0,0,d,smallest,smallest,1,format,type,element)}restoreSkipState(gl)}else gl.texImage2D(target,level,internalFormat,format,type,element);restorePackState(gl,options),shouldAutomaticallySetTextureFilteringForSize(options)&&setTextureFilteringForSize(gl,tex,options,width,height,internalFormat),setTextureParameters(gl,tex,options)}function noop(){}function setToAnonymousIfUndefinedAndURLIsNotSameOrigin(url,crossOrigin){return void 0!==crossOrigin||function urlIsSameOrigin(url){if("undefined"!=typeof document){var a=document.createElement("a");return a.href=url,a.hostname===location.hostname&&a.port===location.port&&a.protocol===location.protocol}var localOrigin=new URL(location.href).origin;return new URL(url,location.href).origin===localOrigin}(url)?crossOrigin:"anonymous"}function isTexImageSource(obj){return"undefined"!=typeof ImageBitmap&&obj instanceof ImageBitmap||"undefined"!=typeof ImageData&&obj instanceof ImageData||"undefined"!=typeof HTMLElement&&obj instanceof HTMLElement}function loadAndUseImage(obj,crossOrigin,callback){return isTexImageSource(obj)?(setTimeout((function(){callback(null,obj)})),obj):function loadImage(url,crossOrigin,callback){var img;if(callback=callback||noop,crossOrigin=setToAnonymousIfUndefinedAndURLIsNotSameOrigin(url,crossOrigin=void 0!==crossOrigin?crossOrigin:defaults$1.crossOrigin),"undefined"!=typeof Image){img=new Image,void 0!==crossOrigin&&(img.crossOrigin=crossOrigin);var clearEventHandlers=function clearEventHandlers(){img.removeEventListener("error",onError),img.removeEventListener("load",onLoad),img=null},onError=function onError(){var msg="couldn't load image: "+url;error(msg),callback(msg,img),clearEventHandlers()},onLoad=function onLoad(){callback(null,img),clearEventHandlers()};return img.addEventListener("error",onError),img.addEventListener("load",onLoad),img.src=url,img}if("undefined"!=typeof ImageBitmap){var err,bm,cb=function cb(){callback(err,bm)},options={};crossOrigin&&(options.mode="cors"),fetch(url,options).then((function(response){if(!response.ok)throw response;return response.blob()})).then((function(blob){return createImageBitmap(blob,{premultiplyAlpha:"none",colorSpaceConversion:"none"})})).then((function(bitmap){bm=bitmap,setTimeout(cb)})).catch((function(e){err=e,setTimeout(cb)})),img=null}return img}(obj,crossOrigin,callback)}function setTextureTo1PixelColor(gl,tex,options){var target=(options=options||defaults$1.textureOptions).target||3553;if(gl.bindTexture(target,tex),!1!==options.color){var color=function make1Pixel(color){return isArrayBuffer$1(color=color||defaults$1.textureColor)?color:new Uint8Array([255*color[0],255*color[1],255*color[2],255*color[3]])}(options.color);if(34067===target)for(var ii=0;ii<6;++ii)gl.texImage2D(34069+ii,0,6408,1,1,0,6408,5121,color);else 32879===target||35866===target?gl.texImage3D(target,0,6408,1,1,1,0,6408,5121,color):gl.texImage2D(target,0,6408,1,1,0,6408,5121,color)}}function loadCubemapFromUrls(gl,tex,options,callback){callback=callback||noop;var urls=options.src;if(6!==urls.length)throw"there must be 6 urls for a cubemap";var level=options.level||0,internalFormat=options.internalFormat||options.format||6408,formatType=getFormatAndTypeForInternalFormat(internalFormat),format=options.format||formatType.format,type=options.type||5121,target=options.target||3553;if(34067!==target)throw"target must be TEXTURE_CUBE_MAP";setTextureTo1PixelColor(gl,tex,options),options=Object.assign({},options);var imgs,numToLoad=6,errors=[],faces=getCubeFaceOrder(0,options);imgs=urls.map((function(url,ndx){return loadAndUseImage(url,options.crossOrigin,function uploadImg(faceTarget){return function(err,img){--numToLoad,err?errors.push(err):img.width!==img.height?errors.push("cubemap face img is not a square: "+img.src):(savePackState(gl,options),gl.bindTexture(target,tex),5===numToLoad?getCubeFaceOrder().forEach((function(otherTarget){gl.texImage2D(otherTarget,level,internalFormat,format,type,img)})):gl.texImage2D(faceTarget,level,internalFormat,format,type,img),restorePackState(gl,options),shouldAutomaticallySetTextureFilteringForSize(options)&&gl.generateMipmap(target)),0===numToLoad&&callback(errors.length?errors:void 0,tex,imgs)}}(faces[ndx]))}))}function loadSlicesFromUrls(gl,tex,options,callback){callback=callback||noop;var urls=options.src,internalFormat=options.internalFormat||options.format||6408,formatType=getFormatAndTypeForInternalFormat(internalFormat),format=options.format||formatType.format,type=options.type||5121,target=options.target||35866;if(32879!==target&&35866!==target)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";setTextureTo1PixelColor(gl,tex,options),options=Object.assign({},options);var imgs,numToLoad=urls.length,errors=[],level=options.level||0,width=options.width,height=options.height,depth=urls.length,firstImage=!0;imgs=urls.map((function(url,ndx){return loadAndUseImage(url,options.crossOrigin,function uploadImg(slice){return function(err,img){if(--numToLoad,err)errors.push(err);else{if(savePackState(gl,options),gl.bindTexture(target,tex),firstImage){firstImage=!1,width=options.width||img.width,height=options.height||img.height,gl.texImage3D(target,level,internalFormat,width,height,depth,0,format,type,null);for(var s=0;s<depth;++s)gl.texSubImage3D(target,level,0,0,s,width,height,1,format,type,img)}else{var ctx,src=img;img.width===width&&img.height===height||(src=(ctx=getShared2DContext()).canvas,ctx.canvas.width=width,ctx.canvas.height=height,ctx.drawImage(img,0,0,width,height)),gl.texSubImage3D(target,level,0,0,slice,width,height,1,format,type,src),ctx&&src===ctx.canvas&&(ctx.canvas.width=0,ctx.canvas.height=0)}restorePackState(gl,options),shouldAutomaticallySetTextureFilteringForSize(options)&&gl.generateMipmap(target)}0===numToLoad&&callback(errors.length?errors:void 0,tex,imgs)}}(ndx))}))}function setTextureFromArray(gl,tex,src,options){var target=(options=options||defaults$1.textureOptions).target||3553;gl.bindTexture(target,tex);var width=options.width,height=options.height,depth=options.depth,level=options.level||0,internalFormat=options.internalFormat||options.format||6408,formatType=getFormatAndTypeForInternalFormat(internalFormat),format=options.format||formatType.format,type=options.type||function getTextureTypeForArrayType(gl,src,defaultType){return isArrayBuffer$1(src)?getGLTypeForTypedArray(src):defaultType||5121}(0,src,formatType.type);if(isArrayBuffer$1(src))src instanceof Uint8ClampedArray&&(src=new Uint8Array(src.buffer));else{var Type=function getTypedArrayTypeForGLType(type){var CTOR=glTypeToTypedArray[type];if(!CTOR)throw new Error("unknown gl type");return CTOR}(type);src=new Type(src)}var dimensions,bytesPerElement=function getBytesPerElementForInternalFormat(internalFormat,type){var info=getTextureInternalFormatInfo(internalFormat);if(!info)throw"unknown internal format";var bytesPerElement=info.bytesPerElementMap[type];if(void 0===bytesPerElement)throw"unknown internal format";return bytesPerElement}(internalFormat,type),numElements=src.byteLength/bytesPerElement;if(numElements%1)throw"length wrong size for format: "+glEnumToString(gl,format);if(32879===target||35866===target)if(width||height||depth)!width||height&&depth?!height||width&&depth?(dimensions=guessDimensions(0,target,width,height,numElements/depth),width=dimensions.width,height=dimensions.height):(dimensions=guessDimensions(0,target,width,depth,numElements/height),width=dimensions.width,depth=dimensions.height):(dimensions=guessDimensions(0,target,height,depth,numElements/width),height=dimensions.width,depth=dimensions.height);else{var size=Math.cbrt(numElements);if(size%1!=0)throw"can't guess cube size of array of numElements: "+numElements;width=size,height=size,depth=size}else dimensions=guessDimensions(0,target,width,height,numElements),width=dimensions.width,height=dimensions.height;if(saveSkipState(gl),gl.pixelStorei(3317,options.unpackAlignment||1),savePackState(gl,options),34067===target){var faceSize=numElements/6*(bytesPerElement/src.BYTES_PER_ELEMENT);getCubeFacesWithNdx(0,options).forEach((function(f){var offset=faceSize*f.ndx,data=src.subarray(offset,offset+faceSize);gl.texImage2D(f.face,level,internalFormat,width,height,0,format,type,data)}))}else 32879===target||35866===target?gl.texImage3D(target,level,internalFormat,width,height,depth,0,format,type,src):gl.texImage2D(target,level,internalFormat,width,height,0,format,type,src);return restorePackState(gl,options),restoreSkipState(gl),{width:width,height:height,depth:depth,type:type}}function createTexture(gl,options,callback){callback=callback||noop,options=options||defaults$1.textureOptions;var tex=gl.createTexture(),target=options.target||3553,width=options.width||1,height=options.height||1,internalFormat=options.internalFormat||6408;gl.bindTexture(target,tex),34067===target&&(gl.texParameteri(target,10242,33071),gl.texParameteri(target,10243,33071));var src=options.src;if(src)if("function"==typeof src&&(src=src(gl,options)),"string"==typeof src)!function loadTextureFromUrl(gl,tex,options,callback){return callback=callback||noop,setTextureTo1PixelColor(gl,tex,options=options||defaults$1.textureOptions),loadAndUseImage((options=Object.assign({},options)).src,options.crossOrigin,(function(err,img){err?callback(err,tex,img):(setTextureFromElement(gl,tex,img,options),callback(null,tex,img))}))}(gl,tex,options,callback);else if(isArrayBuffer$1(src)||Array.isArray(src)&&("number"==typeof src[0]||Array.isArray(src[0])||isArrayBuffer$1(src[0]))){var dimensions=setTextureFromArray(gl,tex,src,options);width=dimensions.width,height=dimensions.height}else Array.isArray(src)&&("string"==typeof src[0]||isTexImageSource(src[0]))?34067===target?loadCubemapFromUrls(gl,tex,options,callback):loadSlicesFromUrls(gl,tex,options,callback):(setTextureFromElement(gl,tex,src,options),width=src.width,height=src.height);else!function setEmptyTexture(gl,tex,options){var target=options.target||3553;gl.bindTexture(target,tex);var level=options.level||0,internalFormat=options.internalFormat||options.format||6408,formatType=getFormatAndTypeForInternalFormat(internalFormat),format=options.format||formatType.format,type=options.type||formatType.type;if(savePackState(gl,options),34067===target)for(var ii=0;ii<6;++ii)gl.texImage2D(34069+ii,level,internalFormat,options.width,options.height,0,format,type,null);else 32879===target||35866===target?gl.texImage3D(target,level,internalFormat,options.width,options.height,options.depth,0,format,type,null):gl.texImage2D(target,level,internalFormat,options.width,options.height,0,format,type,null);restorePackState(gl,options)}(gl,tex,options);return shouldAutomaticallySetTextureFilteringForSize(options)&&setTextureFilteringForSize(gl,tex,options,width,height,internalFormat),setTextureParameters(gl,tex,options),tex}var error$1=error;function getElementById(id){return"undefined"!=typeof document&&document.getElementById?document.getElementById(id):null}var typeMap={};function getBindPointForSamplerType(gl,type){return typeMap[type].bindPoint}function intSetter(gl,location){return function(v){gl.uniform1i(location,v)}}function intArraySetter(gl,location){return function(v){gl.uniform1iv(location,v)}}function intVec2Setter(gl,location){return function(v){gl.uniform2iv(location,v)}}function intVec3Setter(gl,location){return function(v){gl.uniform3iv(location,v)}}function intVec4Setter(gl,location){return function(v){gl.uniform4iv(location,v)}}function samplerSetter(gl,type,unit,location){var bindPoint=getBindPointForSamplerType(0,type);return isWebGL2(gl)?function(textureOrPair){var texture,sampler;isTexture(0,textureOrPair)?(texture=textureOrPair,sampler=null):(texture=textureOrPair.texture,sampler=textureOrPair.sampler),gl.uniform1i(location,unit),gl.activeTexture(33984+unit),gl.bindTexture(bindPoint,texture),gl.bindSampler(unit,sampler)}:function(texture){gl.uniform1i(location,unit),gl.activeTexture(33984+unit),gl.bindTexture(bindPoint,texture)}}function samplerArraySetter(gl,type,unit,location,size){for(var bindPoint=getBindPointForSamplerType(0,type),units=new Int32Array(size),ii=0;ii<size;++ii)units[ii]=unit+ii;return isWebGL2(gl)?function(textures){gl.uniform1iv(location,units),textures.forEach((function(textureOrPair,index){var texture,sampler;gl.activeTexture(33984+units[index]),isTexture(0,textureOrPair)?(texture=textureOrPair,sampler=null):(texture=textureOrPair.texture,sampler=textureOrPair.sampler),gl.bindSampler(unit,sampler),gl.bindTexture(bindPoint,texture)}))}:function(textures){gl.uniform1iv(location,units),textures.forEach((function(texture,index){gl.activeTexture(33984+units[index]),gl.bindTexture(bindPoint,texture)}))}}function floatAttribSetter(gl,index){return function(b){if(b.value)switch(gl.disableVertexAttribArray(index),b.value.length){case 4:gl.vertexAttrib4fv(index,b.value);break;case 3:gl.vertexAttrib3fv(index,b.value);break;case 2:gl.vertexAttrib2fv(index,b.value);break;case 1:gl.vertexAttrib1fv(index,b.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else gl.bindBuffer(34962,b.buffer),gl.enableVertexAttribArray(index),gl.vertexAttribPointer(index,b.numComponents||b.size,b.type||5126,b.normalize||!1,b.stride||0,b.offset||0),void 0!==b.divisor&&gl.vertexAttribDivisor(index,b.divisor)}}function intAttribSetter(gl,index){return function(b){if(b.value){if(gl.disableVertexAttribArray(index),4!==b.value.length)throw new Error("The length of an integer constant value must be 4!");gl.vertexAttrib4iv(index,b.value)}else gl.bindBuffer(34962,b.buffer),gl.enableVertexAttribArray(index),gl.vertexAttribIPointer(index,b.numComponents||b.size,b.type||5124,b.stride||0,b.offset||0),void 0!==b.divisor&&gl.vertexAttribDivisor(index,b.divisor)}}function uintAttribSetter(gl,index){return function(b){if(b.value){if(gl.disableVertexAttribArray(index),4!==b.value.length)throw new Error("The length of an unsigned integer constant value must be 4!");gl.vertexAttrib4uiv(index,b.value)}else gl.bindBuffer(34962,b.buffer),gl.enableVertexAttribArray(index),gl.vertexAttribIPointer(index,b.numComponents||b.size,b.type||5125,b.stride||0,b.offset||0),void 0!==b.divisor&&gl.vertexAttribDivisor(index,b.divisor)}}function matAttribSetter(gl,index,typeInfo){var defaultSize=typeInfo.size,count=typeInfo.count;return function(b){gl.bindBuffer(34962,b.buffer);for(var numComponents=b.size||b.numComponents||defaultSize,size=numComponents/count,type=b.type||5126,stride=typeMap[type].size*numComponents,normalize=b.normalize||!1,offset=b.offset||0,rowOffset=stride/count,i=0;i<count;++i)gl.enableVertexAttribArray(index+i),gl.vertexAttribPointer(index+i,size,type,normalize,stride,offset+rowOffset*i),void 0!==b.divisor&&gl.vertexAttribDivisor(index+i,b.divisor)}}typeMap[5126]={Type:Float32Array,size:4,setter:function floatSetter(gl,location){return function(v){gl.uniform1f(location,v)}},arraySetter:function floatArraySetter(gl,location){return function(v){gl.uniform1fv(location,v)}}},typeMap[35664]={Type:Float32Array,size:8,setter:function floatVec2Setter(gl,location){return function(v){gl.uniform2fv(location,v)}}},typeMap[35665]={Type:Float32Array,size:12,setter:function floatVec3Setter(gl,location){return function(v){gl.uniform3fv(location,v)}}},typeMap[35666]={Type:Float32Array,size:16,setter:function floatVec4Setter(gl,location){return function(v){gl.uniform4fv(location,v)}}},typeMap[5124]={Type:Int32Array,size:4,setter:intSetter,arraySetter:intArraySetter},typeMap[35667]={Type:Int32Array,size:8,setter:intVec2Setter},typeMap[35668]={Type:Int32Array,size:12,setter:intVec3Setter},typeMap[35669]={Type:Int32Array,size:16,setter:intVec4Setter},typeMap[5125]={Type:Uint32Array,size:4,setter:function uintSetter(gl,location){return function(v){gl.uniform1ui(location,v)}},arraySetter:function uintArraySetter(gl,location){return function(v){gl.uniform1uiv(location,v)}}},typeMap[36294]={Type:Uint32Array,size:8,setter:function uintVec2Setter(gl,location){return function(v){gl.uniform2uiv(location,v)}}},typeMap[36295]={Type:Uint32Array,size:12,setter:function uintVec3Setter(gl,location){return function(v){gl.uniform3uiv(location,v)}}},typeMap[36296]={Type:Uint32Array,size:16,setter:function uintVec4Setter(gl,location){return function(v){gl.uniform4uiv(location,v)}}},typeMap[35670]={Type:Uint32Array,size:4,setter:intSetter,arraySetter:intArraySetter},typeMap[35671]={Type:Uint32Array,size:8,setter:intVec2Setter},typeMap[35672]={Type:Uint32Array,size:12,setter:intVec3Setter},typeMap[35673]={Type:Uint32Array,size:16,setter:intVec4Setter},typeMap[35674]={Type:Float32Array,size:16,setter:function floatMat2Setter(gl,location){return function(v){gl.uniformMatrix2fv(location,!1,v)}}},typeMap[35675]={Type:Float32Array,size:36,setter:function floatMat3Setter(gl,location){return function(v){gl.uniformMatrix3fv(location,!1,v)}}},typeMap[35676]={Type:Float32Array,size:64,setter:function floatMat4Setter(gl,location){return function(v){gl.uniformMatrix4fv(location,!1,v)}}},typeMap[35685]={Type:Float32Array,size:24,setter:function floatMat23Setter(gl,location){return function(v){gl.uniformMatrix2x3fv(location,!1,v)}}},typeMap[35686]={Type:Float32Array,size:32,setter:function floatMat24Setter(gl,location){return function(v){gl.uniformMatrix2x4fv(location,!1,v)}}},typeMap[35687]={Type:Float32Array,size:24,setter:function floatMat32Setter(gl,location){return function(v){gl.uniformMatrix3x2fv(location,!1,v)}}},typeMap[35688]={Type:Float32Array,size:48,setter:function floatMat34Setter(gl,location){return function(v){gl.uniformMatrix3x4fv(location,!1,v)}}},typeMap[35689]={Type:Float32Array,size:32,setter:function floatMat42Setter(gl,location){return function(v){gl.uniformMatrix4x2fv(location,!1,v)}}},typeMap[35690]={Type:Float32Array,size:48,setter:function floatMat43Setter(gl,location){return function(v){gl.uniformMatrix4x3fv(location,!1,v)}}},typeMap[35678]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:3553},typeMap[35680]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:34067},typeMap[35679]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:32879},typeMap[35682]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:3553},typeMap[36289]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:35866},typeMap[36292]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:35866},typeMap[36293]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:34067},typeMap[36298]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:3553},typeMap[36299]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:32879},typeMap[36300]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:34067},typeMap[36303]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:35866},typeMap[36306]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:3553},typeMap[36307]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:32879},typeMap[36308]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:34067},typeMap[36311]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:35866};var attrTypeMap={};attrTypeMap[5126]={size:4,setter:floatAttribSetter},attrTypeMap[35664]={size:8,setter:floatAttribSetter},attrTypeMap[35665]={size:12,setter:floatAttribSetter},attrTypeMap[35666]={size:16,setter:floatAttribSetter},attrTypeMap[5124]={size:4,setter:intAttribSetter},attrTypeMap[35667]={size:8,setter:intAttribSetter},attrTypeMap[35668]={size:12,setter:intAttribSetter},attrTypeMap[35669]={size:16,setter:intAttribSetter},attrTypeMap[5125]={size:4,setter:uintAttribSetter},attrTypeMap[36294]={size:8,setter:uintAttribSetter},attrTypeMap[36295]={size:12,setter:uintAttribSetter},attrTypeMap[36296]={size:16,setter:uintAttribSetter},attrTypeMap[35670]={size:4,setter:intAttribSetter},attrTypeMap[35671]={size:8,setter:intAttribSetter},attrTypeMap[35672]={size:12,setter:intAttribSetter},attrTypeMap[35673]={size:16,setter:intAttribSetter},attrTypeMap[35674]={size:4,setter:matAttribSetter,count:2},attrTypeMap[35675]={size:9,setter:matAttribSetter,count:3},attrTypeMap[35676]={size:16,setter:matAttribSetter,count:4};var spaceRE=/^[ \t]*\n/;function loadShader(gl,shaderSource,shaderType,opt_errorCallback){var errFn=opt_errorCallback||error$1,shader=gl.createShader(shaderType),lineOffset=0;if(spaceRE.test(shaderSource)&&(lineOffset=1,shaderSource=shaderSource.replace(spaceRE,"")),gl.shaderSource(shader,shaderSource),gl.compileShader(shader),!gl.getShaderParameter(shader,35713)){var lastError=gl.getShaderInfoLog(shader);return errFn(function addLineNumbers(src,lineOffset){return lineOffset=lineOffset||0,++lineOffset,src.split("\n").map((function(line,ndx){return ndx+lineOffset+": "+line})).join("\n")}(shaderSource,lineOffset)+"\n*** Error compiling shader: "+lastError),gl.deleteShader(shader),null}return shader}function getProgramOptions(opt_attribs,opt_locations,opt_errorCallback){var transformFeedbackVaryings,transformFeedbackMode;if("function"==typeof opt_locations&&(opt_errorCallback=opt_locations,opt_locations=void 0),"function"==typeof opt_attribs)opt_errorCallback=opt_attribs,opt_attribs=void 0;else if(opt_attribs&&!Array.isArray(opt_attribs)){if(opt_attribs.errorCallback)return opt_attribs;var opt=opt_attribs;opt_errorCallback=opt.errorCallback,opt_attribs=opt.attribLocations,transformFeedbackVaryings=opt.transformFeedbackVaryings,transformFeedbackMode=opt.transformFeedbackMode}var options={errorCallback:opt_errorCallback||error$1,transformFeedbackVaryings:transformFeedbackVaryings,transformFeedbackMode:transformFeedbackMode};if(opt_attribs){var attribLocations={};Array.isArray(opt_attribs)?opt_attribs.forEach((function(attrib,ndx){attribLocations[attrib]=opt_locations?opt_locations[ndx]:ndx})):attribLocations=opt_attribs,options.attribLocations=attribLocations}return options}var defaultShaderType=["VERTEX_SHADER","FRAGMENT_SHADER"];function deleteShaders(gl,shaders){shaders.forEach((function(shader){gl.deleteShader(shader)}))}function createProgramFromSources(gl,shaderSources,opt_attribs,opt_locations,opt_errorCallback){for(var progOptions=getProgramOptions(opt_attribs,opt_locations,opt_errorCallback),shaders=[],ii=0;ii<shaderSources.length;++ii){var shader=loadShader(gl,shaderSources[ii],gl[defaultShaderType[ii]],progOptions.errorCallback);if(!shader)return null;shaders.push(shader)}return function createProgram(gl,shaders,opt_attribs,opt_locations,opt_errorCallback){for(var t,scriptType,progOptions=getProgramOptions(opt_attribs,opt_locations,opt_errorCallback),realShaders=[],newShaders=[],ndx=0;ndx<shaders.length;++ndx){var shader=shaders[ndx];if("string"==typeof shader){var elem=getElementById(shader),src=elem?elem.text:shader,type=gl[defaultShaderType[ndx]];elem&&elem.type&&(type=((scriptType=elem.type).indexOf("frag")>=0?35632:scriptType.indexOf("vert")>=0?35633:void 0)||type),shader=loadShader(gl,src,type,progOptions.errorCallback),newShaders.push(shader)}t=shader,"undefined"!=typeof WebGLShader&&t instanceof WebGLShader&&realShaders.push(shader)}if(realShaders.length!==shaders.length)return progOptions.errorCallback("not enough shaders for program"),deleteShaders(gl,newShaders),null;var program=gl.createProgram();realShaders.forEach((function(shader){gl.attachShader(program,shader)})),progOptions.attribLocations&&Object.keys(progOptions.attribLocations).forEach((function(attrib){gl.bindAttribLocation(program,progOptions.attribLocations[attrib],attrib)}));var varyings=progOptions.transformFeedbackVaryings;if(varyings&&(varyings.attribs&&(varyings=varyings.attribs),Array.isArray(varyings)||(varyings=Object.keys(varyings)),gl.transformFeedbackVaryings(program,varyings,progOptions.transformFeedbackMode||35981)),gl.linkProgram(program),!gl.getProgramParameter(program,35714)){var lastError=gl.getProgramInfoLog(program);return progOptions.errorCallback("Error in program linking:"+lastError),gl.deleteProgram(program),deleteShaders(gl,newShaders),null}return program}(gl,shaders,progOptions)}function isBuiltIn(info){var name=info.name;return name.startsWith("gl_")||name.startsWith("webgl_")}function setUniforms(setters,values){for(var actualSetters=setters.uniformSetters||setters,numArgs=arguments.length,aNdx=1;aNdx<numArgs;++aNdx){var _values=arguments[aNdx];if(Array.isArray(_values))for(var numValues=_values.length,ii=0;ii<numValues;++ii)setUniforms(actualSetters,_values[ii]);else for(var name in _values){var setter=actualSetters[name];setter&&setter(_values[name])}}}function setBuffersAndAttributes(gl,programInfo,buffers){buffers.vertexArrayObject?gl.bindVertexArray(buffers.vertexArrayObject):(!function setAttributes(setters,buffers){for(var name in buffers){var setter=setters[name];setter&&setter(buffers[name])}}(programInfo.attribSetters||programInfo,buffers.attribs),buffers.indices&&gl.bindBuffer(34963,buffers.indices))}function createProgramInfoFromProgram(gl,program){var programInfo={program:program,uniformSetters:function createUniformSetters(gl,program){var textureUnit=0;function createUniformSetter(program,uniformInfo,location){var setter,isArray=uniformInfo.size>1&&"[0]"===uniformInfo.name.substr(-3),type=uniformInfo.type,typeInfo=typeMap[type];if(!typeInfo)throw new Error("unknown type: 0x".concat(type.toString(16)));if(typeInfo.bindPoint){var unit=textureUnit;textureUnit+=uniformInfo.size,setter=isArray?typeInfo.arraySetter(gl,type,unit,location,uniformInfo.size):typeInfo.setter(gl,type,unit,location,uniformInfo.size)}else setter=typeInfo.arraySetter&&isArray?typeInfo.arraySetter(gl,location):typeInfo.setter(gl,location);return setter.location=location,setter}for(var uniformSetters={},numUniforms=gl.getProgramParameter(program,35718),ii=0;ii<numUniforms;++ii){var uniformInfo=gl.getActiveUniform(program,ii);if(!isBuiltIn(uniformInfo)){var name=uniformInfo.name;"[0]"===name.substr(-3)&&(name=name.substr(0,name.length-3));var _location=gl.getUniformLocation(program,uniformInfo.name);_location&&(uniformSetters[name]=createUniformSetter(0,uniformInfo,_location))}}return uniformSetters}(gl,program),attribSetters:function createAttributeSetters(gl,program){for(var attribSetters={},numAttribs=gl.getProgramParameter(program,35721),ii=0;ii<numAttribs;++ii){var attribInfo=gl.getActiveAttrib(program,ii);if(!isBuiltIn(attribInfo)){var index=gl.getAttribLocation(program,attribInfo.name),typeInfo=attrTypeMap[attribInfo.type],setter=typeInfo.setter(gl,index,typeInfo);setter.location=index,attribSetters[attribInfo.name]=setter}}return attribSetters}(gl,program)};return isWebGL2(gl)&&(programInfo.uniformBlockSpec=function createUniformBlockSpecFromProgram(gl,program){for(var numUniforms=gl.getProgramParameter(program,35718),uniformData=[],uniformIndices=[],ii=0;ii<numUniforms;++ii){uniformIndices.push(ii),uniformData.push({});var uniformInfo=gl.getActiveUniform(program,ii);if(isBuiltIn(uniformInfo))break;uniformData[ii].name=uniformInfo.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach((function(pair){var pname=pair[0],key=pair[1];gl.getActiveUniforms(program,uniformIndices,gl[pname]).forEach((function(value,ndx){uniformData[ndx][key]=value}))}));for(var blockSpecs={},numUniformBlocks=gl.getProgramParameter(program,35382),_ii5=0;_ii5<numUniformBlocks;++_ii5){var name=gl.getActiveUniformBlockName(program,_ii5),blockSpec={index:gl.getUniformBlockIndex(program,name),usedByVertexShader:gl.getActiveUniformBlockParameter(program,_ii5,35396),usedByFragmentShader:gl.getActiveUniformBlockParameter(program,_ii5,35398),size:gl.getActiveUniformBlockParameter(program,_ii5,35392),uniformIndices:gl.getActiveUniformBlockParameter(program,_ii5,35395)};blockSpec.used=blockSpec.usedByVertexShader||blockSpec.usedByFragmentShader,blockSpecs[name]=blockSpec}return{blockSpecs:blockSpecs,uniformData:uniformData}}(gl,program),programInfo.transformFeedbackInfo=function createTransformFeedbackInfo(gl,program){for(var info={},numVaryings=gl.getProgramParameter(program,35971),ii=0;ii<numVaryings;++ii){var varying=gl.getTransformFeedbackVarying(program,ii);info[varying.name]={index:ii,type:varying.type,size:varying.size}}return info}(gl,program)),programInfo}var defaults$2_addExtensionsToContext=!0,prefixRE=/^(.*?)_/;function addExtensionToContext(gl,extensionName){glEnumToString(gl,0);var ext=gl.getExtension(extensionName);if(ext){var enums={},fnSuffix=prefixRE.exec(extensionName)[1],enumSuffix="_"+fnSuffix;for(var key in ext){var value=ext[key],isFunc="function"==typeof value,suffix=isFunc?fnSuffix:enumSuffix,name=key;key.endsWith(suffix)&&(name=key.substring(0,key.length-suffix.length)),void 0!==gl[name]?isFunc||gl[name]===value||warn(name,gl[name],value,key):isFunc?gl[name]=function(origFn){return function(){return origFn.apply(ext,arguments)}}(value):(gl[name]=value,enums[name]=value)}enums.constructor={name:ext.constructor.name},glEnumToString(enums,0)}return ext}var supportedExtensions=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function addExtensionsToContext(gl){for(var ii=0;ii<supportedExtensions.length;++ii)addExtensionToContext(gl,supportedExtensions[ii])}function getWebGLContext(canvas,opt_attribs){return function create3DContext(canvas,opt_attribs){for(var names=["webgl","experimental-webgl"],context=null,ii=0;ii<names.length;++ii)if(context=canvas.getContext(names[ii],opt_attribs)){defaults$2_addExtensionsToContext&&addExtensionsToContext(context);break}return context}(canvas,opt_attribs)}function resizeCanvasToDisplaySize(canvas,multiplier){multiplier=multiplier||1,multiplier=Math.max(0,multiplier);var width=canvas.clientWidth*multiplier|0,height=canvas.clientHeight*multiplier|0;return(canvas.width!==width||canvas.height!==height)&&(canvas.width=width,canvas.height=height,!0)}var Renderer=function(){function Renderer(htmlCanvas,attributes){var _this=this;_classCallCheck(this,Renderer),_defineProperty(this,"gl",null),_defineProperty(this,"isWebGL2",null),_defineProperty(this,"instancedEnabled",!1),_defineProperty(this,"init",(function(){var gl=_this.gl;gl.viewport(0,0,gl.canvas.width,gl.canvas.height),gl.clearColor(0,0,0,1),gl.enable(gl.DEPTH_TEST),gl.enable(gl.CULL_FACE),gl.enable(gl.BLEND),gl.blendFunc(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA)})),_defineProperty(this,"resize",(function(width,height){_this.gl.viewport(0,0,width,height)})),_defineProperty(this,"prepareRenderFrame",(function(){_this.gl.clear(_this.gl.COLOR_BUFFER_BIT|_this.gl.DEPTH_BUFFER_BIT)})),this.gl=getWebGLContext(htmlCanvas,attributes),this.isWebGL2=isWebGL2(this.gl)&&isWebGL1(this.gl),addExtensionsToContext(this.gl),this.gl.drawElementsInstanced&&(this.instancedEnabled=!0),resizeCanvasToDisplaySize(htmlCanvas)}return _createClass(Renderer,[{key:"clearColor",set:function set(clearColor){this.gl.clearColor(clearColor[0],clearColor[1],clearColor[2],clearColor[3])}}]),Renderer}(),ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array;function create$2(){var out=new ARRAY_TYPE(16);return ARRAY_TYPE!=Float32Array&&(out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[11]=0,out[12]=0,out[13]=0,out[14]=0),out[0]=1,out[5]=1,out[10]=1,out[15]=1,out}function identity$1(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function invert(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=a01*a13-a03*a11,b05=a02*a13-a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30,b08=a20*a33-a23*a30,b09=a21*a32-a22*a31,b10=a21*a33-a23*a31,b11=a22*a33-a23*a32,det=b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06;return det?(det=1/det,out[0]=(a11*b11-a12*b10+a13*b09)*det,out[1]=(a02*b10-a01*b11-a03*b09)*det,out[2]=(a31*b05-a32*b04+a33*b03)*det,out[3]=(a22*b04-a21*b05-a23*b03)*det,out[4]=(a12*b08-a10*b11-a13*b07)*det,out[5]=(a00*b11-a02*b08+a03*b07)*det,out[6]=(a32*b02-a30*b05-a33*b01)*det,out[7]=(a20*b05-a22*b02+a23*b01)*det,out[8]=(a10*b10-a11*b08+a13*b06)*det,out[9]=(a01*b08-a00*b10-a03*b06)*det,out[10]=(a30*b04-a31*b02+a33*b00)*det,out[11]=(a21*b02-a20*b04-a23*b00)*det,out[12]=(a11*b07-a10*b09-a12*b06)*det,out[13]=(a00*b09-a01*b07+a02*b06)*det,out[14]=(a31*b01-a30*b03-a32*b00)*det,out[15]=(a20*b03-a21*b01+a22*b00)*det,out):null}function multiply$2(out,a,b){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return out[0]=b0*a00+b1*a10+b2*a20+b3*a30,out[1]=b0*a01+b1*a11+b2*a21+b3*a31,out[2]=b0*a02+b1*a12+b2*a22+b3*a32,out[3]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[4],b1=b[5],b2=b[6],b3=b[7],out[4]=b0*a00+b1*a10+b2*a20+b3*a30,out[5]=b0*a01+b1*a11+b2*a21+b3*a31,out[6]=b0*a02+b1*a12+b2*a22+b3*a32,out[7]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[8],b1=b[9],b2=b[10],b3=b[11],out[8]=b0*a00+b1*a10+b2*a20+b3*a30,out[9]=b0*a01+b1*a11+b2*a21+b3*a31,out[10]=b0*a02+b1*a12+b2*a22+b3*a32,out[11]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[12],b1=b[13],b2=b[14],b3=b[15],out[12]=b0*a00+b1*a10+b2*a20+b3*a30,out[13]=b0*a01+b1*a11+b2*a21+b3*a31,out[14]=b0*a02+b1*a12+b2*a22+b3*a32,out[15]=b0*a03+b1*a13+b2*a23+b3*a33,out}function perspective$1(out,fovy,aspect,near,far){var nf,f=1/Math.tan(fovy/2);return out[0]=f/aspect,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=f,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[11]=-1,out[12]=0,out[13]=0,out[15]=0,null!=far&&far!==1/0?(nf=1/(near-far),out[10]=(far+near)*nf,out[14]=2*far*near*nf):(out[10]=-1,out[14]=-2*near),out}function lookAt$1(out,eye,center,up){var x0,x1,x2,y0,y1,y2,z0,z1,z2,len,eyex=eye[0],eyey=eye[1],eyez=eye[2],upx=up[0],upy=up[1],upz=up[2],centerx=center[0],centery=center[1],centerz=center[2];return Math.abs(eyex-centerx)<1e-6&&Math.abs(eyey-centery)<1e-6&&Math.abs(eyez-centerz)<1e-6?identity$1(out):(z0=eyex-centerx,z1=eyey-centery,z2=eyez-centerz,x0=upy*(z2*=len=1/Math.hypot(z0,z1,z2))-upz*(z1*=len),x1=upz*(z0*=len)-upx*z2,x2=upx*z1-upy*z0,(len=Math.hypot(x0,x1,x2))?(x0*=len=1/len,x1*=len,x2*=len):(x0=0,x1=0,x2=0),y0=z1*x2-z2*x1,y1=z2*x0-z0*x2,y2=z0*x1-z1*x0,(len=Math.hypot(y0,y1,y2))?(y0*=len=1/len,y1*=len,y2*=len):(y0=0,y1=0,y2=0),out[0]=x0,out[1]=y0,out[2]=z0,out[3]=0,out[4]=x1,out[5]=y1,out[6]=z1,out[7]=0,out[8]=x2,out[9]=y2,out[10]=z2,out[11]=0,out[12]=-(x0*eyex+x1*eyey+x2*eyez),out[13]=-(y0*eyex+y1*eyey+y2*eyez),out[14]=-(z0*eyex+z1*eyey+z2*eyez),out[15]=1,out)}function create$3(){var out=new ARRAY_TYPE(3);return ARRAY_TYPE!=Float32Array&&(out[0]=0,out[1]=0,out[2]=0),out}function fromValues(x,y,z){var out=new ARRAY_TYPE(3);return out[0]=x,out[1]=y,out[2]=z,out}function normalize$1(out,a){var x=a[0],y=a[1],z=a[2],len=x*x+y*y+z*z;return len>0&&(len=1/Math.sqrt(len)),out[0]=a[0]*len,out[1]=a[1]*len,out[2]=a[2]*len,out}function dot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function cross$1(out,a,b){var ax=a[0],ay=a[1],az=a[2],bx=b[0],by=b[1],bz=b[2];return out[0]=ay*bz-az*by,out[1]=az*bx-ax*bz,out[2]=ax*by-ay*bx,out}function transformMat4(out,a,m){var x=a[0],y=a[1],z=a[2],w=m[3]*x+m[7]*y+m[11]*z+m[15];return w=w||1,out[0]=(m[0]*x+m[4]*y+m[8]*z+m[12])/w,out[1]=(m[1]*x+m[5]*y+m[9]*z+m[13])/w,out[2]=(m[2]*x+m[6]*y+m[10]*z+m[14])/w,out}Math.hypot||(Math.hypot=function(){for(var y=0,i=arguments.length;i--;)y+=arguments[i]*arguments[i];return Math.sqrt(y)});var vec,len=function length$1(a){var x=a[0],y=a[1],z=a[2];return Math.hypot(x,y,z)};vec=create$3();!function(){var vec=function create$4(){var out=new ARRAY_TYPE(4);return ARRAY_TYPE!=Float32Array&&(out[0]=0,out[1]=0,out[2]=0,out[3]=0),out}()}();function create$5(){var out=new ARRAY_TYPE(4);return ARRAY_TYPE!=Float32Array&&(out[0]=0,out[1]=0,out[2]=0),out[3]=1,out}function slerp(out,a,b,t){var omega,cosom,sinom,scale0,scale1,ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=b[0],by=b[1],bz=b[2],bw=b[3];return ax*bx+ay*by+az*bz+aw*bw<0&&(-cosom,-bx,-by,-bz,-bw),1-cosom>1e-6?(Math.acos(cosom),Math.sin(omega),Math.sin((1-t)*omega)/sinom,Math.sin(t*omega)/sinom):(1-t,t),out[0]=scale0*ax+scale1*bx,out[1]=scale0*ay+scale1*by,out[2]=scale0*az+scale1*bz,out[3]=scale0*aw+scale1*bw,out}var tmpvec3,xUnitVec3,yUnitVec3,temp1,temp2,matr,normalize$3=function normalize$2(out,a){var x=a[0],y=a[1],z=a[2],w=a[3],len=x*x+y*y+z*z+w*w;return len>0&&(len=1/Math.sqrt(len)),out[0]=x*len,out[1]=y*len,out[2]=z*len,out[3]=w*len,out};tmpvec3=create$3(),xUnitVec3=fromValues(1,0,0),yUnitVec3=fromValues(0,1,0),temp1=create$5(),temp2=create$5(),matr=function create$1(){var out=new ARRAY_TYPE(9);return ARRAY_TYPE!=Float32Array&&(out[1]=0,out[2]=0,out[3]=0,out[5]=0,out[6]=0,out[7]=0),out[0]=1,out[4]=1,out[8]=1,out}();!function(){var vec=function create$6(){var out=new ARRAY_TYPE(2);return ARRAY_TYPE!=Float32Array&&(out[0]=0,out[1]=0),out}()}();var wasm,Camera=function Camera(_width,_height){var _this=this;_classCallCheck(this,Camera),_defineProperty(this,"fov",void 0),_defineProperty(this,"width",void 0),_defineProperty(this,"height",void 0),_defineProperty(this,"aspect",void 0),_defineProperty(this,"zNear",void 0),_defineProperty(this,"zFar",void 0),_defineProperty(this,"projection",void 0),_defineProperty(this,"eye",void 0),_defineProperty(this,"target",void 0),_defineProperty(this,"up",void 0),_defineProperty(this,"view",void 0),_defineProperty(this,"viewProjection",void 0),_defineProperty(this,"world",void 0),_defineProperty(this,"resize",(function(width,height){_this.width=width,_this.height=height,_this.aspect=width/height,_this.projection=create$2(),perspective$1(_this.projection,_this.fov,_this.aspect,_this.zNear,_this.zFar)})),_defineProperty(this,"update",(function(time){lookAt$1(_this.view,_this.eye,_this.target,_this.up),invert(_this.camera,_this.view),multiply$2(_this.viewProjection,_this.projection,_this.view)})),_defineProperty(this,"setPosition",(function(pos){_this.eye=pos})),_defineProperty(this,"getUniforms",(function(time){var uniforms={};return uniforms.u_viewInverse=_this.camera,uniforms.u_world=_this.world,uniforms.u_worldInverseTranspose=create$2(),uniforms.u_view=_this.view,uniforms.u_resolution=[_this.width,_this.height],invert(uniforms.u_worldInverseTranspose,_this.world),function transpose$1(out,a){if(out===a){var a01=a[1],a02=a[2],a03=a[3],a12=a[6],a13=a[7],a23=a[11];out[1]=a[4],out[2]=a[8],out[3]=a[12],out[4]=a01,out[6]=a[9],out[7]=a[13],out[8]=a02,out[9]=a12,out[11]=a[14],out[12]=a03,out[13]=a13,out[14]=a23}else out[0]=a[0],out[1]=a[4],out[2]=a[8],out[3]=a[12],out[4]=a[1],out[5]=a[5],out[6]=a[9],out[7]=a[13],out[8]=a[2],out[9]=a[6],out[10]=a[10],out[11]=a[14],out[12]=a[3],out[13]=a[7],out[14]=a[11],out[15]=a[15];return out}(uniforms.u_worldInverseTranspose,uniforms.u_worldInverseTranspose),uniforms.u_worldViewProjection=create$2(),multiply$2(uniforms.u_worldViewProjection,_this.viewProjection,_this.world),uniforms.u_cameraPos=_this.eye,uniforms})),_defineProperty(this,"getRayFromScreen",(function(xNormalized,yNormalized){var x=2*xNormalized-1,y=2*yNormalized-1,near=_this.unproject([x,y,-1]),far=_this.unproject([x,y,1]),dir=create$3();return function subtract$1(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out}(dir,far,near),normalize$1(dir,dir),{origin:near,direction:dir}})),_defineProperty(this,"unproject",(function(position){var inverseProjection=create$2();invert(inverseProjection,_this.viewProjection);var result=fromValues(position[0],position[1],position[2]);return transformMat4(result,result,inverseProjection),result})),_defineProperty(this,"project",(function(position){var p=function clone(a){var out=new ARRAY_TYPE(3);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out}(position);return transformMat4(p,p,_this.viewProjection),[(p[0]+1)/2,(p[1]+1)/2]})),this.fov=Math.PI/180*30,this.width=_width,this.height=_height,this.aspect=_width/_height,this.zNear=.01,this.zFar=100,this.projection=create$2(),perspective$1(this.projection,this.fov,this.aspect,this.zNear,this.zFar),this.eye=[0,0,6],this.target=[0,0,0],this.up=[0,1,0],this.view=create$2(),lookAt$1(this.view,this.eye,this.target,this.up),this.camera=create$2(),invert(this.camera,this.view),this.viewProjection=create$2(),multiply$2(this.viewProjection,this.projection,this.view),this.world=create$2(),identity$1(this.world)},Scene=function Scene(_width,_height){var _this=this;_classCallCheck(this,Scene),_defineProperty(this,"resize",(function(width,height){_this.camera.resize(width,height)})),_defineProperty(this,"update",(function(time){_this.camera.update(time)})),_defineProperty(this,"getUniforms",(function(time){var uniforms=_this.camera.getUniforms(time);return uniforms.time=time,uniforms})),this.camera=new Camera(_width,_height)},ShaderMaterial=function(){function ShaderMaterial(shaderStrings){var _this=this;_classCallCheck(this,ShaderMaterial),_defineProperty(this,"programInfo",null),_defineProperty(this,"textures",{}),_defineProperty(this,"uniforms",null),_defineProperty(this,"shaderStrings",null),_defineProperty(this,"isInit",!1),_defineProperty(this,"texturesLoaded",!1),_defineProperty(this,"init",(function(gl){_this.programInfo=function createProgramInfo(gl,shaderSources,opt_attribs,opt_locations,opt_errorCallback){var progOptions=getProgramOptions(opt_attribs,opt_locations,opt_errorCallback),good=!0;if(shaderSources=shaderSources.map((function(source){if(source.indexOf("\n")<0){var script=getElementById(source);script?source=script.text:(progOptions.errorCallback("no element with id: "+source),good=!1)}return source})),!good)return null;var program=createProgramFromSources(gl,shaderSources,progOptions);return program?createProgramInfoFromProgram(gl,program):null}(gl,Object.values(_this.shaderStrings)),_this.isInit=!0})),_defineProperty(this,"loadTextures",(function(gl,textures,onLoadCB){if(textures){var textureCount=Object.keys(textures).length,texturesLoaded=0;Object.entries(textures).forEach((function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],texture=_ref2[1];_this.textures[key]=createTexture(gl,texture,(function(){(texturesLoaded+=1)===textureCount&&(_this.texturesLoaded=!0,onLoadCB&&onLoadCB())}))}))}})),_defineProperty(this,"updateUniforms",(function(uniforms){Object.entries(uniforms).forEach((function(_ref3){var _ref4=_slicedToArray(_ref3,2),key=_ref4[0],value=_ref4[1];_this.uniforms[key]=value}))})),this.shaderStrings=shaderStrings}return _createClass(ShaderMaterial,[{key:"isReady",get:function get(){return this.isInit&&this.texturesLoaded}}]),ShaderMaterial}(),heap=new Array(32).fill(void 0);function getObject(idx){return heap[idx]}heap.push(void 0,null,!0,!1);var WASM_VECTOR_LEN=0,cachegetUint8Memory0=null;function getUint8Memory0(){return null!==cachegetUint8Memory0&&cachegetUint8Memory0.buffer===wasm.memory.buffer||(cachegetUint8Memory0=new Uint8Array(wasm.memory.buffer)),cachegetUint8Memory0}var cachedTextEncoder=new TextEncoder("utf-8"),encodeString="function"==typeof cachedTextEncoder.encodeInto?function(arg,view){return cachedTextEncoder.encodeInto(arg,view)}:function(arg,view){var buf=cachedTextEncoder.encode(arg);return view.set(buf),{read:arg.length,written:buf.length}};function passStringToWasm0(arg,malloc,realloc){if(void 0===realloc){var buf=cachedTextEncoder.encode(arg),_ptr=malloc(buf.length);return getUint8Memory0().subarray(_ptr,_ptr+buf.length).set(buf),WASM_VECTOR_LEN=buf.length,_ptr}for(var len=arg.length,ptr=malloc(len),mem=getUint8Memory0(),offset=0;offset<len;offset++){var code=arg.charCodeAt(offset);if(code>127)break;mem[ptr+offset]=code}if(offset!==len){0!==offset&&(arg=arg.slice(offset)),ptr=realloc(ptr,len,len=offset+3*arg.length);var view=getUint8Memory0().subarray(ptr+offset,ptr+len);offset+=encodeString(arg,view).written}return WASM_VECTOR_LEN=offset,ptr}var cachegetInt32Memory0=null;function getInt32Memory0(){return null!==cachegetInt32Memory0&&cachegetInt32Memory0.buffer===wasm.memory.buffer||(cachegetInt32Memory0=new Int32Array(wasm.memory.buffer)),cachegetInt32Memory0}var heap_next=heap.length;function takeObject(idx){var ret=getObject(idx);return function dropObject(idx){idx<36||(heap[idx]=heap_next,heap_next=idx)}(idx),ret}var cachedTextDecoder=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});function getStringFromWasm0(ptr,len){return cachedTextDecoder.decode(getUint8Memory0().subarray(ptr,ptr+len))}function addHeapObject(obj){heap_next===heap.length&&heap.push(heap.length+1);var idx=heap_next;return heap_next=heap[idx],heap[idx]=obj,idx}cachedTextDecoder.decode();var cachegetFloat32Memory0=null;function passArrayF32ToWasm0(arg,malloc){var ptr=malloc(4*arg.length);return function getFloat32Memory0(){return null!==cachegetFloat32Memory0&&cachegetFloat32Memory0.buffer===wasm.memory.buffer||(cachegetFloat32Memory0=new Float32Array(wasm.memory.buffer)),cachegetFloat32Memory0}().set(arg,ptr/4),WASM_VECTOR_LEN=arg.length,ptr}var cachegetUint32Memory0=null;function passArray32ToWasm0(arg,malloc){var ptr=malloc(4*arg.length);return function getUint32Memory0(){return null!==cachegetUint32Memory0&&cachegetUint32Memory0.buffer===wasm.memory.buffer||(cachegetUint32Memory0=new Uint32Array(wasm.memory.buffer)),cachegetUint32Memory0}().set(arg,ptr/4),WASM_VECTOR_LEN=arg.length,ptr}var GKCollider=function(){function GKCollider(){_classCallCheck2(this,GKCollider)}return _createClass2(GKCollider,[{key:"free",value:function free(){var ptr=this.ptr;this.ptr=0,wasm.__wbg_gkcollider_free(ptr)}}],[{key:"create_collision_geometry",value:function create_collision_geometry(points,uvs,indices){var ptr0=passArrayF32ToWasm0(points,wasm.__wbindgen_malloc),len0=WASM_VECTOR_LEN,ptr1=passArrayF32ToWasm0(uvs,wasm.__wbindgen_malloc),len1=WASM_VECTOR_LEN,ptr2=passArray32ToWasm0(indices,wasm.__wbindgen_malloc),len2=WASM_VECTOR_LEN,ret=wasm.gkcollider_create_collision_geometry(ptr0,len0,ptr1,len1,ptr2,len2);return GKCollisionGeo.__wrap(ret)}}]),GKCollider}(),GKCollision=function(){function GKCollision(){_classCallCheck2(this,GKCollision)}return _createClass2(GKCollision,[{key:"free",value:function free(){var ptr=this.ptr;this.ptr=0,wasm.__wbg_gkcollision_free(ptr)}}]),GKCollision}(),GKCollisionGeo=function(){function GKCollisionGeo(){_classCallCheck2(this,GKCollisionGeo)}return _createClass2(GKCollisionGeo,[{key:"free",value:function free(){var ptr=this.ptr;this.ptr=0,wasm.__wbg_gkcollisiongeo_free(ptr)}},{key:"raycast",value:function raycast(origin,direction){var ptr0=passArrayF32ToWasm0(origin,wasm.__wbindgen_malloc),len0=WASM_VECTOR_LEN,ptr1=passArrayF32ToWasm0(direction,wasm.__wbindgen_malloc),len1=WASM_VECTOR_LEN;return takeObject(wasm.gkcollisiongeo_raycast(this.ptr,ptr0,len0,ptr1,len1))}},{key:"hitTest",value:function hitTest(origin,direction){var ptr0=passArrayF32ToWasm0(origin,wasm.__wbindgen_malloc),len0=WASM_VECTOR_LEN,ptr1=passArrayF32ToWasm0(direction,wasm.__wbindgen_malloc),len1=WASM_VECTOR_LEN;return 0!==wasm.gkcollisiongeo_hitTest(this.ptr,ptr0,len0,ptr1,len1)}}],[{key:"__wrap",value:function __wrap(ptr){var obj=Object.create(GKCollisionGeo.prototype);return obj.ptr=ptr,obj}}]),GKCollisionGeo}();function load(_x3,_x4){return _load.apply(this,arguments)}function _load(){return(_load=_asyncToGenerator(regeneratorRuntime.mark((function _callee(module,imports){var bytes,instance;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!("function"==typeof Response&&module instanceof Response)){_context.next=23;break}if("function"!=typeof WebAssembly.instantiateStreaming){_context.next=15;break}return _context.prev=2,_context.next=5,WebAssembly.instantiateStreaming(module,imports);case 5:return _context.abrupt("return",_context.sent);case 8:if(_context.prev=8,_context.t0=_context.catch(2),"application/wasm"==module.headers.get("Content-Type")){_context.next=14;break}console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",_context.t0),_context.next=15;break;case 14:throw _context.t0;case 15:return _context.next=17,module.arrayBuffer();case 17:return bytes=_context.sent,_context.next=20,WebAssembly.instantiate(bytes,imports);case 20:return _context.abrupt("return",_context.sent);case 23:return _context.next=25,WebAssembly.instantiate(module,imports);case 25:if(!((instance=_context.sent)instanceof WebAssembly.Instance)){_context.next=30;break}return _context.abrupt("return",{instance:instance,module:module});case 30:return _context.abrupt("return",instance);case 31:case"end":return _context.stop()}}),_callee,null,[[2,8]])})))).apply(this,arguments)}function init(_x5){return _init.apply(this,arguments)}function _init(){return(_init=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(input){var imports,_yield$load,instance,module;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return void 0===input&&console.log("You must specify wasm location"),(imports={}).wbg={},imports.wbg.__wbindgen_json_serialize=function(arg0,arg1){var obj=getObject(arg1),ptr0=passStringToWasm0(JSON.stringify(void 0===obj?null:obj),wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),len0=WASM_VECTOR_LEN;getInt32Memory0()[arg0/4+1]=len0,getInt32Memory0()[arg0/4+0]=ptr0},imports.wbg.__wbindgen_object_drop_ref=function(arg0){takeObject(arg0)},imports.wbg.__wbindgen_json_parse=function(arg0,arg1){return addHeapObject(JSON.parse(getStringFromWasm0(arg0,arg1)))},imports.wbg.__wbindgen_string_new=function(arg0,arg1){return addHeapObject(getStringFromWasm0(arg0,arg1))},imports.wbg.__wbg_new_59cb74e423758ede=function(){return addHeapObject(new Error)},imports.wbg.__wbg_stack_558ba5917b466edd=function(arg0,arg1){var ptr0=passStringToWasm0(getObject(arg1).stack,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),len0=WASM_VECTOR_LEN;getInt32Memory0()[arg0/4+1]=len0,getInt32Memory0()[arg0/4+0]=ptr0},imports.wbg.__wbg_error_4bb6c2a97407129a=function(arg0,arg1){try{console.error(getStringFromWasm0(arg0,arg1))}finally{wasm.__wbindgen_free(arg0,arg1)}},imports.wbg.__wbg_debug_7020dcb48edf105b=function(arg0){console.debug(getObject(arg0))},imports.wbg.__wbg_error_b23efba5bfb5cec5=function(arg0){console.error(getObject(arg0))},imports.wbg.__wbg_info_8ce99578d0b91a35=function(arg0){console.info(getObject(arg0))},imports.wbg.__wbg_log_c180b836187d3c94=function(arg0){console.log(getObject(arg0))},imports.wbg.__wbg_warn_942f927afebcc748=function(arg0){console.warn(getObject(arg0))},imports.wbg.__wbindgen_throw=function(arg0,arg1){throw new Error(getStringFromWasm0(arg0,arg1))},("string"==typeof input||"function"==typeof Request&&input instanceof Request||"function"==typeof URL&&input instanceof URL)&&(input=fetch(input)),_context2.t0=load,_context2.next=20,input;case 20:return _context2.t1=_context2.sent,_context2.t2=imports,_context2.next=24,(0,_context2.t0)(_context2.t1,_context2.t2);case 24:return _yield$load=_context2.sent,instance=_yield$load.instance,module=_yield$load.module,wasm=instance.exports,init.__wbindgen_wasm_module=module,_context2.abrupt("return",wasm);case 30:case"end":return _context2.stop()}}),_callee2)})))).apply(this,arguments)}var Drawable=function(){function Drawable(){var _this=this;_classCallCheck(this,Drawable),_defineProperty(this,"id",null),_defineProperty(this,"geometry",null),_defineProperty(this,"collisionGeometry",null),_defineProperty(this,"material",null),_defineProperty(this,"_translation",[0,0,0]),_defineProperty(this,"_rotation",[0,0,0]),_defineProperty(this,"_scale",[1,1,1]),_defineProperty(this,"_modelMatrix",null),_defineProperty(this,"_modelIsDirty",!0),_defineProperty(this,"rayCast",!0),_defineProperty(this,"isInteractive",!1),_defineProperty(this,"isSelectable",!1),_defineProperty(this,"isHoverable",!1),_defineProperty(this,"shouldDraw",!0),_defineProperty(this,"setInteractive",(function(interactive,selectable,hoverable){_this.isInteractive="boolean"==typeof interactive&&interactive,_this.isSelectable="boolean"==typeof selectable&&selectable,_this.isHoverable="boolean"==typeof hoverable&&hoverable})),this.id="_"+Math.random().toString(36).substr(2,9)}return _createClass(Drawable,[{key:"update",value:function update(sceneProps){var _this2=this;sceneProps&&Object.entries(sceneProps).forEach((function(el){_this2.material.uniforms[el[0]]=el[1]}))}},{key:"isReady",get:function get(){return!(!this.geometry||!this.material)&&(this.geometry.isReady&&this.material.isReady)}},{key:"translation",get:function get(){return this._translation},set:function set(newTranslation){this._translation=newTranslation,this._modelIsDirty=!0}},{key:"rotation",get:function get(){return this._rotation},set:function set(newRotation){this._rotation=newRotation,this._modelIsDirty=!0}},{key:"scale",get:function get(){return this._scale},set:function set(newScale){this._scale=newScale,this._modelIsDirty=!0}},{key:"modelMatrix",get:function get(){if(this._modelIsDirty){var mat0=m4.identity(),translationMatrix=m4.translation(this._translation,mat0),scaleMatrix=m4.scaling(this._scale);this._modelMatrix=translationMatrix,m4.rotateX(translationMatrix,this._rotation[0],this._modelMatrix),m4.rotateY(translationMatrix,this._rotation[1],this._modelMatrix),m4.rotateZ(translationMatrix,this._rotation[2],this._modelMatrix),m4.multiply(this._modelMatrix,scaleMatrix,this._modelMatrix),this._modelIsDirty=!1}return this._modelMatrix}}]),Drawable}(),Globe=function(_Drawable){_inherits(Globe,_Drawable);var _super=_createSuper(Globe);function Globe(){return _classCallCheck(this,Globe),_super.apply(this,arguments)}return Globe}(Drawable),Geometry=function(){function Geometry(type){var _this=this;_classCallCheck(this,Geometry),_defineProperty(this,"isInit",!1),_defineProperty(this,"isDirty",!1),_defineProperty(this,"needsResize",!1),_defineProperty(this,"newGeometry",[]),_defineProperty(this,"bufferInfo",void 0),_defineProperty(this,"vertices",void 0),_defineProperty(this,"init",(function(gl){0===Object.keys(_this.vertices).length&&_this.vertices.constructor===Object||(_this.bufferInfo=createBufferInfoFromArrays(gl,_this.vertices),_this.isInit=!0,_this.isDirty=!1)})),_defineProperty(this,"resizeVertices",(function(length){})),_defineProperty(this,"updateGeometry",(function(newGeo,start,end){void 0!==start&&"number"==typeof start||(start=0),console.log("Update geo",newGeo),Object.keys(newGeo).forEach((function(key){var _this$vertices$key$da;(_this$vertices$key$da=_this.vertices[key].data).splice.apply(_this$vertices$key$da,[start,newGeo[key].data.length].concat(_toConsumableArray(newGeo[key].data)))})),_this.isDirty=!0})),_defineProperty(this,"updateBuffers",(function(gl){Object.keys(_this.bufferInfo.attribs).forEach((function(attr){!function setAttribInfoBufferFromArray(gl,attribInfo,array,offset){array=makeTypedArray(array),void 0!==offset?(gl.bindBuffer(34962,attribInfo.buffer),gl.bufferSubData(34962,offset,array)):setBufferFromTypedArray(gl,34962,attribInfo.buffer,array,attribInfo.drawType)}(gl,_this.bufferInfo.attribs[attr],_this.vertices[attr])})),_this.isDirty=!1})),_defineProperty(this,"reloadBuffers",(function(gl){_this.deleteBuffers(gl),_this.bufferInfo=createBufferInfoFromArrays(gl,_this.vertices),_this.isDirty=!1,_this.needsResize=!1})),_defineProperty(this,"deleteBuffers",(function(gl){Object.keys(_this.bufferInfo.attribs).forEach((function(attr){gl.deleteBuffer(attr.buffer)})),gl.deleteBuffer(_this.bufferInfo.indices),_this.bufferInfo={}})),this.vertices="sphere"===type?primitives.createSphereVertices(1,128,128):{}}return _createClass(Geometry,[{key:"isReady",get:function get(){return this.isInit}}]),Geometry}(),GKUtils=function(){function GKUtils(){_classCallCheck(this,GKUtils)}return _createClass(GKUtils,null,[{key:"radiansForPosition",value:function radiansForPosition(x,z){return z>0?x>=0?Math.atan(x/z):2*Math.PI+Math.atan(x/z):z<0?Math.PI+Math.atan(x/z):x>0?Math.PI/2:3*Math.PI/2}},{key:"latLonFromWorld",value:function latLonFromWorld(pos){var normal=create$3();normalize$1(normal,pos);for(var latRad=Math.asin(normal[1]),lonRad=this.radiansForPosition(normal[0],normal[2]),latDeg=180*latRad/Math.PI,lonDeg=180*lonRad/Math.PI;lonDeg>180;)lonDeg-=360;return{lat:latDeg,lon:lonDeg}}},{key:"distanceBetweenPoints",value:function distanceBetweenPoints(p0,p1){var degreesToRadians=function degreesToRadians(degrees){return degrees*(Math.PI/180)},phi1=degreesToRadians(p0.lat),phi2=degreesToRadians(p1.lat),deltaPhi=degreesToRadians(p1.lat-p0.lat),deltaLambda=degreesToRadians(p1.lon-p0.lon),a=Math.sin(deltaPhi/2)*Math.sin(deltaPhi/2)+Math.cos(phi1)*Math.cos(phi2)*Math.sin(deltaLambda/2)*Math.sin(deltaLambda/2);return 6371*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))}},{key:"worldFromLatLon",value:function worldFromLatLon(lat,lon,alt){var altitude=alt||0,latRad=lat*Math.PI/180,lngRad=lon*Math.PI/180,radius=Math.cos(latRad),y=Math.sin(latRad),pos=fromValues(Math.sin(lngRad)*radius,y,Math.cos(lngRad)*radius),norm=create$3();return normalize$1(norm,pos),function add$1(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out}(pos,pos,function scale$1(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out}(norm,norm,altitude)),pos}},{key:"hexToRGB",value:function hexToRGB(h,normalize){var r=0,g=0,b=0,norm=!1!==normalize;return 4===h.length?(r="0x".concat(h[1]).concat(h[1]),g="0x".concat(h[2]).concat(h[2]),b="0x".concat(h[3]).concat(h[3])):7===h.length&&(r="0x".concat(h[1]).concat(h[2]),g="0x".concat(h[3]).concat(h[4]),b="0x".concat(h[5]).concat(h[6])),norm?(r/=255,g/=255,b/=255):(r=parseInt(r,16),g=parseInt(g,16),b=parseInt(b,16)),[r,g,b]}},{key:"hexToRGBA",value:function hexToRGBA(h,a,normalize){var rgb=this.hexToRGB(h,normalize),alpha=!1!==normalize?a:255*a;return[rgb[0],rgb[1],rgb[2],alpha]}},{key:"isSubSet",value:function isSubSet(a,b){return a.every((function(el){return void 0!==b.find((function(e){return e===el}))}))}},{key:"lerpColor",value:function lerpColor(a,b,amount){var ah=parseInt(a.replace(/#/g,""),16),ar=ah>>16,ag=ah>>8&255,ab=255&ah,bh=parseInt(b.replace(/#/g,""),16);return"#".concat(((1<<24)+(ar+amount*((bh>>16)-ar)<<16)+(ag+amount*((bh>>8&255)-ag)<<8)+(ab+amount*((255&bh)-ab))|0).toString(16).slice(1))}}]),GKUtils}(),shaders={vertex:"#define GLSLIFY 1\nattribute vec4 position;attribute vec3 normal;attribute vec2 texcoord;uniform mat4 u_worldViewProjection;uniform mat4 u_viewInverse;uniform mat4 u_model;uniform vec3 u_cameraPos;varying float vAlpha;varying vec2 vTexture;void main(){vec4 pos=u_worldViewProjection*u_model*position;vAlpha=dot(normalize(u_cameraPos),normalize(normal.xyz));vTexture=texcoord;gl_Position=pos;}",fragment:"precision mediump float;\n#define GLSLIFY 1\nuniform sampler2D uTexture;varying float vAlpha;varying vec2 vTexture;void main(){vec4 textureColor=texture2D(uTexture,vec2(vTexture.x-0.25,vTexture.y));float nDot=(vAlpha+1.0)/2.0;float roundness=smoothstep(0.0,1.0,nDot);float edge=smoothstep(0.5,0.6,nDot);gl_FragColor=vec4(textureColor.rgb*vAlpha,1.0);}"},uniforms={u_lightWorldPos:[1,3,-8],u_lightColor:[1,.8,.8,1],u_ambient:[1,1,1,1],u_specular:[1,1,1,1],u_shininess:100,u_specularFactor:.1,uModelMatrix:[],uCameraMatrix:[],uPerspectiveMatrix:[],uCameraPos:[0,0,0]},Icosphere=function(_Globe){_inherits(Icosphere,_Globe);var _super=_createSuper(Icosphere);function Icosphere(textureSrc){var _thisSuper,_this;return _classCallCheck(this,Icosphere),_defineProperty(_assertThisInitialized(_this=_super.call(this)),"material",null),_defineProperty(_assertThisInitialized(_this),"init",(function(gl){_this.geometry=new Geometry("sphere"),_this.geometry.init(gl);var texturesConfig={surface:{src:_this.textureSrc.surface,minMag:gl.LINEAR}};_this.material.init(gl),_this.material.loadTextures(gl,texturesConfig,(function(){_this.material.uniforms.uTexture=_this.material.textures.surface})),_this.material.uniforms.uModelMatrix=_this.modelMatrix})),_defineProperty(_assertThisInitialized(_this),"createCollisionGeo",(function(){_this.collisionGeometry&&_this.collisionGeometry instanceof GKCollision||(_this.collisionGeometry=GKCollider.create_collision_geometry(_this.geometry.vertices.position,_this.geometry.vertices.texcoord,_this.geometry.vertices.indices))})),_defineProperty(_assertThisInitialized(_this),"rayCastFrom",(function(ray){return _this.collisionGeometry.raycast(ray.origin,ray.direction)})),_defineProperty(_assertThisInitialized(_this),"hitTest",(function(ray){return _this.collisionGeometry.hitTest(ray.origin,ray.direction)})),_defineProperty(_assertThisInitialized(_this),"onSelection",(function(lat,lon,selection){console.log("Icosphere.onSelection",GKUtils.latLonFromWorld(selection.point))})),_defineProperty(_assertThisInitialized(_this),"update",(function(gl,sceneProps,time){_get((_thisSuper=_assertThisInitialized(_this),_getPrototypeOf(Icosphere.prototype)),"update",_thisSuper).call(_thisSuper,sceneProps,time),_this.material.uniforms.u_model=_this.modelMatrix,console.log()})),_defineProperty(_assertThisInitialized(_this),"draw",(function(gl){_this.isReady&&(gl.useProgram(_this.material.programInfo.program),setBuffersAndAttributes(gl,_this.material.programInfo,_this.geometry.bufferInfo),setUniforms(_this.material.programInfo,_this.material.uniforms),gl.drawElements(gl.TRIANGLES,_this.geometry.bufferInfo.numElements,gl.UNSIGNED_SHORT,0))})),_this.material=new ShaderMaterial(shaders),_this.material.uniforms=uniforms,_this.textureSrc={surface:textureSrc},_this}return Icosphere}(Globe),ImageLookup=function ImageLookup(src,onInitCB){var _this=this;_classCallCheck(this,ImageLookup),_defineProperty(this,"isLoaded",!1),_defineProperty(this,"ctx",void 0),_defineProperty(this,"canvas",void 0),_defineProperty(this,"image",void 0),_defineProperty(this,"getIdFromLatLon",(function(lat,lon){if(_this.isLoaded){var nY=1-(lat/90+1)/2,x=(lon/180+1)/2*_this.canvas.width,y=nY*_this.canvas.height;return _this.ctx.getImageData(x,y,1,1).data[0]}})),this.image=new Image,this.image.src=src,this.image.addEventListener("load",(function(){_this.canvas=document.createElement("canvas"),_this.canvas.width=_this.image.width,_this.canvas.height=_this.image.height,_this.ctx=_this.canvas.getContext("2d"),_this.ctx.drawImage(_this.image,0,0),_this.isLoaded=!0,onInitCB()}))},Lookup=function Lookup(data,image){var _this=this;_classCallCheck(this,Lookup),_defineProperty(this,"isInit",!1),_defineProperty(this,"useImageLookup",!1),_defineProperty(this,"imageLookup",null),_defineProperty(this,"getIdFromLatLon",(function(lat,lon){return _this.imageLookup.getIdFromLatLon(lat,lon)})),_defineProperty(this,"getFromId",(function(id){return _this.data.find((function(obj){return obj.id===id}))})),_defineProperty(this,"getFromCode",(function(code){return _this.data.find((function(obj){return obj.code===code}))})),_defineProperty(this,"getFromName",(function(name){return _this.data.find((function(obj){return obj.name===name}))})),data instanceof Array&&(this.data=data,image&&(this.useImageLookup=!0,this.imageLookup=new ImageLookup(image,(function(){_this.isInit=!0}))))},Tween=function(){function Tween(from,to,time,props){var _this=this;_classCallCheck(this,Tween),_defineProperty(this,"time",void 0),_defineProperty(this,"delay",0),_defineProperty(this,"ease",(function(p){return p})),_defineProperty(this,"onComplete",(function(finished){})),_defineProperty(this,"onUpdate",(function(value){})),_defineProperty(this,"endAt",void 0),_defineProperty(this,"isNumeric",!1),_defineProperty(this,"toObj",null),_defineProperty(this,"fromObj",null),_defineProperty(this,"currentObj",null),_defineProperty(this,"mechanism",(function(){if(_this.isRunning){if(_this.stopped)return!1;var timeLeft=_this.endAt-(new Date).getTime();timeLeft<=0?(clearTimeout(_this.playTimeout),_this.stopped=!0,_this.advanceFrame(1,1),_this.isNumeric?_this.onUpdate(_this.currentObj.value):_this.onUpdate(_this.currentObj),_this.onComplete(!0),_this.cleanup()):(_this.advanceFrame(_this.time-timeLeft,_this.time),_this.isNumeric?_this.onUpdate(_this.currentObj.value):_this.onUpdate(_this.currentObj))}})),props=props||{},this.time=time,this.endAt=(new Date).getTime()+this.time,this.isNumeric=!isNaN(from),this.isNumeric?(this.toObj={value:to},this.fromObj={value:from}):(this.toObj=_objectSpread2({},to),this.fromObj=_objectSpread2({},from)),this.currentObj=_objectSpread2({},this.fromObj),this.id=Tween.getId(),Tween.tweens[this.id]=this,props.onComplete&&(this.onComplete=props.onComplete,delete props.onComplete),props.onUpdate&&(this.onUpdate=props.onUpdate,delete props.onUpdate),props.ease&&(this.ease=props.ease,delete props.ease),props.delay&&(this.endAt+=props.delay,this.delay=props.delay,delete props.delay),this.playTimeout=setTimeout((function(){_this.play()}),this.delay)}return _createClass(Tween,[{key:"play",value:function play(){this.endAt=(new Date).getTime()+this.time,this.isRunning=!0,Tween.isRunning||(Tween.isRunning=!0,requestAnimationFrame(Tween.mechanism))}},{key:"stop",value:function stop(){clearTimeout(this.playTimeout),this.stopped=!0,this.onComplete(!1),this.cleanup()}},{key:"currentValue",value:function currentValue(){return this.isNumeric?this.currentObj.value:this.currentObj}},{key:"cleanup",value:function cleanup(){this.isRunning=!1,delete Tween.tweens[this.id],0===Object.keys(Tween.tweens).length&&(Tween.isRunning=!1)}},{key:"advanceFrame",value:function advanceFrame(frame,frames){var t=0!==frames?frame/frames:1;for(var prop in t=this.ease(t),this.toObj){var b=this.fromObj[prop],m=this.toObj[prop]-b;this.currentObj[prop]=b+m*t}}}]),Tween}();Tween.id=0,Tween.tweens={},Tween.killTweensOf=function(obj){for(var x in Tween.tweens){var t=Tween.tweens[x];t.obj===obj&&t.stop()}},Tween.getId=function(){return++Tween.id},Tween.isRunning=!1,Tween.mechanism=function(){for(var key in Tween.tweens)Tween.tweens[key].mechanism();Tween.isRunning&&requestAnimationFrame(Tween.mechanism)};var DataTexture=function DataTexture(width,height){var _this=this;_classCallCheck(this,DataTexture),_defineProperty(this,"width",4),_defineProperty(this,"height",4),_defineProperty(this,"channels",4),_defineProperty(this,"elementLength",1),_defineProperty(this,"data",void 0),_defineProperty(this,"texture",void 0),_defineProperty(this,"isInit",!1),_defineProperty(this,"init",(function(gl){var textureSettings={width:_this.width,height:_this.height,mag:gl.NEAREST,min:gl.NEAREST,src:_this.data};_this.texture=createTexture(gl,textureSettings),_this.isInit=!0})),_defineProperty(this,"updatePixel",(function(gl,c,row,column){if(_this.isInit){var color=new Uint8Array(c);gl.bindTexture(gl.TEXTURE_2D,_this.texture),gl.texSubImage2D(gl.TEXTURE_2D,0,column,row,1,1,gl.RGBA,gl.UNSIGNED_BYTE,color)}})),_defineProperty(this,"updatePixelId",(function(gl,c,id){var row=Math.floor(id/_this.width),col=id-row*_this.width;_this.updatePixel(gl,c,row,col)})),_defineProperty(this,"updateSubrect",(function(gl,c){_this.isInit&&(gl.bindTexture(gl.TEXTURE_2D,_this.texture),gl.texSubImage2D(gl.TEXTURE_2D,0,0,0,_this.width,_this.height,gl.RGBA,gl.UNSIGNED_BYTE,c))})),this.width=width||this.width,this.height=height||this.height,this.data=new Uint8Array(this.width*this.height*this.channels).fill(0)},shaders$1={vertex:"#define GLSLIFY 1\nattribute vec4 position;attribute vec3 normal;attribute vec2 texcoord;uniform mat4 u_worldViewProjection;uniform mat4 u_viewInverse;uniform mat4 u_model;uniform vec3 u_cameraPos;varying float vAlpha;varying vec2 vTexture;void main(){vec4 pos=u_worldViewProjection*u_model*position;vAlpha=dot(normalize(u_cameraPos),normalize(position.xyz));vTexture=texcoord;gl_Position=pos;}",fragment:"precision mediump float;\n#define GLSLIFY 1\nuniform sampler2D u_inactive;uniform sampler2D u_active;uniform sampler2D u_id;uniform sampler2D u_data;uniform float u_idAnimateIn;uniform float u_idAnimateOut;uniform float u_animateIn;uniform float u_animateOut;uniform vec3 u_animateHover;uniform vec3 u_animatable0;uniform vec3 u_animatable1;uniform vec3 u_animatable2;uniform vec3 u_animatable3;uniform vec3 u_animatable4;uniform vec3 u_animatable5;varying float vAlpha;varying vec2 vTexture;float when_eq(float x,float y){return 1.0-abs(sign(x-y));}float when_lt(float x,float y){return max(sign(y-x),0.0);}vec2 get_data_coords_from_id(float id){float width=16.0;float height=16.0;float w_pixel=1.0/width;float h_pixel=1.0/height;float row=floor(id/width);float col=id-(row*width);return vec2(col*w_pixel,row*h_pixel);}void main(){vec4 inactiveColor=texture2D(u_inactive,vec2(vTexture.x-0.25,vTexture.y));vec4 activeColor=texture2D(u_active,vec2(vTexture.x-0.25,vTexture.y));vec4 idColor=texture2D(u_id,vec2(vTexture.x-0.25,vTexture.y));vec4 dataColor=texture2D(u_data,get_data_coords_from_id(floor(idColor.r*255.0)))*idColor.a;vec3 base=inactiveColor.rgb*(1.0-dataColor.a)+dataColor.rgb*(dataColor.a);vec3 color=base;gl_FragColor=vec4(color,1.0);}"},uniforms$1={u_lightWorldPos:[1,3,-8],u_lightColor:[1,.8,.8,1],u_ambient:[1,1,1,1],u_specular:[1,1,1,1],u_shininess:100,u_specularFactor:.1},IcosphereLookup=function(_Globe){_inherits(IcosphereLookup,_Globe);var _super=_createSuper(IcosphereLookup);function IcosphereLookup(textureSrc){var _thisSuper,_this;return _classCallCheck(this,IcosphereLookup),_defineProperty(_assertThisInitialized(_this=_super.call(this)),"material",null),_defineProperty(_assertThisInitialized(_this),"lookup",null),_defineProperty(_assertThisInitialized(_this),"currentSelection",-1),_defineProperty(_assertThisInitialized(_this),"previousSelection",-1),_defineProperty(_assertThisInitialized(_this),"inAnimation",null),_defineProperty(_assertThisInitialized(_this),"outAnimation",null),_defineProperty(_assertThisInitialized(_this),"currentHover",-1),_defineProperty(_assertThisInitialized(_this),"hoverables",[]),_defineProperty(_assertThisInitialized(_this),"hoverableUniforms",["u_animatable0","u_animatable1","u_animatable2","u_animatable3","u_animatable4","u_animatable5"]),_defineProperty(_assertThisInitialized(_this),"selection0",236),_defineProperty(_assertThisInitialized(_this),"selection1",144),_defineProperty(_assertThisInitialized(_this),"current",236),_defineProperty(_assertThisInitialized(_this),"dataTexture",void 0),_defineProperty(_assertThisInitialized(_this),"dataTextureSize",16),_defineProperty(_assertThisInitialized(_this),"updateCMDs",[]),_defineProperty(_assertThisInitialized(_this),"highlightAnimationProps",{start:0,stop:1,duration:1e3,onUpdate:function onUpdate(value){_this.material.uniforms.u_animateIn=value}}),_defineProperty(_assertThisInitialized(_this),"init",(function(gl,cb){_this.geometry=new Geometry("sphere"),_this.geometry.init(gl);var texturesConfig={inactive:{src:_this.textureSrc.inactive,minMag:gl.LINEAR},active:{src:_this.textureSrc.active,minMag:gl.LINEAR},id:{src:_this.textureSrc.id,minMag:gl.NEAREST}};_this.material.init(gl),_this.material.loadTextures(gl,texturesConfig,(function(){_this.material.uniforms.u_inactive=_this.material.textures.inactive,_this.material.uniforms.u_active=_this.material.textures.active,_this.material.uniforms.u_id=_this.material.textures.id,_this.dataTexture.init(gl),_this.material.uniforms.u_data=_this.dataTexture.texture,cb&&cb()}))})),_defineProperty(_assertThisInitialized(_this),"getValueForId",(function(id){return _this.lookup.getFromId(id)})),_defineProperty(_assertThisInitialized(_this),"getValueForCode",(function(code){return _this.lookup.getFromCode(code)})),_defineProperty(_assertThisInitialized(_this),"getValueForName",(function(name){return _this.lookup.getFromName(name)})),_defineProperty(_assertThisInitialized(_this),"setIdColor",(function(id,color,alpha){var a=void 0===alpha?1:alpha,c=GKUtils.hexToRGBA(color,a,!1);_this.updateCMDs.push((function(gl){_this.dataTexture.updatePixelId(gl,c,id)}))})),_defineProperty(_assertThisInitialized(_this),"createCollisionGeo",(function(){_this.collisionGeometry&&_this.collisionGeometry instanceof GKCollision||(_this.collisionGeometry=GKCollider.create_collision_geometry(_this.geometry.vertices.position,_this.geometry.vertices.texcoord,_this.geometry.vertices.indices))})),_defineProperty(_assertThisInitialized(_this),"rayCastFrom",(function(ray){return _this.collisionGeometry.raycast(ray.origin,ray.direction)})),_defineProperty(_assertThisInitialized(_this),"hitTest",(function(ray){return _this.collisionGeometry.hitTest(ray.origin,ray.direction)})),_defineProperty(_assertThisInitialized(_this),"onSelectionCB",(function(selectionObj){})),_defineProperty(_assertThisInitialized(_this),"onSelection",(function(lat,lon,collision){var coords=GKUtils.latLonFromWorld(collision.point);return _this.current=_this.lookup.getIdFromLatLon(coords.lat,coords.lon),_this.setHighlightId(_this.current),_this.onSelectionCB(_this.current),{id:_this.current,name:_this.lookup.getFromId(_this.current)}})),_defineProperty(_assertThisInitialized(_this),"onHover",(function(collision){console.log("IcosphereLookup.onHover",collision)})),_defineProperty(_assertThisInitialized(_this),"update",(function(gl,sceneProps,time){_get((_thisSuper=_assertThisInitialized(_this),_getPrototypeOf(IcosphereLookup.prototype)),"update",_thisSuper).call(_thisSuper,sceneProps,time),_this.material.uniforms.u_model=_this.modelMatrix,_this.updateCMDs.forEach((function(cmd){cmd(gl)})),_this.updateCMDs=[]})),_defineProperty(_assertThisInitialized(_this),"draw",(function(gl){_this.isReady&&_this.shouldDraw&&(gl.useProgram(_this.material.programInfo.program),setBuffersAndAttributes(gl,_this.material.programInfo,_this.geometry.bufferInfo),setUniforms(_this.material.programInfo,_this.material.uniforms),gl.drawElements(gl.TRIANGLES,_this.geometry.bufferInfo.numElements,gl.UNSIGNED_SHORT,0))})),_defineProperty(_assertThisInitialized(_this),"setCountryHover",(function(countryIndex){})),_defineProperty(_assertThisInitialized(_this),"setHighlightId",(function(id){_this.previousSelection=_this.currentSelection,_this.currentSelection=id;var animateOutStart=_this.inAnimation?_this.inAnimation.currentValue():1,animateOutDuration=300*animateOutStart;_this.animateIn(_this.currentSelection,500),_this.animateOut(_this.previousSelection,animateOutDuration,animateOutStart)})),_defineProperty(_assertThisInitialized(_this),"animateIn",(function(id,duration,cb){_this.material.uniforms.u_idAnimateIn=id,_this.inAnimation&&_this.inAnimation.stop(),_this.material.uniforms.u_animateIn=0,_this.inAnimation=new Tween(_this.highlightAnimationProps.start,_this.highlightAnimationProps.stop,_this.highlightAnimationProps.duration,{onUpdate:_this.highlightAnimationProps.onUpdate})})),_defineProperty(_assertThisInitialized(_this),"animateOut",(function(id,duration,start,cb){_this.material.uniforms.u_idAnimateOut=id,_this.outAnimation&&_this.outAnimation.stop(),_this.material.uniforms.u_animateOut=start,_this.outAnimation=new Tween(start,0,duration,{onUpdate:function onUpdate(value){_this.material.uniforms.u_animateOut=value}})})),_defineProperty(_assertThisInitialized(_this),"addDataset",(function(data){_this.lookup=new Lookup(data,_this.textureSrc.id)})),_defineProperty(_assertThisInitialized(_this),"updateIdState",(function(id,state){})),_this.material=new ShaderMaterial(shaders$1),_this.material.uniforms=uniforms$1,_this.textureSrc={inactive:textureSrc.inactive,active:textureSrc.active,id:textureSrc.id},_this.dataTexture=new DataTexture(_this.dataTextureSize,_this.dataTextureSize),_this}return IcosphereLookup}(Globe);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==global||"undefined"!=typeof self&&self;function createCommonjsModule(fn,module){return fn(module={exports:{}},module.exports),module.exports}createCommonjsModule((function(module){!function(a,b,c,d){function e(a,b,c){return setTimeout(j(a,c),b)}function f(a,b,c){return!!Array.isArray(a)&&(g(a,c[b],c),!0)}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(b,c,d){var e="DEPRECATED METHOD: "+c+"\n"+d+" AT \n";return function(){var c=new Error("get-stack-trace"),d=c&&c.stack?c.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=a.console&&(a.console.warn||a.console.log);return f&&f.call(a.console,e,d),b.apply(this,arguments)}}function i(a,b,c){var d,e=b.prototype;(d=a.prototype=Object.create(e)).constructor=a,d._super=e,c&&la(d,c)}function j(a,b){return function(){return a.apply(b,arguments)}}function k(a,b){return _typeof(a)==oa?a.apply(b&&b[0]||d,b):a}function l(a,b){return a===d?b:a}function m(a,b,c){g(q(b),(function(b){a.addEventListener(b,c,!1)}))}function n(a,b,c){g(q(b),(function(b){a.removeEventListener(b,c,!1)}))}function o(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function p(a,b){return a.indexOf(b)>-1}function q(a){return a.trim().split(/\s+/g)}function r(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function s(a){return Array.prototype.slice.call(a,0)}function t(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];r(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort((function(a,c){return a[b]>c[b]})):d.sort()),d}function u(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ma.length;){if((e=(c=ma[g])?c+f:b)in a)return e;g++}return d}function w(b){var c=b.ownerDocument||b;return c.defaultView||c.parentWindow||a}function x(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){k(a.options.enable,[a])&&c.handler(b)},this.init()}function z(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Ea&&d-e==0,g=b&(Ga|Ha)&&d-e==0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,function A(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=D(b)),e>1&&!c.firstMultiple?c.firstMultiple=D(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=E(d);b.timeStamp=ra(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=I(h,i),b.distance=H(h,i),function B(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==Ea&&f.eventType!==Ga||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}(c,b),b.offsetDirection=G(b.deltaX,b.deltaY);var j=F(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=qa(j.x)>qa(j.y)?j.x:j.y,b.scale=g?function K(a,b){return H(b[0],b[1],Ra)/H(a[0],a[1],Ra)}(g.pointers,d):1,b.rotation=g?function J(a,b){return I(b[1],b[0],Ra)+I(a[1],a[0],Ra)}(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,C(c,b);var k=a.element;o(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function C(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ha&&(i>Da||h.velocity===d)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=F(i,j,k);e=l.x,f=l.y,c=qa(l.x)>qa(l.y)?l.x:l.y,g=G(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function D(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:pa(a.pointers[c].clientX),clientY:pa(a.pointers[c].clientY)},c++;return{timeStamp:ra(),pointers:b,center:E(b),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var b=a.length;if(1===b)return{x:pa(a[0].clientX),y:pa(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:pa(c/b),y:pa(d/b)}}function F(a,b,c){return{x:b/a||0,y:c/a||0}}function G(a,b){return a===b?Ia:qa(a)>=qa(b)?0>a?Ja:Ka:0>b?La:Ma}function H(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function I(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function L(){this.evEl=Ta,this.evWin=Ua,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=Xa,this.evWin=Ya,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=$a,this.evWin=_a,this.started=!1,x.apply(this,arguments)}function O(a,b){var c=s(a.touches),d=s(a.changedTouches);return b&(Ga|Ha)&&(c=t(c.concat(d),"identifier",!0)),[c,d]}function P(){this.evTarget=bb,this.targetIds={},x.apply(this,arguments)}function Q(a,b){var c=s(a.touches),d=this.targetIds;if(b&(Ea|Fa)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=s(a.changedTouches),h=[],i=this.target;if(f=c.filter((function(a){return o(a.target,i)})),b===Ea)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ga|Ha)&&delete d[g[e].identifier],e++;return h.length?[t(f.concat(h),"identifier",!0),h]:void 0}function R(){x.apply(this,arguments);var a=j(this.handler,this);this.touch=new P(this.manager,a),this.mouse=new L(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function S(a,b){a&Ea?(this.primaryTouch=b.changedPointers[0].identifier,T.call(this,b)):a&(Ga|Ha)&&T.call(this,b)}function T(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches;setTimeout((function e(){var a=d.indexOf(c);a>-1&&d.splice(a,1)}),cb)}}function U(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(db>=f&&db>=g)return!0}return!1}function V(a,b){this.manager=a,this.set(b)}function Y(a){this.options=la({},this.defaults,a||{}),this.id=function v(){return ua++}(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=nb,this.simultaneous={},this.requireFail=[]}function Z(a){return a&sb?"cancel":a&qb?"end":a&pb?"move":a&ob?"start":""}function $(a){return a==Ma?"down":a==La?"up":a==Ja?"left":a==Ka?"right":""}function _(a,b){var c=b.manager;return c?c.get(a):a}function aa(){Y.apply(this,arguments)}function ba(){aa.apply(this,arguments),this.pX=null,this.pY=null}function ca(){aa.apply(this,arguments)}function da(){Y.apply(this,arguments),this._timer=null,this._input=null}function ea(){aa.apply(this,arguments)}function fa(){aa.apply(this,arguments)}function ga(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ha(a,b){return(b=b||{}).recognizers=l(b.recognizers,ha.defaults.preset),new ia(a,b)}function ia(a,b){this.options=la({},ha.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=function y(a){var c=a.options.inputClass;return new(c||(xa?M:ya?P:wa?R:L))(a,z)}(this),this.touchAction=new V(this,this.options.touchAction),ja(this,!0),g(this.options.recognizers,(function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])}),this)}function ja(a,b){var d,c=a.element;c.style&&(g(a.options.cssProps,(function(e,f){d=u(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||""})),b||(a.oldCssProps={}))}function ka(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var la,ma=["","webkit","Moz","MS","ms","o"],na=b.createElement("div"),oa="function",pa=Math.round,qa=Math.abs,ra=Date.now;la="function"!=typeof Object.assign?function(a){if(a===d||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(e!==d&&null!==e)for(var f in e)e.hasOwnProperty(f)&&(b[f]=e[f])}return b}:Object.assign;var sa=h((function(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a}),"extend","Use `assign`."),ta=h((function(a,b){return sa(a,b,!0)}),"merge","Use `assign`."),ua=1,wa="ontouchstart"in a,xa=u(a,"PointerEvent")!==d,ya=wa&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),za="touch",Ba="mouse",Da=25,Ea=1,Fa=2,Ga=4,Ha=8,Ia=1,Ja=2,Ka=4,La=8,Ma=16,Na=Ja|Ka,Oa=La|Ma,Pa=Na|Oa,Qa=["x","y"],Ra=["clientX","clientY"];x.prototype={handler:function handler(){},init:function init(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(w(this.element),this.evWin,this.domHandler)},destroy:function destroy(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(w(this.element),this.evWin,this.domHandler)}};var Sa={mousedown:Ea,mousemove:Fa,mouseup:Ga},Ta="mousedown",Ua="mousemove mouseup";i(L,x,{handler:function handler(a){var b=Sa[a.type];b&Ea&&0===a.button&&(this.pressed=!0),b&Fa&&1!==a.which&&(b=Ga),this.pressed&&(b&Ga&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:Ba,srcEvent:a}))}});var Va={pointerdown:Ea,pointermove:Fa,pointerup:Ga,pointercancel:Ha,pointerout:Ha},Wa={2:za,3:"pen",4:Ba,5:"kinect"},Xa="pointerdown",Ya="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Xa="MSPointerDown",Ya="MSPointerMove MSPointerUp MSPointerCancel"),i(M,x,{handler:function handler(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Va[d],f=Wa[a.pointerType]||a.pointerType,g=f==za,h=r(b,a.pointerId,"pointerId");e&Ea&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Ga|Ha)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Za={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},$a="touchstart",_a="touchstart touchmove touchend touchcancel";i(N,x,{handler:function handler(a){var b=Za[a.type];if(b===Ea&&(this.started=!0),this.started){var c=O.call(this,a,b);b&(Ga|Ha)&&c[0].length-c[1].length==0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}}});var ab={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},bb="touchstart touchmove touchend touchcancel";i(P,x,{handler:function handler(a){var b=ab[a.type],c=Q.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}});var cb=2500,db=25;i(R,x,{handler:function handler(a,b,c){var d=c.pointerType==za,e=c.pointerType==Ba;if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)S.call(this,b,c);else if(e&&U.call(this,c))return;this.callback(a,b,c)}},destroy:function destroy(){this.touch.destroy(),this.mouse.destroy()}});var eb=u(na.style,"touchAction"),fb=eb!==d,gb="compute",hb="auto",ib="manipulation",jb="none",kb="pan-x",lb="pan-y",mb=function X(){if(!fb)return!1;var b={},c=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(d){b[d]=!c||a.CSS.supports("touch-action",d)})),b}();V.prototype={set:function set(a){a==gb&&(a=this.compute()),fb&&this.manager.element.style&&mb[a]&&(this.manager.element.style[eb]=a),this.actions=a.toLowerCase().trim()},update:function update(){this.set(this.manager.options.touchAction)},compute:function compute(){var a=[];return g(this.manager.recognizers,(function(b){k(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))})),function W(a){if(p(a,jb))return jb;var b=p(a,kb),c=p(a,lb);return b&&c?jb:b||c?b?kb:lb:p(a,ib)?ib:hb}(a.join(" "))},preventDefaults:function preventDefaults(a){var b=a.srcEvent,c=a.offsetDirection;if(!this.manager.session.prevented){var d=this.actions,e=p(d,jb)&&!mb[jb],f=p(d,lb)&&!mb[lb],g=p(d,kb)&&!mb[kb];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}return g&&f?void 0:e||f&&c&Na||g&&c&Oa?this.preventSrc(b):void 0}b.preventDefault()},preventSrc:function preventSrc(a){this.manager.session.prevented=!0,a.preventDefault()}};var nb=1,ob=2,pb=4,qb=8,rb=qb,sb=16;Y.prototype={defaults:{},set:function set(a){return la(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function recognizeWith(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return b[(a=_(a,this)).id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function dropRecognizeWith(a){return f(a,"dropRecognizeWith",this)||(a=_(a,this),delete this.simultaneous[a.id]),this},requireFailure:function requireFailure(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return-1===r(b,a=_(a,this))&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function dropRequireFailure(a){if(f(a,"dropRequireFailure",this))return this;a=_(a,this);var b=r(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function hasRequireFailures(){return this.requireFail.length>0},canRecognizeWith:function canRecognizeWith(a){return!!this.simultaneous[a.id]},emit:function emit(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;qb>d&&b(c.options.event+Z(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=qb&&b(c.options.event+Z(d))},tryEmit:function tryEmit(a){return this.canEmit()?this.emit(a):void(this.state=32)},canEmit:function canEmit(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(32|nb)))return!1;a++}return!0},recognize:function recognize(a){var b=la({},a);return k(this.options.enable,[this,b])?(this.state&(rb|sb|32)&&(this.state=nb),this.state=this.process(b),void(this.state&(ob|pb|qb|sb)&&this.tryEmit(b))):(this.reset(),void(this.state=32))},process:function process(a){},getTouchAction:function getTouchAction(){},reset:function reset(){}},i(aa,Y,{defaults:{pointers:1},attrTest:function attrTest(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function process(a){var b=this.state,c=a.eventType,d=b&(ob|pb),e=this.attrTest(a);return d&&(c&Ha||!e)?b|sb:d||e?c&Ga?b|qb:b&ob?b|pb:ob:32}}),i(ba,aa,{defaults:{event:"pan",threshold:10,pointers:1,direction:Pa},getTouchAction:function getTouchAction(){var a=this.options.direction,b=[];return a&Na&&b.push(lb),a&Oa&&b.push(kb),b},directionTest:function directionTest(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Na?(e=0===f?Ia:0>f?Ja:Ka,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ia:0>g?La:Ma,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function attrTest(a){return aa.prototype.attrTest.call(this,a)&&(this.state&ob||!(this.state&ob)&&this.directionTest(a))},emit:function emit(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=$(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),i(ca,aa,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function getTouchAction(){return[jb]},attrTest:function attrTest(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&ob)},emit:function emit(a){if(1!==a.scale){var b=a.scale<1?"in":"out";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),i(da,Y,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function getTouchAction(){return[hb]},process:function process(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ga|Ha)&&!f)this.reset();else if(a.eventType&Ea)this.reset(),this._timer=e((function(){this.state=rb,this.tryEmit()}),b.time,this);else if(a.eventType&Ga)return rb;return 32},reset:function reset(){clearTimeout(this._timer)},emit:function emit(a){this.state===rb&&(a&&a.eventType&Ga?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=ra(),this.manager.emit(this.options.event,this._input)))}}),i(ea,aa,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function getTouchAction(){return[jb]},attrTest:function attrTest(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&ob)}}),i(fa,aa,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Na|Oa,pointers:1},getTouchAction:function getTouchAction(){return ba.prototype.getTouchAction.call(this)},attrTest:function attrTest(a){var b,c=this.options.direction;return c&(Na|Oa)?b=a.overallVelocity:c&Na?b=a.overallVelocityX:c&Oa&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&qa(b)>this.options.velocity&&a.eventType&Ga},emit:function emit(a){var b=$(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),i(ga,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function getTouchAction(){return[ib]},process:function process(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&Ea&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Ga)return this.failTimeout();var g=!this.pTime||a.timeStamp-this.pTime<b.interval,h=!this.pCenter||H(this.pCenter,a.center)<b.posThreshold;if(this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a,0===this.count%b.taps)return this.hasRequireFailures()?(this._timer=e((function(){this.state=rb,this.tryEmit()}),b.interval,this),ob):rb}return 32},failTimeout:function failTimeout(){return this._timer=e((function(){this.state=32}),this.options.interval,this),32},reset:function reset(){clearTimeout(this._timer)},emit:function emit(){this.state==rb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ha.VERSION="2.0.8",ha.defaults={domEvents:!1,touchAction:gb,enable:!0,inputTarget:null,inputClass:null,preset:[[ea,{enable:!1}],[ca,{enable:!1},["rotate"]],[fa,{direction:Na}],[ba,{direction:Na},["swipe"]],[ga],[ga,{event:"doubletap",taps:2},["tap"]],[da]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};ia.prototype={set:function set(a){return la(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function stop(a){this.session.stopped=a?2:1},recognize:function recognize(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&rb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],2===b.stopped||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(ob|pb|qb)&&(e=b.curRecognizer=c),f++}},get:function get(a){if(a instanceof Y)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function add(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function remove(a){if(f(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers,c=r(b,a);-1!==c&&(b.splice(c,1),this.touchAction.update())}return this},on:function on(a,b){if(a!==d&&b!==d){var c=this.handlers;return g(q(a),(function(a){c[a]=c[a]||[],c[a].push(b)})),this}},off:function off(a,b){if(a!==d){var c=this.handlers;return g(q(a),(function(a){b?c[a]&&c[a].splice(r(c[a],b),1):delete c[a]})),this}},emit:function emit(a,b){this.options.domEvents&&ka(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function destroy(){this.element&&ja(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},la(ha,{INPUT_START:Ea,INPUT_MOVE:Fa,INPUT_END:Ga,INPUT_CANCEL:Ha,STATE_POSSIBLE:nb,STATE_BEGAN:ob,STATE_CHANGED:pb,STATE_ENDED:qb,STATE_RECOGNIZED:rb,STATE_CANCELLED:sb,STATE_FAILED:32,DIRECTION_NONE:Ia,DIRECTION_LEFT:Ja,DIRECTION_RIGHT:Ka,DIRECTION_UP:La,DIRECTION_DOWN:Ma,DIRECTION_HORIZONTAL:Na,DIRECTION_VERTICAL:Oa,DIRECTION_ALL:Pa,Manager:ia,Input:x,TouchAction:V,TouchInput:P,MouseInput:L,PointerEventInput:M,TouchMouseInput:R,SingleTouchInput:N,Recognizer:Y,AttrRecognizer:aa,Tap:ga,Pan:ba,Swipe:fa,Pinch:ca,Rotate:ea,Press:da,on:m,off:n,each:g,merge:ta,extend:sa,assign:la,inherit:i,bindFn:j,prefixed:u}),(void 0!==a?a:"undefined"!=typeof self?self:{}).Hammer=ha,module.exports?module.exports=ha:a.Hammer=ha}(window,document)}));var MovementModel=function(){function MovementModel(){var _this=this;_classCallCheck(this,MovementModel),_defineProperty(this,"isInteractive",!0),_defineProperty(this,"hasAmbient",!1),_defineProperty(this,"init",(function(width,height,aspect,fov){_this.zStart=_this._zBounded(_this.settings.CAM_Z_INI),_this.zCurrent=_this.zStart,_this.zTarget=_this.zStart,_this.rotStart=[0,0],_this.rotCurrent=_this.rotStart,_this.rotTarget=_this.rotStart,_this.rotVelocity=[0,0],_this.interacting=!1,_this.lastGestureChange=0,_this.pointsPerRadian=Math.PI/(width/window.devicePixelRatio),_this.zFullWidth=_this.settings.CAM_Z_MAX,_this.camFov=fov,_this.camAspect=aspect,_this.zFullWidth=_this._frustumDist(1/_this.camAspect*2,_this.camFov)})),_defineProperty(this,"resize",(function(width,height,aspect,fov){_this.pointsPerRadian=Math.PI/(width/window.devicePixelRatio),_this.camFov=fov,_this.camAspect=aspect,_this.zFullWidth=_this._frustumDist(1/_this.camAspect*2,_this.camFov)})),_defineProperty(this,"activate",(function(){_this.hammertime.on("panstart",_this._onPanStart.bind(_this)),_this.hammertime.on("pan",_this._onPanContinue.bind(_this)),_this.hammertime.on("panend",_this._onPanEnd.bind(_this)),_this.hammertime.on("tap",_this._onTap.bind(_this))})),_defineProperty(this,"deactivate",(function(){_this.hammertime.off("panstart",_this._onPanStart.bind(_this)),_this.hammertime.off("pan",_this._onPanContinue.bind(_this)),_this.hammertime.off("panend",_this._onPanEnd.bind(_this)),_this.hammertime.off("tap",_this._onTap.bind(_this))})),_defineProperty(this,"_zForScale",(function(scale){return scale<1?_this.zStart*(1/scale):_this.zStart+(_this.settings.CAM_Z_MIN-_this.zStart)*(1-1/scale)})),_defineProperty(this,"_onWheel",(function(event){if(_this.isInteractive){event.preventDefault();var absScaledDeltaY=Math.pow((event.deltaY+10)/100,3)/250,scaledDeltaY=event.deltaY>0?absScaledDeltaY:1/absScaledDeltaY;scaledDeltaY=Math.max(.9,scaledDeltaY),scaledDeltaY=Math.min(1.2,scaledDeltaY),_this.zStart=_this.zCurrent,_this.rotVelocity=[0,0],_this.zTarget=_this._zBounded(_this._zForScale(scaledDeltaY)),_this.lastGestureChange=event.timeStamp}})),_defineProperty(this,"_onPanContinue",(function(event){if(_this.isInteractive&&!0===_this.interacting){var t=[event.deltaY/devicePixelRatio*6,event.deltaX/devicePixelRatio*6],d=_this._rotForDelta([_this.panStart[0]-t[0],_this.panStart[1]-t[1]]);_this.rotTarget=_this._rotBounded([_this.rotStart[0]+d[0],_this.rotStart[1]+d[1]]),_this.lastGestureChange=event.timeStamp}})),_defineProperty(this,"_onPanEnd",(function(event){if(_this.isInteractive)if(_this.interacting=!1,event.timeStamp-_this.lastGestureChange>.1)_this.rotVelocity=[0,0];else{var d=_this._rotForDelta([event.overallVelocityX,event.overallVelocityY]);_this.rotVelocity=[.016*d[0],.016*d[1]],_this.rotDir=d[0]>0?1:-1;var pitchNorm=_this.rotTarget[0]/(Math.PI/2)/.5;Math.abs(pitchNorm)<1?_this.ambientPitchX=Math.asin(pitchNorm):_this.ambientPitchX=Math.PI/2*(pitchNorm/Math.abs(pitchNorm)),_this.ambientPitchDir=d[1]>0?-1:1}})),_defineProperty(this,"_updateRot",(function(){if(_this.interacting)_this.ambientYaw=0,_this.ambientPitch=0,_this.ambientTween&&(_this.ambientTween.stop(),_this.ambientTween=null);else{var ambientPitchY;ambientPitchY=Math.sin(_this.ambientPitchX)*(Math.PI/2)*.5,_this.ambientPitchX+=.001*_this.ambientPitchDir*_this.ambientPitch,_this.rotTarget=[_this.rotTarget[0]*(1-_this.ambientPitch)+ambientPitchY*_this.ambientPitch,_this.rotTarget[1]];var targetBounded=[Math.max(Math.min(_this.rotTarget[0],_this.settings.CAM_PITCH_SPRING_MAX),_this.settings.CAM_PITCH_SPRING_MIN),_this.rotTarget[1]],targetDelta=[_this.rotTarget[0]-targetBounded[0]+_this.rotVelocity[0],_this.rotTarget[1]-targetBounded[1]+_this.rotVelocity[1]];_this.rotTarget=[_this.rotTarget[0]-targetDelta[0]*_this.settings.SPRING_STR*3,_this.rotTarget[1]-targetDelta[1]*_this.settings.SPRING_STR*3],_this.rotVelocity=[_this.rotVelocity[0]*_this.settings.FRICTION,_this.rotVelocity[1]*_this.settings.FRICTION];var camP=_this.zCurrent/_this.settings.CAM_Z_MAX;_this.hasAmbient&&0===_this.ambientYaw&&!_this.ambientTween&&_this.setAmbientAnimated(!0,2500);var yawMin=_this.ambientYaw*(camP*camP);Math.abs(_this.rotVelocity[1])<yawMin&&(_this.rotVelocity[1]=yawMin*_this.rotDir)}var rotDelta=[_this.rotTarget[0]-_this.rotCurrent[0],_this.rotTarget[1]-_this.rotCurrent[1]];_this.rotCurrent=[_this.rotCurrent[0]+rotDelta[0]*_this.settings.SPRING_STR,_this.rotCurrent[1]+rotDelta[1]*_this.settings.SPRING_STR]})),_defineProperty(this,"_updateZ",(function(){if(!_this.interacting){_this.zBounded=Math.max(Math.min(_this.zTarget,_this.settings.CAM_Z_SPRING_MAX),_this.settings.CAM_Z_SPRING_MIN);var _zDelta=_this.zTarget-_this.zBounded;_this.zTarget-=_zDelta*_this.settings.SPRING_STR*3}var zDelta=_this.zTarget-_this.zCurrent;_this.zCurrent+=zDelta*_this.settings.SPRING_STR})),_defineProperty(this,"update",(function(newFOV){_this.fov=newFOV,_this._updateZ(),_this._updateRot()})),_defineProperty(this,"setAltitude",(function(altitude){_this.zTarget=1+altitude/_this.settings.EARTH_RADIUS})),_defineProperty(this,"getAltitude",(function(){return(_this.zCurrent-1)*_this.settings.EARTH_RADIUS})),_defineProperty(this,"setAmbient",(function(ambient){_this.ambientTween&&(_this.ambientTween.stop(),_this.ambientTween=null),_this.hasAmbient=ambient,ambient?(_this.ambientYaw=1*_this.settings.YAW_MIN_VELOCITY,_this.ambientPitch=1):(_this.ambientYaw=0,_this.ambientPitch=0);var pitchNorm=_this.rotTarget[0]/(Math.PI/2)/.5;Math.abs(pitchNorm)<1?_this.ambientPitchX=Math.asin(pitchNorm):_this.ambientPitchX=Math.PI/2*(pitchNorm/Math.abs(pitchNorm))})),_defineProperty(this,"setAmbientAnimated",(function(ambient,duration){_this.hasAmbient=ambient;var startValue=ambient?0:1,endValue=ambient?1:0;_this.ambientTween&&(startValue=_this.ambientTween.currentValue(),_this.ambientTween.stop());var d=(duration||250)*Math.abs(endValue-startValue);if(0!==d){var pitchNorm=_this.rotTarget[0]/(Math.PI/2)/.5;Math.abs(pitchNorm)<1?_this.ambientPitchX=Math.asin(pitchNorm):_this.ambientPitchX=Math.PI/2*(pitchNorm/Math.abs(pitchNorm)),_this.ambientTween=new Tween(startValue,endValue,d,{onUpdate:function onUpdate(value){_this.ambientYaw=value*_this.settings.YAW_MIN_VELOCITY,_this.ambientPitch=value},onComplete:function onComplete(didFinish){didFinish&&(_this.ambientTween=null)}})}else _this.setAmbient(ambient)})),_defineProperty(this,"reset",(function(){_this.zStart=_this._zBounded(_this.settings.CAM_Z_INI),_this.zCurrent=_this.zStart,_this.zTarget=_this.zStart,_this.rotStart=[0,0],_this.rotCurrent=_this.rotStart,_this.rotTarget=_this.rotStart,_this.rotVelocity=[0,0],_this.interacting=!1,_this.lastGestureChange=0})),_defineProperty(this,"_zBounded",(function(z){if(z>_this.settings.CAM_Z_SPRING_MAX){var d=z-_this.settings.CAM_Z_SPRING_MAX,x=_this.settings.CAM_Z_MAX-_this.settings.CAM_Z_SPRING_MAX,f=_this.easeOutSin(Math.min(d/x,1));return _this.settings.CAM_Z_SPRING_MAX+x*f}if(z<_this.settings.CAM_Z_SPRING_MIN){var _d=z-_this.settings.CAM_Z_SPRING_MIN,_x=_this.settings.CAM_Z_MIN-_this.settings.CAM_Z_SPRING_MIN,_f=_this.easeOutSin(Math.min(_d/_x,1));return _this.settings.CAM_Z_SPRING_MIN+_x*_f}return z})),_defineProperty(this,"_rotBounded",(function(r){if(r[0]>_this.settings.CAM_PITCH_SPRING_MAX){var d=r[0]-_this.settings.CAM_PITCH_SPRING_MAX,x=_this.settings.CAM_PITCH_MAX-_this.settings.CAM_PITCH_SPRING_MAX,f=_this.easeOutSin(Math.min(d/x,1));return[_this.settings.CAM_PITCH_SPRING_MAX+x*f,r[1]]}if(r[0]<_this.settings.CAM_PITCH_SPRING_MIN){var _d2=r[0]-_this.settings.CAM_PITCH_SPRING_MIN,_x2=_this.settings.CAM_PITCH_MIN-_this.settings.CAM_PITCH_SPRING_MIN,_f2=_this.easeOutSin(Math.min(_d2/_x2,1));return[_this.settings.CAM_PITCH_SPRING_MIN+_x2*_f2,r[1]]}return r})),_defineProperty(this,"_frustumDist",(function(height,fov){return.5*height/Math.tan(.5*fov*(Math.PI/180))})),_defineProperty(this,"_rotForDelta",(function(delta){return[delta[0]*(_this.pointsPerRadian*(_this.zCurrent/_this.zFullWidth)),delta[1]*(_this.pointsPerRadian*(_this.zCurrent/_this.zFullWidth))]})),_defineProperty(this,"easeOutSin",(function(x){return Math.sin(x*Math.PI/2)})),this.settings={},this.settings.EARTH_RADIUS=6378137,this.settings.CAM_Z_MIN=1,this.settings.CAM_Z_MAX=45,this.settings.CAM_Z_INI=.5*(this.settings.CAM_Z_MIN+this.settings.CAM_Z_MAX),this.settings.CAM_Z_SPRING_BND=.8,this.settings.CAM_Z_SPRING_MAX=this.settings.CAM_Z_MAX*this.settings.CAM_Z_SPRING_BND,this.settings.CAM_Z_SPRING_MIN=this.settings.CAM_Z_MIN*(1/this.settings.CAM_Z_SPRING_BND),this.settings.CAM_PITCH_MAX=.5*Math.PI,this.settings.CAM_PITCH_MIN=.5*-Math.PI,this.settings.CAM_PITCH_INI=0,this.settings.CAM_PITCH_SPRING_BND=.8,this.settings.CAM_PITCH_SPRING_MAX=this.settings.CAM_PITCH_MAX*this.settings.CAM_PITCH_SPRING_BND,this.settings.CAM_PITCH_SPRING_MIN=this.settings.CAM_PITCH_MIN*this.settings.CAM_PITCH_SPRING_BND,this.settings.FRICTION=.1,this.settings.SPRING_STR=.16,this.settings.YAW_MIN_VELOCITY=.01,this.zStart=0,this.zCurrent=0,this.zTarget=0,this.panStart=[0,0],this.rotStart=[0,0],this.rotCurrent=[0,0],this.rotTarget=[0,0],this.rotVelocity=[0,0],this.rotDir=1,this.ambientYaw=0,this.ambientPitch=0,this.ambientPitchX=0,this.ambientPitchDir=-1,this.ambientTween=null,this.interacting=!1,this.getInteractionState=function(){return _this.interacting},this.lastGestureChange=0,this.pointsPerRadian=0,this.zFullWidth=0,this.onTap=function(event){},this.onPanCB=function(event){}}return _createClass(MovementModel,[{key:"_onTap",value:function _onTap(event){this.isInteractive&&this.onTap(event)}},{key:"_onPinch",value:function _onPinch(event){this.isInteractive&&(event.isFirst?(this.zStart=this.zCurrent,this.rotVelocity=[0,0]):event.isFinal||(this.zTarget=this._zBounded(this._zForScale(event.scale)),this.lastGestureChange=event.timeStamp))}},{key:"_onPanStart",value:function _onPanStart(event){this.interacting=!0,this.rotStart=this.rotCurrent,this.panStart=[event.deltaX/devicePixelRatio,event.deltaY/devicePixelRatio],this.rotVelocity=[0,0]}},{key:"camPos",get:function get(){return[0,0,this.zCurrent]}},{key:"camYaw",get:function get(){return this.rotCurrent[1]}},{key:"camPitch",get:function get(){return this.rotCurrent[0]}}]),MovementModel}(),InteractionController=function(){function InteractionController(targetElement,camera,options){var _this=this;_classCallCheck(this,InteractionController),_defineProperty(this,"isInteractive",!1),_defineProperty(this,"targetElement",null),_defineProperty(this,"targetDrawable",null),_defineProperty(this,"camera",null),_defineProperty(this,"movementModel",null),_defineProperty(this,"boundingRect",null),_defineProperty(this,"onTapCB",null),_defineProperty(this,"options",{tap:!0,pan:!0,pinch:!0}),_defineProperty(this,"release",(function(){_this.hammer.destroy()})),_defineProperty(this,"resize",(function(){_this.boundingRect=_this.targetElement.getBoundingClientRect(),_this.movementModel.resize(_this.boundingRect.width,_this.boundingRect.height,_this.camera.aspect,_this.camera.fov)})),_defineProperty(this,"update",(function(){_this.movementModel.update(_this.camera.fov)})),_defineProperty(this,"isOverTarget",(function(x,y){var xNorm=x-_this.boundingRect.x,yNorm=y-_this.boundingRect.y,xNormalized=xNorm/_this.boundingRect.width,yNormalized=(_this.boundingRect.height-yNorm)/_this.boundingRect.height,ray=_this.camera.getRayFromScreen(xNormalized,yNormalized);return _this.targetDrawable.hitTest(ray)})),_defineProperty(this,"onPanStart",(function(event){_this.isOverTarget(event.center.x,event.center.y)&&(_this.movementModel._onPanStart(event),_this.onPan&&_this.onPan(event))})),_defineProperty(this,"onPanContinue",(function(event){0!==event.center.x&&0!==event.center.y&&(_this.movementModel._onPanContinue(event),_this.onPan&&_this.onPan(event))})),_defineProperty(this,"onPanEnd",(function(event){_this.movementModel._onPanEnd(event)})),_defineProperty(this,"onTap",(function(event){var xNorm=event.center.x-_this.boundingRect.x,yNorm=event.center.y-_this.boundingRect.y;_this.onTapCB&&_this.onTapCB(xNorm,yNorm)})),targetElement?(this.targetElement=targetElement,this.boundingRect=this.targetElement.getBoundingClientRect()):targetElement=window,this.camera=camera,options&&(options.tap&&(this.options.tap=options.tap),options.pan&&(this.options.pan=options.pan),options.pinch&&(this.options.pinch=options.pinch)),this.movementModel=new MovementModel,this.movementModel.init(this.boundingRect.width,this.boundingRect.height,this.camera.aspect,this.camera.fov),this.movementModel.isInteractive=!0,this.movementModel.hasAmbient=!1,this.hammer=window.Hammer(this.targetElement,null),this.options.tap&&this.hammer.on("tap",this.onTap),this.options.pan&&this.hammer.on("panstart",this.onPanStart),this.options.pan&&this.hammer.on("pan",this.onPanContinue),this.options.pan&&this.hammer.on("panend",this.onPanEnd),this.options.pinch&&this.hammer.on("tap",this.onPinch),this.isInteractive=!0}return _createClass(InteractionController,[{key:"target",set:function set(newTarget){this.targetDrawable=newTarget}}]),InteractionController}(),CubicBezier=function CubicBezier(){_classCallCheck(this,CubicBezier)};CubicBezier.create=function(p1x,p1y,p2x,p2y){var cx=3*p1x,bx=3*(p2x-p1x)-cx,ax=1-cx-bx,cy=3*p1y,by=3*(p2y-p1y)-cy,ay=1-cy-by,sampleCurveX=function sampleCurveX(t){return((ax*t+bx)*t+cx)*t},sampleCurveDerivativeX=function sampleCurveDerivativeX(t){return(3*ax*t+2*bx)*t+cx};return function(x){return function sampleCurveY(t){return((ay*t+by)*t+cy)*t}(function solveCurveX(x,epsilon){var t0,t1,t2,x2,d2;t2=x;for(var i=0;i<8;i++){if(x2=sampleCurveX(t2)-x,Math.abs(x2)<epsilon)return t2;if(d2=sampleCurveDerivativeX(t2),Math.abs(d2)<1e-6)break;t2-=x2/d2}if((t2=x)<(t0=0))return t0;if(t2>(t1=1))return t1;for(;t0<t1;){if(x2=sampleCurveX(t2),Math.abs(x2-x)<epsilon)return t2;x>x2?t0=t2:t1=t2,t2=.5*(t1-t0)+t0}return t2}(x,1e-9))}};var asin=Math.asin,cos=Math.cos,sin=Math.sin,sqrt=Math.sqrt,PI=Math.PI;function toRad(x){return x*PI/180}function hav(x){return function squared(x){return x*x}(sin(x/2))}var haversineDistance_1=function haversineDistance(a,b){var aLat=toRad(Array.isArray(a)?a[1]:a.latitude||a.lat),bLat=toRad(Array.isArray(b)?b[1]:b.latitude||b.lat),aLng=toRad(Array.isArray(a)?a[0]:a.longitude||a.lng||a.lon),bLng=toRad(Array.isArray(b)?b[0]:b.longitude||b.lng||b.lon),ht=hav(bLat-aLat)+cos(aLat)*cos(bLat)*hav(bLng-aLng);return 12756274*asin(sqrt(ht))},DataDrawable=function(_Drawable){_inherits(DataDrawable,_Drawable);var _super=_createSuper(DataDrawable);function DataDrawable(){return _classCallCheck(this,DataDrawable),_super.apply(this,arguments)}return DataDrawable}(Drawable),MapShim=function(){if("undefined"!=typeof Map)return Map;function getIndex(arr,key){var result=-1;return arr.some((function(entry,index){return entry[0]===key&&(result=index,!0)})),result}return function(){function class_1(){this.__entries__=[]}return Object.defineProperty(class_1.prototype,"size",{get:function get(){return this.__entries__.length},enumerable:!0,configurable:!0}),class_1.prototype.get=function(key){var index=getIndex(this.__entries__,key),entry=this.__entries__[index];return entry&&entry[1]},class_1.prototype.set=function(key,value){var index=getIndex(this.__entries__,key);~index?this.__entries__[index][1]=value:this.__entries__.push([key,value])},class_1.prototype.delete=function(key){var entries=this.__entries__,index=getIndex(entries,key);~index&&entries.splice(index,1)},class_1.prototype.has=function(key){return!!~getIndex(this.__entries__,key)},class_1.prototype.clear=function(){this.__entries__.splice(0)},class_1.prototype.forEach=function(callback,ctx){void 0===ctx&&(ctx=null);for(var _i=0,_a=this.__entries__;_i<_a.length;_i++){var entry=_a[_i];callback.call(ctx,entry[1],entry[0])}},class_1}()}(),isBrowser="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,global$1=void 0!==global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),requestAnimationFrame$1="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(global$1):function(callback){return setTimeout((function(){return callback(Date.now())}),1e3/60)};var transitionKeys=["top","right","bottom","left","width","height","size","weight"],mutationObserverSupported="undefined"!=typeof MutationObserver,ResizeObserverController=function(){function ResizeObserverController(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function throttle(callback,delay){var leadingCall=!1,trailingCall=!1,lastCallTime=0;function resolvePending(){leadingCall&&(leadingCall=!1,callback()),trailingCall&&proxy()}function timeoutCallback(){requestAnimationFrame$1(resolvePending)}function proxy(){var timeStamp=Date.now();if(leadingCall){if(timeStamp-lastCallTime<2)return;trailingCall=!0}else leadingCall=!0,trailingCall=!1,setTimeout(timeoutCallback,delay);lastCallTime=timeStamp}return proxy}(this.refresh.bind(this),20)}return ResizeObserverController.prototype.addObserver=function(observer){~this.observers_.indexOf(observer)||this.observers_.push(observer),this.connected_||this.connect_()},ResizeObserverController.prototype.removeObserver=function(observer){var observers=this.observers_,index=observers.indexOf(observer);~index&&observers.splice(index,1),!observers.length&&this.connected_&&this.disconnect_()},ResizeObserverController.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},ResizeObserverController.prototype.updateObservers_=function(){var activeObservers=this.observers_.filter((function(observer){return observer.gatherActive(),observer.hasActive()}));return activeObservers.forEach((function(observer){return observer.broadcastActive()})),activeObservers.length>0},ResizeObserverController.prototype.connect_=function(){isBrowser&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),mutationObserverSupported?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},ResizeObserverController.prototype.disconnect_=function(){isBrowser&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},ResizeObserverController.prototype.onTransitionEnd_=function(_a){var _b=_a.propertyName,propertyName=void 0===_b?"":_b;transitionKeys.some((function(key){return!!~propertyName.indexOf(key)}))&&this.refresh()},ResizeObserverController.getInstance=function(){return this.instance_||(this.instance_=new ResizeObserverController),this.instance_},ResizeObserverController.instance_=null,ResizeObserverController}(),defineConfigurable=function defineConfigurable(target,props){for(var _i=0,_a=Object.keys(props);_i<_a.length;_i++){var key=_a[_i];Object.defineProperty(target,key,{value:props[key],enumerable:!1,writable:!1,configurable:!0})}return target},getWindowOf=function getWindowOf(target){return target&&target.ownerDocument&&target.ownerDocument.defaultView||global$1},emptyRect=createRectInit(0,0,0,0);function toFloat(value){return parseFloat(value)||0}function getBordersSize(styles){for(var positions=[],_i=1;_i<arguments.length;_i++)positions[_i-1]=arguments[_i];return positions.reduce((function(size,position){return size+toFloat(styles["border-"+position+"-width"])}),0)}function getHTMLElementContentRect(target){var clientWidth=target.clientWidth,clientHeight=target.clientHeight;if(!clientWidth&&!clientHeight)return emptyRect;var styles=getWindowOf(target).getComputedStyle(target),paddings=function getPaddings(styles){for(var paddings={},_i=0,positions_1=["top","right","bottom","left"];_i<positions_1.length;_i++){var position=positions_1[_i],value=styles["padding-"+position];paddings[position]=toFloat(value)}return paddings}(styles),horizPad=paddings.left+paddings.right,vertPad=paddings.top+paddings.bottom,width=toFloat(styles.width),height=toFloat(styles.height);if("border-box"===styles.boxSizing&&(Math.round(width+horizPad)!==clientWidth&&(width-=getBordersSize(styles,"left","right")+horizPad),Math.round(height+vertPad)!==clientHeight&&(height-=getBordersSize(styles,"top","bottom")+vertPad)),!function isDocumentElement(target){return target===getWindowOf(target).document.documentElement}(target)){var vertScrollbar=Math.round(width+horizPad)-clientWidth,horizScrollbar=Math.round(height+vertPad)-clientHeight;1!==Math.abs(vertScrollbar)&&(width-=vertScrollbar),1!==Math.abs(horizScrollbar)&&(height-=horizScrollbar)}return createRectInit(paddings.left,paddings.top,width,height)}var isSVGGraphicsElement="undefined"!=typeof SVGGraphicsElement?function(target){return target instanceof getWindowOf(target).SVGGraphicsElement}:function(target){return target instanceof getWindowOf(target).SVGElement&&"function"==typeof target.getBBox};function getContentRect(target){return isBrowser?isSVGGraphicsElement(target)?function getSVGContentRect(target){var bbox=target.getBBox();return createRectInit(0,0,bbox.width,bbox.height)}(target):getHTMLElementContentRect(target):emptyRect}function createRectInit(x,y,width,height){return{x:x,y:y,width:width,height:height}}var ResizeObservation=function(){function ResizeObservation(target){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=target}return ResizeObservation.prototype.isActive=function(){var rect=getContentRect(this.target);return this.contentRect_=rect,rect.width!==this.broadcastWidth||rect.height!==this.broadcastHeight},ResizeObservation.prototype.broadcastRect=function(){var rect=this.contentRect_;return this.broadcastWidth=rect.width,this.broadcastHeight=rect.height,rect},ResizeObservation}(),ResizeObserverEntry=function ResizeObserverEntry(target,rectInit){var contentRect=function createReadOnlyRect(_a){var x=_a.x,y=_a.y,width=_a.width,height=_a.height,Constr="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,rect=Object.create(Constr.prototype);return defineConfigurable(rect,{x:x,y:y,width:width,height:height,top:y,right:x+width,bottom:height+y,left:x}),rect}(rectInit);defineConfigurable(this,{target:target,contentRect:contentRect})},ResizeObserverSPI=function(){function ResizeObserverSPI(callback,controller,callbackCtx){if(this.activeObservations_=[],this.observations_=new MapShim,"function"!=typeof callback)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=callback,this.controller_=controller,this.callbackCtx_=callbackCtx}return ResizeObserverSPI.prototype.observe=function(target){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(target instanceof getWindowOf(target).Element))throw new TypeError('parameter 1 is not of type "Element".');var observations=this.observations_;observations.has(target)||(observations.set(target,new ResizeObservation(target)),this.controller_.addObserver(this),this.controller_.refresh())}},ResizeObserverSPI.prototype.unobserve=function(target){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(target instanceof getWindowOf(target).Element))throw new TypeError('parameter 1 is not of type "Element".');var observations=this.observations_;observations.has(target)&&(observations.delete(target),observations.size||this.controller_.removeObserver(this))}},ResizeObserverSPI.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},ResizeObserverSPI.prototype.gatherActive=function(){var _this=this;this.clearActive(),this.observations_.forEach((function(observation){observation.isActive()&&_this.activeObservations_.push(observation)}))},ResizeObserverSPI.prototype.broadcastActive=function(){if(this.hasActive()){var ctx=this.callbackCtx_,entries=this.activeObservations_.map((function(observation){return new ResizeObserverEntry(observation.target,observation.broadcastRect())}));this.callback_.call(ctx,entries,ctx),this.clearActive()}},ResizeObserverSPI.prototype.clearActive=function(){this.activeObservations_.splice(0)},ResizeObserverSPI.prototype.hasActive=function(){return this.activeObservations_.length>0},ResizeObserverSPI}(),observers="undefined"!=typeof WeakMap?new WeakMap:new MapShim,ResizeObserver=function ResizeObserver(callback){if(!(this instanceof ResizeObserver))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var controller=ResizeObserverController.getInstance(),observer=new ResizeObserverSPI(callback,controller,this);observers.set(this,observer)};["observe","unobserve","disconnect"].forEach((function(method){ResizeObserver.prototype[method]=function(){var _a;return(_a=observers.get(this))[method].apply(_a,arguments)}}));var index=void 0!==global$1.ResizeObserver?global$1.ResizeObserver:ResizeObserver,CalloutManager=function(){function CalloutManager(container){var _this=this;_classCallCheck(this,CalloutManager),_defineProperty(this,"_container",null),_defineProperty(this,"_callouts",{}),_defineProperty(this,"_calloutDefinitions",[]),_defineProperty(this,"_currentlyRemoving",[]),_defineProperty(this,"onAutoRemove",null),_defineProperty(this,"autoRemoveCallouts",!0),_defineProperty(this,"autoRemoveThreshholdSimilarity",.5),_defineProperty(this,"shouldAutoRemoveCallout",null),_defineProperty(this,"autoRemoveThreshholdMargins",{top:0,right:0,left:0,bottom:0}),container&&"DIV"===container.tagName?(this._container=container,this._container.style.pointerEvents="none",this.resizeObserver=new index((function(entries){entries.length&&(_this.bounds=entries[0].contentRect)})),this.resizeObserver.observe(this._container)):console.warn("CalloutManager expects a DIV element as a container."),this._removeCalloutComplete=this._removeCalloutComplete.bind(this)}return _createClass(CalloutManager,[{key:"release",value:function release(){this.resizeObserver.disconnect()}},{key:"addCallout",value:function addCallout(definition){this.replaceCallouts([].concat(_toConsumableArray(this._calloutDefinitions),[definition]))}},{key:"removeCallout",value:function removeCallout(definition){var index=this._calloutDefinitions.findIndex((function(def){return def.id===definition.id}));-1!==index&&this.replaceCallouts([].concat(_toConsumableArray(this._calloutDefinitions.slice(0,index)),_toConsumableArray(this._calloutDefinitions.slice(index+1))))}},{key:"replaceCallouts",value:function replaceCallouts(calloutDefinitions){var _this2=this,addCalloutDefs=calloutDefinitions.filter((function(c){return!_this2._calloutDefinitions.includes(c)})),newlyRemovedCalloutDefs=this._calloutDefinitions.filter((function(c){return!calloutDefinitions.includes(c)})).filter((function(c){return!_this2._currentlyRemoving.includes(c)}));this._currentlyRemoving=[].concat(_toConsumableArray(this._currentlyRemoving),_toConsumableArray(newlyRemovedCalloutDefs)),this._calloutDefinitions=[].concat(_toConsumableArray(this._calloutDefinitions),_toConsumableArray(addCalloutDefs)),addCalloutDefs.map((function(def){var CalloutClass=def.calloutClass;if(CalloutClass)return new CalloutClass(def)})).filter((function(c){return c})).forEach((function(callout){_this2._callouts[callout.definition.id]=callout,_this2._container.appendChild(callout.element),callout.animateIn()})),newlyRemovedCalloutDefs.map((function(def){return _this2._callouts[def.id]})).forEach((function(callout){callout.animateOut(_this2._removeCalloutComplete)}))}},{key:"removeAllCallouts",value:function removeAllCallouts(){this.replaceCallouts([])}},{key:"update",value:function update(time){var _this3=this;if(this.positionProvider){var toAutoRemove=[],positions=this.positionProvider(this._calloutDefinitions);this._calloutDefinitions.forEach((function(def,index){var ref=_this3._callouts[def.id],position=positions[index];if(ref&&(ref.setPosition(position),ref.update(time)),_this3.autoRemoveCallouts){var similarity=_this3.autoRemoveThreshholdSimilarity,margins=_this3.autoRemoveThreshholdMargins;(position.world.similarityToCameraVector<similarity||position.screen.x<margins.left||position.screen.x>_this3.bounds.width-margins.right||position.screen.y<margins.top||position.screen.y>_this3.bounds.height-margins.bottom)&&toAutoRemove.push(def)}})),toAutoRemove.forEach((function(def){_this3.shouldAutoRemoveCallout&&!_this3.shouldAutoRemoveCallout(def)||(_this3.removeCallout(def),_this3.onAutoRemove&&_this3.onAutoRemove(def))}))}}},{key:"_removeCalloutComplete",value:function _removeCalloutComplete(callout){var key=callout.definition.id,index=this._calloutDefinitions.findIndex((function(def){return def.id===key}));-1!==index&&(this._calloutDefinitions=[].concat(_toConsumableArray(this._calloutDefinitions.slice(0,index)),_toConsumableArray(this._calloutDefinitions.slice(index+1))),index=this._currentlyRemoving.findIndex((function(def){return def.id===key})),this._currentlyRemoving=[].concat(_toConsumableArray(this._currentlyRemoving.slice(0,index)),_toConsumableArray(this._currentlyRemoving.slice(index+1))),this._container.removeChild(this._callouts[key].element),this._callouts[key].release(),delete this._callouts[key])}},{key:"drawables",get:function get(){var _this4=this;return this._calloutDefinitions.map((function(def){return _this4._callouts[def.id].drawables}))}}]),CalloutManager}(),GlobeKitView=function(){function GlobeKitView(_canvas,options,onInitCB){var _this=this;_classCallCheck(this,GlobeKitView),_defineProperty(this,"_wasmLoaded",!1),_defineProperty(this,"isInit",!1),_defineProperty(this,"shouldDraw",!1),_defineProperty(this,"isInteractive",!1),_defineProperty(this,"renderer",null),_defineProperty(this,"scene",null),_defineProperty(this,"_alt",4),_defineProperty(this,"tartgetDrawable",null),_defineProperty(this,"calloutManager",null),_defineProperty(this,"interactionController",null),_defineProperty(this,"boundingRect",null),_defineProperty(this,"_onWasmLoad",[]),_defineProperty(this,"drawqueue",[]),_defineProperty(this,"loadWasm",(function(wasmPath){init(void 0===wasmPath?"./gkweb_bg.wasm":wasmPath).then((function(){_this._wasmLoaded=!0,function init_gkweb(){wasm.init_gkweb()}(),_this._onWasmLoad.forEach((function(el){el()})),_this._onInitCB()}))})),_defineProperty(this,"init",(function(canvas){_this.renderer=new Renderer(canvas,_this.gkOptions.attributes),_this.renderer.init(),_this.gkOptions.clearColor&&(_this.renderer.clearColor=_this.gkOptions.clearColor),_this.scene=new Scene(canvas.width,canvas.height),_this.interactionController=new InteractionController(canvas,_this.scene.camera),_this.interactionController.onTapCB=_this.onTapCB,window.onresize=_this.onResizeCB,window.onscroll=_this.onResizeCB,_this.isInit=!0})),_defineProperty(this,"release",(function(){_this.stopDrawing(),_this.calloutManager&&_this.calloutManager.release(),_this.interactionController&&_this.interactionController.release()})),_defineProperty(this,"_onInitCB",(function(){_this.onInitCB(_this),_this.renderloop(0)})),_defineProperty(this,"onResizeCB",(function(){_this.boundingRect=_this.renderer.gl.canvas.getBoundingClientRect(),resizeCanvasToDisplaySize(_this.renderer.gl.canvas),_this.scene.resize(_this.boundingRect.width,_this.boundingRect.height),_this.renderer.resize(_this.boundingRect.width,_this.boundingRect.height),_this.interactionController.resize()})),_defineProperty(this,"setCameratargetDrawable",(function(targetDrawable){_this.interactionController.hitTarget=targetDrawable.hitTest})),_defineProperty(this,"setAbsMovementModelTo",(function(lat,lon,alt){_this.interactionController.movementModel.rotCurrent[0]=lat*(-Math.PI/180),_this.interactionController.movementModel.rotCurrent[1]=lon*(Math.PI/180),_this.interactionController.movementModel.rotTarget[0]=lat*(-Math.PI/180),_this.interactionController.movementModel.rotTarget[1]=lon*(Math.PI/180),void 0!==alt&&(_this._alt=alt)})),_defineProperty(this,"animateToLatLon",(function(lat,lon,duration){_this.interactionController.movementModel.interacting=!0,_this.interactionController.movementModel.setAmbientAnimated(!1,100),_this.currentTween&&_this.currentTween.stop();for(var startLat=_this.interactionController.movementModel.rotTarget[0]/(-Math.PI/180),startLon=_this.interactionController.movementModel.rotTarget[1]/(Math.PI/180);startLon<-180;)startLon+=360;for(;startLon>180;)startLon-=360;var distance=haversineDistance_1({lat:startLat,lon:startLon},{lat:lat,lon:lon}),baseDuration=Math.max(Math.round(distance/1e4),350),endLon=lon,latDelta=lat-startLat,lonDelta=endLon-startLon,lonDelta0=endLon+360-startLon,lonDelta1=endLon-360-startLon;Math.abs(lonDelta0)<Math.abs(lonDelta)&&(endLon=lon+360,lonDelta=lonDelta0),Math.abs(lonDelta1)<Math.abs(lonDelta)&&(endLon=lon-360,lonDelta=lonDelta1);var d=duration||baseDuration,deltaDuration=Math.min(Math.max(d-350,0),1)/100,ease=CubicBezier.create(.315,.015,1-(.55+(.85-.55)*deltaDuration),1);_this.currentTween=new Tween(0,1,d,{onUpdate:function onUpdate(value){for(var v=ease(value),lonV=startLon+lonDelta*v,latV=startLat+latDelta*v;lonV<-180;)lonV+=360;for(;lonV>180;)lonV-=360;_this.setAbsMovementModelTo(latV,lonV)},onComplete:function onComplete(didFinish){didFinish&&(_this.currentTween=null)}})})),_defineProperty(this,"setMovementModelTo",(function(lat,lon,alt){_this.interactionController.movementModel.rotTarget[0]=lat*(-Math.PI/180),_this.interactionController.movementModel.rotTarget[1]=lon*(Math.PI/180),void 0!==alt&&(_this._alt=alt)})),_defineProperty(this,"moveCameraTo",(function(lat,lon,alt){var pos=GKUtils.worldFromLatLon(lat,lon,alt);_this.scene.camera.setPosition(pos)})),_defineProperty(this,"addDrawable",(function(drawable,cb){return drawable instanceof Drawable&&(drawable instanceof Globe&&null===_this.tartgetDrawable&&(_this.tartgetDrawable=drawable,_this.interactionController.target=drawable),drawable.init(_this.renderer.gl,cb),_this.drawqueue.push(drawable),_this._wasmLoaded?drawable.createCollisionGeo():_this._onWasmLoad.push(drawable.createCollisionGeo),!0)})),_defineProperty(this,"startDrawing",(function(){_this.shouldDraw=!0,_this.renderloop(0)})),_defineProperty(this,"stopDrawing",(function(){_this.shouldDraw=!1})),_defineProperty(this,"renderloop",(function(time){var scaledTime=time/1e4;if(_this.shouldDraw){_this.interactionController.update();var lat=-_this.interactionController.movementModel.camPitch*(180/Math.PI),lon=_this.interactionController.movementModel.camYaw*(180/Math.PI);_this.updateCameraFunction(scaledTime),_this.moveCameraTo(lat,lon,_this._alt),_this.renderer.prepareRenderFrame(),_this.scene.update(scaledTime);var sceneProps=_this.scene.getUniforms(scaledTime);_this.drawqueue.forEach((function(el){el.update(_this.renderer.gl,sceneProps,scaledTime)})),_this.calloutManager&&_this.calloutManager.update(scaledTime),_this.onUpdate&&_this.onUpdate(),_this.drawqueue.forEach((function(el){el.draw(_this.renderer.gl)})),requestAnimationFrame(_this.renderloop)}})),_defineProperty(this,"onTapCB",(function(x,y){var xNormalized=x/_this.boundingRect.width,yNormalized=(_this.boundingRect.height-y)/_this.boundingRect.height,ray=_this.scene.camera.getRayFromScreen(xNormalized,yNormalized),coords=_this.targetLatLon(ray);_this.onTap&&_this.onTap({x:x,y:y},coords);var collisionList={drawables:[]};coords&&(collisionList.lat=coords.lat,collisionList.lon=coords.lon),_this.drawqueue.forEach((function(el){if(el.isInteractive&&el.isSelectable){var drawableEvent={};drawableEvent.obj=el;var collision=el.rayCastFrom(ray);collision&&el.isSelectable&&(drawableEvent.selection=el.onSelection(coords.lat,coords.lon,collision)),collisionList.drawables.push(drawableEvent)}})),_this.userDefinedSelection(collisionList)})),_defineProperty(this,"targetLatLon",(function(ray){var coords,collision=_this.tartgetDrawable.rayCastFrom(ray);return!1!==collision&&(coords=GKUtils.latLonFromWorld(collision.point)),coords})),_defineProperty(this,"onMouseMoveCB",(function(x,y){var xNormalized=x/_this.boundingRect.width,yNormalized=(_this.boundingRect.height-y)/_this.boundingRect.height,ray=_this.scene.camera.getRayFromScreen(xNormalized,yNormalized);_this.drawqueue.forEach((function(el){if(el.isInteractive&&el.isHoverable){var collision=el.rayCastFrom(ray);collision&&el.isHoverable&&el.onHover(collision)}}))})),_defineProperty(this,"updateCameraFunction",(function(time){})),_defineProperty(this,"moveCameraToLatLon",(function(lat,lon,alt){})),_defineProperty(this,"getPosition",(function(lat,lon,alt){alt||(alt=0);var worldCoord=GKUtils.worldFromLatLon(lat,lon,alt),screenCoord=_this.scene.camera.project(worldCoord);screenCoord[0]*=_this.boundingRect.width,screenCoord[1]*=_this.boundingRect.height,screenCoord[1]=_this.boundingRect.height-screenCoord[1];var sceneCenterScreenCoord=_this.scene.camera.project(_this.scene.camera.target);sceneCenterScreenCoord[0]*=_this.boundingRect.width,sceneCenterScreenCoord[1]*=_this.boundingRect.height,sceneCenterScreenCoord[1]=_this.boundingRect.height-sceneCenterScreenCoord[1];var diff=[];diff.push(screenCoord[0]-sceneCenterScreenCoord[0]),diff.push(screenCoord[1]-sceneCenterScreenCoord[1]);var nWorldCoord=create$3();normalize$1(nWorldCoord,worldCoord);var cameraPos=_this.scene.camera.eye,nCameraPos=create$3();normalize$1(nCameraPos,cameraPos);var similarity=dot(nWorldCoord,nCameraPos);return{screen:{x:screenCoord[0],y:screenCoord[1]},world:{x:diff[0],y:diff[1],similarityToCameraVector:similarity}}})),_defineProperty(this,"registerCalloutManager",(function(calloutManager){!calloutManager||!calloutManager instanceof CalloutManager?console.warn("registerCalloutManager must be passed an instance of CalloutManager"):(calloutManager.positionProvider=function(callouts){return callouts.map((function(c){return _this.getPosition(c.latitude,c.longitude,c.altitude)}))},_this.calloutManager=calloutManager)})),_defineProperty(this,"computeGlobeSize",(function(){var vFOV=_this.scene.camera.fov,dist=function distance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2];return Math.hypot(x,y,z)}(_this.scene.camera.eye,_this.tartgetDrawable.translation),height=2*Math.asin(1/dist)/vFOV*_this.boundingRect.height;console.log(dist,height,_this.boundingRect.height)})),_defineProperty(this,"setGlobeSize",(function(size){var vFOV=_this.scene.camera.fov,dist=1*Math.sin(size/_this.boundingRect.height*vFOV/2);console.log(dist)})),_defineProperty(this,"setAmbient",(function(bool){_this.interactionController.movementModel.hasAmbient=bool})),this.gkOptions=void 0===options?{}:options,onInitCB&&(this.onInitCB=onInitCB),this.boundingRect=_canvas.getBoundingClientRect(),this.init(_canvas),this.loadWasm(this.gkOptions.wasmPath)}return _createClass(GlobeKitView,[{key:"isWebGL1",get:function get(){return!!this.gl&&isWebGL1(this.gl)}},{key:"isWebGL2",get:function get(){return!!this.gl&&isWebGL2(this.gl)}}]),GlobeKitView}(),kdTreeMin=createCommonjsModule((function(module,exports){!function(t){function n(t,n,o){this.obj=t,this.left=null,this.right=null,this.parent=o,this.dimension=n}function o(t){this.content=[],this.scoreFunction=t}o.prototype={push:function push(t){this.content.push(t),this.bubbleUp(this.content.length-1)},pop:function pop(){var t=this.content[0],n=this.content.pop();return this.content.length>0&&(this.content[0]=n,this.sinkDown(0)),t},peek:function peek(){return this.content[0]},remove:function remove(t){for(var n=this.content.length,o=0;o<n;o++)if(this.content[o]==t){var i=this.content.pop();return void(o!=n-1&&(this.content[o]=i,this.scoreFunction(i)<this.scoreFunction(t)?this.bubbleUp(o):this.sinkDown(o)))}throw new Error("Node not found.")},size:function size(){return this.content.length},bubbleUp:function bubbleUp(t){for(var n=this.content[t];t>0;){var o=Math.floor((t+1)/2)-1,i=this.content[o];if(!(this.scoreFunction(n)<this.scoreFunction(i)))break;this.content[o]=n,this.content[t]=i,t=o}},sinkDown:function sinkDown(t){for(var n=this.content.length,o=this.content[t],i=this.scoreFunction(o);;){var e=2*(t+1),r=e-1,l=null;if(r<n){var u=this.content[r],h=this.scoreFunction(u);h<i&&(l=r)}if(e<n){var s=this.content[e];this.scoreFunction(s)<(null==l?i:h)&&(l=e)}if(null==l)break;this.content[t]=this.content[l],this.content[l]=o,t=l}}},t.kdTree=function(t,i,e){var l=this;Array.isArray(t)?this.root=function r(t,o,i){var l,u,h=o%e.length;return 0===t.length?null:1===t.length?new n(t[0],h,i):(t.sort((function(t,n){return t[e[h]]-n[e[h]]})),(u=new n(t[l=Math.floor(t.length/2)],h,i)).left=r(t.slice(0,l),o+1,u),u.right=r(t.slice(l+1),o+1,u),u)}(t,0,null):function(t){l.root=t,function n(t){t.left&&(t.left.parent=t,n(t.left)),t.right&&(t.right.parent=t,n(t.right))}(l.root)}(t),this.toJSON=function(t){t||(t=this.root);var o=new n(t.obj,t.dimension,null);return t.left&&(o.left=l.toJSON(t.left)),t.right&&(o.right=l.toJSON(t.right)),o},this.insert=function(t){var i,r,l=function o(n,i){if(null===n)return i;var r=e[n.dimension];return t[r]<n.obj[r]?o(n.left,n):o(n.right,n)}(this.root,null);null!==l?(i=new n(t,(l.dimension+1)%e.length,l),r=e[l.dimension],t[r]<l.obj[r]?l.left=i:l.right=i):this.root=new n(t,0,null)},this.remove=function(t){var i;null!==(i=function n(o){if(null===o)return null;if(o.obj===t)return o;var i=e[o.dimension];return t[i]<o.obj[i]?n(o.left):n(o.right)}(l.root))&&function o(t){function n(t,o){var i,r,l,u,h;return null===t?null:(i=e[o],t.dimension===o?null!==t.left?n(t.left,o):t:(r=t.obj[i],l=n(t.left,o),u=n(t.right,o),h=t,null!==l&&l.obj[i]<r&&(h=l),null!==u&&u.obj[i]<h.obj[i]&&(h=u),h))}var i,r,u;if(null===t.left&&null===t.right)return null===t.parent?void(l.root=null):(u=e[t.parent.dimension],void(t.obj[u]<t.parent.obj[u]?t.parent.left=null:t.parent.right=null));null!==t.right?(r=(i=n(t.right,t.dimension)).obj,o(i),t.obj=r):(r=(i=n(t.left,t.dimension)).obj,o(i),t.right=t.left,t.left=null,t.obj=r)}(i)},this.nearest=function(t,n,r){var h,s,f;if(f=new o((function(t){return-t[1]})),r)for(h=0;h<n;h+=1)f.push([null,r]);for(l.root&&function u(o){function r(t,o){f.push([t,o]),f.size()>n&&f.pop()}var l,h,s,c,a=e[o.dimension],g=i(t,o.obj),p={};for(c=0;c<e.length;c+=1)c===o.dimension?p[e[c]]=t[e[c]]:p[e[c]]=o.obj[e[c]];h=i(p,o.obj),null!==o.right||null!==o.left?(u(l=null===o.right?o.left:null===o.left?o.right:t[a]<o.obj[a]?o.left:o.right),(f.size()<n||g<f.peek()[1])&&r(o,g),(f.size()<n||Math.abs(h)<f.peek()[1])&&null!==(s=l===o.left?o.right:o.left)&&u(s)):(f.size()<n||g<f.peek()[1])&&r(o,g)}(l.root),s=[],h=0;h<Math.min(n,f.content.length);h+=1)f.content[h][0]&&s.push([f.content[h][0].obj,f.content[h][1]]);return s},this.balanceFactor=function(){return function t(n){return null===n?0:Math.max(t(n.left),t(n.right))+1}(l.root)/(Math.log(function n(t){return null===t?0:n(t.left)+n(t.right)+1}(l.root))/Math.log(2))}},t.BinaryHeap=o}(exports)})),DataStore=function(){function DataStore(){var _this=this;_classCallCheck(this,DataStore),_defineProperty(this,"data",[]),_defineProperty(this,"types",[]),_defineProperty(this,"lastElementId",void 0),_defineProperty(this,"kdtree",null),_defineProperty(this,"addGeojson",(function(data){"FeatureCollection"===data.type&&data.features instanceof Array&&(data.features.forEach((function(element,index){var datapoint={id:"_".concat(Math.random().toString(36).substr(2,9)),lat:element.geometry.coordinates[1],lon:element.geometry.coordinates[0],properties:element.properties};_this.data.push(datapoint),_this.lastElementId=index})),_this.kdtree=new kdTreeMin.kdTree(_this.data,GKUtils.distanceBetweenPoints,["lat","lon"]))})),_defineProperty(this,"addGeojsonPoint",(function(geojsonPoint){var lat=geojsonPoint.geometry.coordinates[1],lon=geojsonPoint.geometry.coordinates[0],props=geojsonPoint.properties;return _this.addPoint(lat,lon,props)})),_defineProperty(this,"addPoint",(function(lat,lon,data){var datapoint={id:"_".concat(Math.random().toString(36).substr(2,9)),lat:lat,lon:lon,properties:data};return _this.data.push(datapoint),_this.lastElementId=datapoint.id,datapoint})),_defineProperty(this,"updateDataset",(function(newData){newData.features.forEach((function(dataPoint){var currentData=_this.data.find((function(el){var lat=el.lat===dataPoint.geometry.coordinates[1],lon=el.lon===dataPoint.geometry.coordinates[0];return lat&&lon}));void 0===currentData?_this.addGeojsonPoint(dataPoint):currentData.properties=dataPoint.properties}))})),_defineProperty(this,"deleteDataset",(function(){_this.data=[]})),_defineProperty(this,"getNearest",(function(lat,lon,maxDistance,maxCount){var nearest=_this.kdtree.nearest({lat:lat,lon:lon},maxCount,maxDistance).sort((function(a,b){return a[1]-b[1]}));if(void 0!==nearest[0])return nearest})),_defineProperty(this,"getElementFromId",(function(id){return _this.data.find((function(element){return element.id===id}))})),_defineProperty(this,"getElementFromKey",(function(key,value){return _this.data.find((function(element){return element.properties[key]===value}))})),_defineProperty(this,"getTypeList",(function(){var types=[];return types.push([_this.data[0]]),_this.data.forEach((function(el){var elProps=Object.keys(el.properties),foundType=!1;types.forEach((function(type){var typeProps=Object.keys(type[0].properties),elInType=GKUtils.isSubSet(elProps,typeProps),typeInEl=GKUtils.isSubSet(typeProps,elProps);elInType&&typeInEl&&(type.push(el),foundType=!0)})),!1===foundType&&types.push([el])})),types})),_defineProperty(this,"getMaxForKey",(function(key){var id,max=-1/0;if("number"==typeof _this.data[0].properties[key])return _this.data.forEach((function(el){var value=el.properties[key];value>=max&&(max=value,id=el.id)})),{max:max,id:id};console.warn("Cannot compare non-numbers")})),_defineProperty(this,"getMinForKey",(function(key){var id,min=1/0;if("number"==typeof _this.data[0].properties[key])return _this.data.forEach((function(el){var value=el.properties[key];value<=min&&(min=value,id=el.id)})),{min:min,id:id};console.warn("Cannot compare non-numbers")})),_defineProperty(this,"getRangeForKey",(function(key){return{min:_this.getMinForKey(key),max:_this.getMaxForKey(key)}})),_defineProperty(this,"mapKeyToRange",(function(key,min,max){var ranges=_this.getRangeForKey(key);return _this.data.map((function(el){var n=(el.properties[key]-ranges.min.min)/(ranges.max.max-ranges.min.min)*(max-min)+min;return{id:el.properties.region_id,value:n}}))}))}return _createClass(DataStore,[{key:"isHomogeneous",get:function get(){return 1===this.getTypeList().length}}]),DataStore}();function createURL(base64,sourcemapArg,enableUnicodeArg){var sourcemap=void 0===sourcemapArg?null:sourcemapArg,source=function decodeBase64(base64,enableUnicode){var binaryString=atob(base64);if(enableUnicode){for(var binaryView=new Uint8Array(binaryString.length),i=0,n=binaryString.length;i<n;++i)binaryView[i]=binaryString.charCodeAt(i);return String.fromCharCode.apply(null,new Uint16Array(binaryView.buffer))}return binaryString}(base64,void 0!==enableUnicodeArg&&enableUnicodeArg),start=source.indexOf("\n",10)+1,body=source.substring(start)+(sourcemap?"//# sourceMappingURL="+sourcemap:""),blob=new Blob([body],{type:"application/javascript"});return URL.createObjectURL(blob)}var WorkerFactory=function createBase64WorkerFactory(base64,sourcemapArg,enableUnicodeArg){var url;return function WorkerFactory(options){return url=url||createURL(base64,sourcemapArg,enableUnicodeArg),new Worker(url,options)}}("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwoKZnVuY3Rpb24gX2xvYWRXYXNtTW9kdWxlIChzeW5jLCBzcmMsIGltcG9ydHMpIHsKICAgICAgICB2YXIgYnVmID0gbnVsbAogICAgICAgIHZhciBpc05vZGUgPSB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy52ZXJzaW9ucyAhPSBudWxsICYmIHByb2Nlc3MudmVyc2lvbnMubm9kZSAhPSBudWxsCiAgICAgICAgaWYgKGlzTm9kZSkgewogICAgICAgICAgYnVmID0gQnVmZmVyLmZyb20oc3JjLCAnYmFzZTY0JykKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIHJhdyA9IGdsb2JhbFRoaXMuYXRvYihzcmMpCiAgICAgICAgICB2YXIgcmF3TGVuZ3RoID0gcmF3Lmxlbmd0aAogICAgICAgICAgYnVmID0gbmV3IFVpbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKHJhd0xlbmd0aCkpCiAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgcmF3TGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgIGJ1ZltpXSA9IHJhdy5jaGFyQ29kZUF0KGkpCiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoaW1wb3J0cyAmJiAhc3luYykgewogICAgICAgICAgcmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKGJ1ZiwgaW1wb3J0cykKICAgICAgICB9IGVsc2UgaWYgKCFpbXBvcnRzICYmICFzeW5jKSB7CiAgICAgICAgICByZXR1cm4gV2ViQXNzZW1ibHkuY29tcGlsZShidWYpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBtb2QgPSBuZXcgV2ViQXNzZW1ibHkuTW9kdWxlKGJ1ZikKICAgICAgICAgIHJldHVybiBpbXBvcnRzID8gbmV3IFdlYkFzc2VtYmx5Lkluc3RhbmNlKG1vZCwgaW1wb3J0cykgOiBtb2QKICAgICAgICB9CiAgICAgIH0KZnVuY3Rpb24gX3R5cGVvZihvYmopIHsKICAiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2YiOwoKICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAic3ltYm9sIikgewogICAgX3R5cGVvZiA9IGZ1bmN0aW9uIChvYmopIHsKICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7CiAgICB9OwogIH0gZWxzZSB7CiAgICBfdHlwZW9mID0gZnVuY3Rpb24gKG9iaikgewogICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOwogICAgfTsKICB9CgogIHJldHVybiBfdHlwZW9mKG9iaik7Cn0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsKICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7CiAgfQp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgewogICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsKICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsKICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsKICAgIGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOwogIH0KfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgewogIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOwogIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsKICByZXR1cm4gQ29uc3RydWN0b3I7Cn0KCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsKICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgewogIGlmICh0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsKfQoKZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgewogIGlmICghbykgcmV0dXJuOwogIGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOwogIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsKICBpZiAobiA9PT0gIk9iamVjdCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsKICBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOwogIGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7Cn0KCmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7CiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7CgogIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTsKCiAgcmV0dXJuIGFycjI7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsKfQoKLyoqDQogKiBDb21tb24gdXRpbGl0aWVzDQogKiBAbW9kdWxlIGdsTWF0cml4DQogKi8KLy8gQ29uZmlndXJhdGlvbiBDb25zdGFudHMKdmFyIEVQU0lMT04gPSAwLjAwMDAwMTsKdmFyIEFSUkFZX1RZUEUgPSB0eXBlb2YgRmxvYXQzMkFycmF5ICE9PSAndW5kZWZpbmVkJyA/IEZsb2F0MzJBcnJheSA6IEFycmF5OwppZiAoIU1hdGguaHlwb3QpIE1hdGguaHlwb3QgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHkgPSAwLAogICAgICBpID0gYXJndW1lbnRzLmxlbmd0aDsKCiAgd2hpbGUgKGktLSkgewogICAgeSArPSBhcmd1bWVudHNbaV0gKiBhcmd1bWVudHNbaV07CiAgfQoKICByZXR1cm4gTWF0aC5zcXJ0KHkpOwp9OwoKLyoqDQogKiAzeDMgTWF0cml4DQogKiBAbW9kdWxlIG1hdDMNCiAqLwoKLyoqDQogKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IG1hdDMNCiAqDQogKiBAcmV0dXJucyB7bWF0M30gYSBuZXcgM3gzIG1hdHJpeA0KICovCgpmdW5jdGlvbiBjcmVhdGUoKSB7CiAgdmFyIG91dCA9IG5ldyBBUlJBWV9UWVBFKDkpOwoKICBpZiAoQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHsKICAgIG91dFsxXSA9IDA7CiAgICBvdXRbMl0gPSAwOwogICAgb3V0WzNdID0gMDsKICAgIG91dFs1XSA9IDA7CiAgICBvdXRbNl0gPSAwOwogICAgb3V0WzddID0gMDsKICB9CgogIG91dFswXSA9IDE7CiAgb3V0WzRdID0gMTsKICBvdXRbOF0gPSAxOwogIHJldHVybiBvdXQ7Cn0KCi8qKg0KICogMyBEaW1lbnNpb25hbCBWZWN0b3INCiAqIEBtb2R1bGUgdmVjMw0KICovCgovKioNCiAqIENyZWF0ZXMgYSBuZXcsIGVtcHR5IHZlYzMNCiAqDQogKiBAcmV0dXJucyB7dmVjM30gYSBuZXcgM0QgdmVjdG9yDQogKi8KCmZ1bmN0aW9uIGNyZWF0ZSQxKCkgewogIHZhciBvdXQgPSBuZXcgQVJSQVlfVFlQRSgzKTsKCiAgaWYgKEFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7CiAgICBvdXRbMF0gPSAwOwogICAgb3V0WzFdID0gMDsKICAgIG91dFsyXSA9IDA7CiAgfQoKICByZXR1cm4gb3V0Owp9Ci8qKg0KICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgdmVjMw0KICoNCiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mDQogKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYQ0KICovCgpmdW5jdGlvbiBsZW5ndGgoYSkgewogIHZhciB4ID0gYVswXTsKICB2YXIgeSA9IGFbMV07CiAgdmFyIHogPSBhWzJdOwogIHJldHVybiBNYXRoLmh5cG90KHgsIHksIHopOwp9Ci8qKg0KICogQ3JlYXRlcyBhIG5ldyB2ZWMzIGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIHZhbHVlcw0KICoNCiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50DQogKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudA0KICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnQNCiAqIEByZXR1cm5zIHt2ZWMzfSBhIG5ldyAzRCB2ZWN0b3INCiAqLwoKZnVuY3Rpb24gZnJvbVZhbHVlcyh4LCB5LCB6KSB7CiAgdmFyIG91dCA9IG5ldyBBUlJBWV9UWVBFKDMpOwogIG91dFswXSA9IHg7CiAgb3V0WzFdID0geTsKICBvdXRbMl0gPSB6OwogIHJldHVybiBvdXQ7Cn0KLyoqDQogKiBBZGRzIHR3byB2ZWMzJ3MNCiAqDQogKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3Rvcg0KICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmQNCiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZA0KICogQHJldHVybnMge3ZlYzN9IG91dA0KICovCgpmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7CiAgb3V0WzBdID0gYVswXSArIGJbMF07CiAgb3V0WzFdID0gYVsxXSArIGJbMV07CiAgb3V0WzJdID0gYVsyXSArIGJbMl07CiAgcmV0dXJuIG91dDsKfQovKioNCiAqIFN1YnRyYWN0cyB2ZWN0b3IgYiBmcm9tIHZlY3RvciBhDQogKg0KICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3INCiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kDQogKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmQNCiAqIEByZXR1cm5zIHt2ZWMzfSBvdXQNCiAqLwoKZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7CiAgb3V0WzBdID0gYVswXSAtIGJbMF07CiAgb3V0WzFdID0gYVsxXSAtIGJbMV07CiAgb3V0WzJdID0gYVsyXSAtIGJbMl07CiAgcmV0dXJuIG91dDsKfQovKioNCiAqIFNjYWxlcyBhIHZlYzMgYnkgYSBzY2FsYXIgbnVtYmVyDQogKg0KICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3INCiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGUNCiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgdmVjdG9yIGJ5DQogKiBAcmV0dXJucyB7dmVjM30gb3V0DQogKi8KCmZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgYikgewogIG91dFswXSA9IGFbMF0gKiBiOwogIG91dFsxXSA9IGFbMV0gKiBiOwogIG91dFsyXSA9IGFbMl0gKiBiOwogIHJldHVybiBvdXQ7Cn0KLyoqDQogKiBOb3JtYWxpemUgYSB2ZWMzDQogKg0KICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3INCiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBub3JtYWxpemUNCiAqIEByZXR1cm5zIHt2ZWMzfSBvdXQNCiAqLwoKZnVuY3Rpb24gbm9ybWFsaXplKG91dCwgYSkgewogIHZhciB4ID0gYVswXTsKICB2YXIgeSA9IGFbMV07CiAgdmFyIHogPSBhWzJdOwogIHZhciBsZW4gPSB4ICogeCArIHkgKiB5ICsgeiAqIHo7CgogIGlmIChsZW4gPiAwKSB7CiAgICAvL1RPRE86IGV2YWx1YXRlIHVzZSBvZiBnbG1faW52c3FydCBoZXJlPwogICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pOwogIH0KCiAgb3V0WzBdID0gYVswXSAqIGxlbjsKICBvdXRbMV0gPSBhWzFdICogbGVuOwogIG91dFsyXSA9IGFbMl0gKiBsZW47CiAgcmV0dXJuIG91dDsKfQovKioNCiAqIENhbGN1bGF0ZXMgdGhlIGRvdCBwcm9kdWN0IG9mIHR3byB2ZWMzJ3MNCiAqDQogKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZA0KICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kDQogKiBAcmV0dXJucyB7TnVtYmVyfSBkb3QgcHJvZHVjdCBvZiBhIGFuZCBiDQogKi8KCmZ1bmN0aW9uIGRvdChhLCBiKSB7CiAgcmV0dXJuIGFbMF0gKiBiWzBdICsgYVsxXSAqIGJbMV0gKyBhWzJdICogYlsyXTsKfQovKioNCiAqIENvbXB1dGVzIHRoZSBjcm9zcyBwcm9kdWN0IG9mIHR3byB2ZWMzJ3MNCiAqDQogKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3Rvcg0KICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmQNCiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZA0KICogQHJldHVybnMge3ZlYzN9IG91dA0KICovCgpmdW5jdGlvbiBjcm9zcyhvdXQsIGEsIGIpIHsKICB2YXIgYXggPSBhWzBdLAogICAgICBheSA9IGFbMV0sCiAgICAgIGF6ID0gYVsyXTsKICB2YXIgYnggPSBiWzBdLAogICAgICBieSA9IGJbMV0sCiAgICAgIGJ6ID0gYlsyXTsKICBvdXRbMF0gPSBheSAqIGJ6IC0gYXogKiBieTsKICBvdXRbMV0gPSBheiAqIGJ4IC0gYXggKiBiejsKICBvdXRbMl0gPSBheCAqIGJ5IC0gYXkgKiBieDsKICByZXR1cm4gb3V0Owp9Ci8qKg0KICogUGVyZm9ybXMgYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byB2ZWMzJ3MNCiAqDQogKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3Rvcg0KICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmQNCiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZA0KICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0cw0KICogQHJldHVybnMge3ZlYzN9IG91dA0KICovCgpmdW5jdGlvbiBsZXJwKG91dCwgYSwgYiwgdCkgewogIHZhciBheCA9IGFbMF07CiAgdmFyIGF5ID0gYVsxXTsKICB2YXIgYXogPSBhWzJdOwogIG91dFswXSA9IGF4ICsgdCAqIChiWzBdIC0gYXgpOwogIG91dFsxXSA9IGF5ICsgdCAqIChiWzFdIC0gYXkpOwogIG91dFsyXSA9IGF6ICsgdCAqIChiWzJdIC0gYXopOwogIHJldHVybiBvdXQ7Cn0KLyoqDQogKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMubGVuZ3RofQ0KICogQGZ1bmN0aW9uDQogKi8KCnZhciBsZW4gPSBsZW5ndGg7Ci8qKg0KICogUGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvdmVyIGFuIGFycmF5IG9mIHZlYzNzLg0KICoNCiAqIEBwYXJhbSB7QXJyYXl9IGEgdGhlIGFycmF5IG9mIHZlY3RvcnMgdG8gaXRlcmF0ZSBvdmVyDQogKiBAcGFyYW0ge051bWJlcn0gc3RyaWRlIE51bWJlciBvZiBlbGVtZW50cyBiZXR3ZWVuIHRoZSBzdGFydCBvZiBlYWNoIHZlYzMuIElmIDAgYXNzdW1lcyB0aWdodGx5IHBhY2tlZA0KICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gc2tpcCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheQ0KICogQHBhcmFtIHtOdW1iZXJ9IGNvdW50IE51bWJlciBvZiB2ZWMzcyB0byBpdGVyYXRlIG92ZXIuIElmIDAgaXRlcmF0ZXMgb3ZlciBlbnRpcmUgYXJyYXkNCiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdmVjdG9yIGluIHRoZSBhcnJheQ0KICogQHBhcmFtIHtPYmplY3R9IFthcmddIGFkZGl0aW9uYWwgYXJndW1lbnQgdG8gcGFzcyB0byBmbg0KICogQHJldHVybnMge0FycmF5fSBhDQogKiBAZnVuY3Rpb24NCiAqLwoKdmFyIGZvckVhY2ggPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHZlYyA9IGNyZWF0ZSQxKCk7CiAgcmV0dXJuIGZ1bmN0aW9uIChhLCBzdHJpZGUsIG9mZnNldCwgY291bnQsIGZuLCBhcmcpIHsKICAgIHZhciBpLCBsOwoKICAgIGlmICghc3RyaWRlKSB7CiAgICAgIHN0cmlkZSA9IDM7CiAgICB9CgogICAgaWYgKCFvZmZzZXQpIHsKICAgICAgb2Zmc2V0ID0gMDsKICAgIH0KCiAgICBpZiAoY291bnQpIHsKICAgICAgbCA9IE1hdGgubWluKGNvdW50ICogc3RyaWRlICsgb2Zmc2V0LCBhLmxlbmd0aCk7CiAgICB9IGVsc2UgewogICAgICBsID0gYS5sZW5ndGg7CiAgICB9CgogICAgZm9yIChpID0gb2Zmc2V0OyBpIDwgbDsgaSArPSBzdHJpZGUpIHsKICAgICAgdmVjWzBdID0gYVtpXTsKICAgICAgdmVjWzFdID0gYVtpICsgMV07CiAgICAgIHZlY1syXSA9IGFbaSArIDJdOwogICAgICBmbih2ZWMsIHZlYywgYXJnKTsKICAgICAgYVtpXSA9IHZlY1swXTsKICAgICAgYVtpICsgMV0gPSB2ZWNbMV07CiAgICAgIGFbaSArIDJdID0gdmVjWzJdOwogICAgfQoKICAgIHJldHVybiBhOwogIH07Cn0oKTsKCi8qKg0KICogNCBEaW1lbnNpb25hbCBWZWN0b3INCiAqIEBtb2R1bGUgdmVjNA0KICovCgovKioNCiAqIENyZWF0ZXMgYSBuZXcsIGVtcHR5IHZlYzQNCiAqDQogKiBAcmV0dXJucyB7dmVjNH0gYSBuZXcgNEQgdmVjdG9yDQogKi8KCmZ1bmN0aW9uIGNyZWF0ZSQyKCkgewogIHZhciBvdXQgPSBuZXcgQVJSQVlfVFlQRSg0KTsKCiAgaWYgKEFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7CiAgICBvdXRbMF0gPSAwOwogICAgb3V0WzFdID0gMDsKICAgIG91dFsyXSA9IDA7CiAgICBvdXRbM10gPSAwOwogIH0KCiAgcmV0dXJuIG91dDsKfQovKioNCiAqIE5vcm1hbGl6ZSBhIHZlYzQNCiAqDQogKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3Rvcg0KICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIG5vcm1hbGl6ZQ0KICogQHJldHVybnMge3ZlYzR9IG91dA0KICovCgpmdW5jdGlvbiBub3JtYWxpemUkMShvdXQsIGEpIHsKICB2YXIgeCA9IGFbMF07CiAgdmFyIHkgPSBhWzFdOwogIHZhciB6ID0gYVsyXTsKICB2YXIgdyA9IGFbM107CiAgdmFyIGxlbiA9IHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3OwoKICBpZiAobGVuID4gMCkgewogICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pOwogIH0KCiAgb3V0WzBdID0geCAqIGxlbjsKICBvdXRbMV0gPSB5ICogbGVuOwogIG91dFsyXSA9IHogKiBsZW47CiAgb3V0WzNdID0gdyAqIGxlbjsKICByZXR1cm4gb3V0Owp9Ci8qKg0KICogUGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvdmVyIGFuIGFycmF5IG9mIHZlYzRzLg0KICoNCiAqIEBwYXJhbSB7QXJyYXl9IGEgdGhlIGFycmF5IG9mIHZlY3RvcnMgdG8gaXRlcmF0ZSBvdmVyDQogKiBAcGFyYW0ge051bWJlcn0gc3RyaWRlIE51bWJlciBvZiBlbGVtZW50cyBiZXR3ZWVuIHRoZSBzdGFydCBvZiBlYWNoIHZlYzQuIElmIDAgYXNzdW1lcyB0aWdodGx5IHBhY2tlZA0KICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gc2tpcCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheQ0KICogQHBhcmFtIHtOdW1iZXJ9IGNvdW50IE51bWJlciBvZiB2ZWM0cyB0byBpdGVyYXRlIG92ZXIuIElmIDAgaXRlcmF0ZXMgb3ZlciBlbnRpcmUgYXJyYXkNCiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdmVjdG9yIGluIHRoZSBhcnJheQ0KICogQHBhcmFtIHtPYmplY3R9IFthcmddIGFkZGl0aW9uYWwgYXJndW1lbnQgdG8gcGFzcyB0byBmbg0KICogQHJldHVybnMge0FycmF5fSBhDQogKiBAZnVuY3Rpb24NCiAqLwoKdmFyIGZvckVhY2gkMSA9IGZ1bmN0aW9uICgpIHsKICB2YXIgdmVjID0gY3JlYXRlJDIoKTsKICByZXR1cm4gZnVuY3Rpb24gKGEsIHN0cmlkZSwgb2Zmc2V0LCBjb3VudCwgZm4sIGFyZykgewogICAgdmFyIGksIGw7CgogICAgaWYgKCFzdHJpZGUpIHsKICAgICAgc3RyaWRlID0gNDsKICAgIH0KCiAgICBpZiAoIW9mZnNldCkgewogICAgICBvZmZzZXQgPSAwOwogICAgfQoKICAgIGlmIChjb3VudCkgewogICAgICBsID0gTWF0aC5taW4oY291bnQgKiBzdHJpZGUgKyBvZmZzZXQsIGEubGVuZ3RoKTsKICAgIH0gZWxzZSB7CiAgICAgIGwgPSBhLmxlbmd0aDsKICAgIH0KCiAgICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBsOyBpICs9IHN0cmlkZSkgewogICAgICB2ZWNbMF0gPSBhW2ldOwogICAgICB2ZWNbMV0gPSBhW2kgKyAxXTsKICAgICAgdmVjWzJdID0gYVtpICsgMl07CiAgICAgIHZlY1szXSA9IGFbaSArIDNdOwogICAgICBmbih2ZWMsIHZlYywgYXJnKTsKICAgICAgYVtpXSA9IHZlY1swXTsKICAgICAgYVtpICsgMV0gPSB2ZWNbMV07CiAgICAgIGFbaSArIDJdID0gdmVjWzJdOwogICAgICBhW2kgKyAzXSA9IHZlY1szXTsKICAgIH0KCiAgICByZXR1cm4gYTsKICB9Owp9KCk7CgovKioNCiAqIFF1YXRlcm5pb24NCiAqIEBtb2R1bGUgcXVhdA0KICovCgovKioNCiAqIENyZWF0ZXMgYSBuZXcgaWRlbnRpdHkgcXVhdA0KICoNCiAqIEByZXR1cm5zIHtxdWF0fSBhIG5ldyBxdWF0ZXJuaW9uDQogKi8KCmZ1bmN0aW9uIGNyZWF0ZSQzKCkgewogIHZhciBvdXQgPSBuZXcgQVJSQVlfVFlQRSg0KTsKCiAgaWYgKEFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7CiAgICBvdXRbMF0gPSAwOwogICAgb3V0WzFdID0gMDsKICAgIG91dFsyXSA9IDA7CiAgfQoKICBvdXRbM10gPSAxOwogIHJldHVybiBvdXQ7Cn0KLyoqDQogKiBTZXRzIGEgcXVhdCBmcm9tIHRoZSBnaXZlbiBhbmdsZSBhbmQgcm90YXRpb24gYXhpcywNCiAqIHRoZW4gcmV0dXJucyBpdC4NCiAqDQogKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb24NCiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBheGlzIHRoZSBheGlzIGFyb3VuZCB3aGljaCB0byByb3RhdGUNCiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIGluIHJhZGlhbnMNCiAqIEByZXR1cm5zIHtxdWF0fSBvdXQNCiAqKi8KCmZ1bmN0aW9uIHNldEF4aXNBbmdsZShvdXQsIGF4aXMsIHJhZCkgewogIHJhZCA9IHJhZCAqIDAuNTsKICB2YXIgcyA9IE1hdGguc2luKHJhZCk7CiAgb3V0WzBdID0gcyAqIGF4aXNbMF07CiAgb3V0WzFdID0gcyAqIGF4aXNbMV07CiAgb3V0WzJdID0gcyAqIGF4aXNbMl07CiAgb3V0WzNdID0gTWF0aC5jb3MocmFkKTsKICByZXR1cm4gb3V0Owp9Ci8qKg0KICogUGVyZm9ybXMgYSBzcGhlcmljYWwgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gcXVhdA0KICoNCiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvbg0KICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIGZpcnN0IG9wZXJhbmQNCiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZA0KICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0cw0KICogQHJldHVybnMge3F1YXR9IG91dA0KICovCgpmdW5jdGlvbiBzbGVycChvdXQsIGEsIGIsIHQpIHsKICAvLyBiZW5jaG1hcmtzOgogIC8vICAgIGh0dHA6Ly9qc3BlcmYuY29tL3F1YXRlcm5pb24tc2xlcnAtaW1wbGVtZW50YXRpb25zCiAgdmFyIGF4ID0gYVswXSwKICAgICAgYXkgPSBhWzFdLAogICAgICBheiA9IGFbMl0sCiAgICAgIGF3ID0gYVszXTsKICB2YXIgYnggPSBiWzBdLAogICAgICBieSA9IGJbMV0sCiAgICAgIGJ6ID0gYlsyXSwKICAgICAgYncgPSBiWzNdOwogIHZhciBvbWVnYSwgY29zb20sIHNpbm9tLCBzY2FsZTAsIHNjYWxlMTsgLy8gY2FsYyBjb3NpbmUKCiAgY29zb20gPSBheCAqIGJ4ICsgYXkgKiBieSArIGF6ICogYnogKyBhdyAqIGJ3OyAvLyBhZGp1c3Qgc2lnbnMgKGlmIG5lY2Vzc2FyeSkKCiAgaWYgKGNvc29tIDwgMC4wKSB7CiAgICBjb3NvbSA9IC1jb3NvbTsKICAgIGJ4ID0gLWJ4OwogICAgYnkgPSAtYnk7CiAgICBieiA9IC1iejsKICAgIGJ3ID0gLWJ3OwogIH0gLy8gY2FsY3VsYXRlIGNvZWZmaWNpZW50cwoKCiAgaWYgKDEuMCAtIGNvc29tID4gRVBTSUxPTikgewogICAgLy8gc3RhbmRhcmQgY2FzZSAoc2xlcnApCiAgICBvbWVnYSA9IE1hdGguYWNvcyhjb3NvbSk7CiAgICBzaW5vbSA9IE1hdGguc2luKG9tZWdhKTsKICAgIHNjYWxlMCA9IE1hdGguc2luKCgxLjAgLSB0KSAqIG9tZWdhKSAvIHNpbm9tOwogICAgc2NhbGUxID0gTWF0aC5zaW4odCAqIG9tZWdhKSAvIHNpbm9tOwogIH0gZWxzZSB7CiAgICAvLyAiZnJvbSIgYW5kICJ0byIgcXVhdGVybmlvbnMgYXJlIHZlcnkgY2xvc2UKICAgIC8vICAuLi4gc28gd2UgY2FuIGRvIGEgbGluZWFyIGludGVycG9sYXRpb24KICAgIHNjYWxlMCA9IDEuMCAtIHQ7CiAgICBzY2FsZTEgPSB0OwogIH0gLy8gY2FsY3VsYXRlIGZpbmFsIHZhbHVlcwoKCiAgb3V0WzBdID0gc2NhbGUwICogYXggKyBzY2FsZTEgKiBieDsKICBvdXRbMV0gPSBzY2FsZTAgKiBheSArIHNjYWxlMSAqIGJ5OwogIG91dFsyXSA9IHNjYWxlMCAqIGF6ICsgc2NhbGUxICogYno7CiAgb3V0WzNdID0gc2NhbGUwICogYXcgKyBzY2FsZTEgKiBidzsKICByZXR1cm4gb3V0Owp9Ci8qKg0KICogQ3JlYXRlcyBhIHF1YXRlcm5pb24gZnJvbSB0aGUgZ2l2ZW4gM3gzIHJvdGF0aW9uIG1hdHJpeC4NCiAqDQogKiBOT1RFOiBUaGUgcmVzdWx0YW50IHF1YXRlcm5pb24gaXMgbm90IG5vcm1hbGl6ZWQsIHNvIHlvdSBzaG91bGQgYmUgc3VyZQ0KICogdG8gcmVub3JtYWxpemUgdGhlIHF1YXRlcm5pb24geW91cnNlbGYgd2hlcmUgbmVjZXNzYXJ5Lg0KICoNCiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvbg0KICogQHBhcmFtIHtSZWFkb25seU1hdDN9IG0gcm90YXRpb24gbWF0cml4DQogKiBAcmV0dXJucyB7cXVhdH0gb3V0DQogKiBAZnVuY3Rpb24NCiAqLwoKZnVuY3Rpb24gZnJvbU1hdDMob3V0LCBtKSB7CiAgLy8gQWxnb3JpdGhtIGluIEtlbiBTaG9lbWFrZSdzIGFydGljbGUgaW4gMTk4NyBTSUdHUkFQSCBjb3Vyc2Ugbm90ZXMKICAvLyBhcnRpY2xlICJRdWF0ZXJuaW9uIENhbGN1bHVzIGFuZCBGYXN0IEFuaW1hdGlvbiIuCiAgdmFyIGZUcmFjZSA9IG1bMF0gKyBtWzRdICsgbVs4XTsKICB2YXIgZlJvb3Q7CgogIGlmIChmVHJhY2UgPiAwLjApIHsKICAgIC8vIHx3fCA+IDEvMiwgbWF5IGFzIHdlbGwgY2hvb3NlIHcgPiAxLzIKICAgIGZSb290ID0gTWF0aC5zcXJ0KGZUcmFjZSArIDEuMCk7IC8vIDJ3CgogICAgb3V0WzNdID0gMC41ICogZlJvb3Q7CiAgICBmUm9vdCA9IDAuNSAvIGZSb290OyAvLyAxLyg0dykKCiAgICBvdXRbMF0gPSAobVs1XSAtIG1bN10pICogZlJvb3Q7CiAgICBvdXRbMV0gPSAobVs2XSAtIG1bMl0pICogZlJvb3Q7CiAgICBvdXRbMl0gPSAobVsxXSAtIG1bM10pICogZlJvb3Q7CiAgfSBlbHNlIHsKICAgIC8vIHx3fCA8PSAxLzIKICAgIHZhciBpID0gMDsKICAgIGlmIChtWzRdID4gbVswXSkgaSA9IDE7CiAgICBpZiAobVs4XSA+IG1baSAqIDMgKyBpXSkgaSA9IDI7CiAgICB2YXIgaiA9IChpICsgMSkgJSAzOwogICAgdmFyIGsgPSAoaSArIDIpICUgMzsKICAgIGZSb290ID0gTWF0aC5zcXJ0KG1baSAqIDMgKyBpXSAtIG1baiAqIDMgKyBqXSAtIG1bayAqIDMgKyBrXSArIDEuMCk7CiAgICBvdXRbaV0gPSAwLjUgKiBmUm9vdDsKICAgIGZSb290ID0gMC41IC8gZlJvb3Q7CiAgICBvdXRbM10gPSAobVtqICogMyArIGtdIC0gbVtrICogMyArIGpdKSAqIGZSb290OwogICAgb3V0W2pdID0gKG1baiAqIDMgKyBpXSArIG1baSAqIDMgKyBqXSkgKiBmUm9vdDsKICAgIG91dFtrXSA9IChtW2sgKiAzICsgaV0gKyBtW2kgKiAzICsga10pICogZlJvb3Q7CiAgfQoKICByZXR1cm4gb3V0Owp9Ci8qKg0KICogTm9ybWFsaXplIGEgcXVhdA0KICoNCiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvbg0KICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdGVybmlvbiB0byBub3JtYWxpemUNCiAqIEByZXR1cm5zIHtxdWF0fSBvdXQNCiAqIEBmdW5jdGlvbg0KICovCgp2YXIgbm9ybWFsaXplJDIgPSBub3JtYWxpemUkMTsKLyoqDQogKiBTZXRzIGEgcXVhdGVybmlvbiB0byByZXByZXNlbnQgdGhlIHNob3J0ZXN0IHJvdGF0aW9uIGZyb20gb25lDQogKiB2ZWN0b3IgdG8gYW5vdGhlci4NCiAqDQogKiBCb3RoIHZlY3RvcnMgYXJlIGFzc3VtZWQgdG8gYmUgdW5pdCBsZW5ndGguDQogKg0KICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uLg0KICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGluaXRpYWwgdmVjdG9yDQogKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgZGVzdGluYXRpb24gdmVjdG9yDQogKiBAcmV0dXJucyB7cXVhdH0gb3V0DQogKi8KCnZhciByb3RhdGlvblRvID0gZnVuY3Rpb24gKCkgewogIHZhciB0bXB2ZWMzID0gY3JlYXRlJDEoKTsKICB2YXIgeFVuaXRWZWMzID0gZnJvbVZhbHVlcygxLCAwLCAwKTsKICB2YXIgeVVuaXRWZWMzID0gZnJvbVZhbHVlcygwLCAxLCAwKTsKICByZXR1cm4gZnVuY3Rpb24gKG91dCwgYSwgYikgewogICAgdmFyIGRvdCQxID0gZG90KGEsIGIpOwoKICAgIGlmIChkb3QkMSA8IC0wLjk5OTk5OSkgewogICAgICBjcm9zcyh0bXB2ZWMzLCB4VW5pdFZlYzMsIGEpOwogICAgICBpZiAobGVuKHRtcHZlYzMpIDwgMC4wMDAwMDEpIGNyb3NzKHRtcHZlYzMsIHlVbml0VmVjMywgYSk7CiAgICAgIG5vcm1hbGl6ZSh0bXB2ZWMzLCB0bXB2ZWMzKTsKICAgICAgc2V0QXhpc0FuZ2xlKG91dCwgdG1wdmVjMywgTWF0aC5QSSk7CiAgICAgIHJldHVybiBvdXQ7CiAgICB9IGVsc2UgaWYgKGRvdCQxID4gMC45OTk5OTkpIHsKICAgICAgb3V0WzBdID0gMDsKICAgICAgb3V0WzFdID0gMDsKICAgICAgb3V0WzJdID0gMDsKICAgICAgb3V0WzNdID0gMTsKICAgICAgcmV0dXJuIG91dDsKICAgIH0gZWxzZSB7CiAgICAgIGNyb3NzKHRtcHZlYzMsIGEsIGIpOwogICAgICBvdXRbMF0gPSB0bXB2ZWMzWzBdOwogICAgICBvdXRbMV0gPSB0bXB2ZWMzWzFdOwogICAgICBvdXRbMl0gPSB0bXB2ZWMzWzJdOwogICAgICBvdXRbM10gPSAxICsgZG90JDE7CiAgICAgIHJldHVybiBub3JtYWxpemUkMihvdXQsIG91dCk7CiAgICB9CiAgfTsKfSgpOwovKioNCiAqIFBlcmZvcm1zIGEgc3BoZXJpY2FsIGxpbmVhciBpbnRlcnBvbGF0aW9uIHdpdGggdHdvIGNvbnRyb2wgcG9pbnRzDQogKg0KICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uDQogKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgZmlyc3Qgb3BlcmFuZA0KICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGIgdGhlIHNlY29uZCBvcGVyYW5kDQogKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYyB0aGUgdGhpcmQgb3BlcmFuZA0KICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGQgdGhlIGZvdXJ0aCBvcGVyYW5kDQogKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzDQogKiBAcmV0dXJucyB7cXVhdH0gb3V0DQogKi8KCnZhciBzcWxlcnAgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHRlbXAxID0gY3JlYXRlJDMoKTsKICB2YXIgdGVtcDIgPSBjcmVhdGUkMygpOwogIHJldHVybiBmdW5jdGlvbiAob3V0LCBhLCBiLCBjLCBkLCB0KSB7CiAgICBzbGVycCh0ZW1wMSwgYSwgZCwgdCk7CiAgICBzbGVycCh0ZW1wMiwgYiwgYywgdCk7CiAgICBzbGVycChvdXQsIHRlbXAxLCB0ZW1wMiwgMiAqIHQgKiAoMSAtIHQpKTsKICAgIHJldHVybiBvdXQ7CiAgfTsKfSgpOwovKioNCiAqIFNldHMgdGhlIHNwZWNpZmllZCBxdWF0ZXJuaW9uIHdpdGggdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGdpdmVuDQogKiBheGVzLiBFYWNoIGF4aXMgaXMgYSB2ZWMzIGFuZCBpcyBleHBlY3RlZCB0byBiZSB1bml0IGxlbmd0aCBhbmQNCiAqIHBlcnBlbmRpY3VsYXIgdG8gYWxsIG90aGVyIHNwZWNpZmllZCBheGVzLg0KICoNCiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2aWV3ICB0aGUgdmVjdG9yIHJlcHJlc2VudGluZyB0aGUgdmlld2luZyBkaXJlY3Rpb24NCiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSByaWdodCB0aGUgdmVjdG9yIHJlcHJlc2VudGluZyB0aGUgbG9jYWwgInJpZ2h0IiBkaXJlY3Rpb24NCiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB1cCAgICB0aGUgdmVjdG9yIHJlcHJlc2VudGluZyB0aGUgbG9jYWwgInVwIiBkaXJlY3Rpb24NCiAqIEByZXR1cm5zIHtxdWF0fSBvdXQNCiAqLwoKdmFyIHNldEF4ZXMgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIG1hdHIgPSBjcmVhdGUoKTsKICByZXR1cm4gZnVuY3Rpb24gKG91dCwgdmlldywgcmlnaHQsIHVwKSB7CiAgICBtYXRyWzBdID0gcmlnaHRbMF07CiAgICBtYXRyWzNdID0gcmlnaHRbMV07CiAgICBtYXRyWzZdID0gcmlnaHRbMl07CiAgICBtYXRyWzFdID0gdXBbMF07CiAgICBtYXRyWzRdID0gdXBbMV07CiAgICBtYXRyWzddID0gdXBbMl07CiAgICBtYXRyWzJdID0gLXZpZXdbMF07CiAgICBtYXRyWzVdID0gLXZpZXdbMV07CiAgICBtYXRyWzhdID0gLXZpZXdbMl07CiAgICByZXR1cm4gbm9ybWFsaXplJDIob3V0LCBmcm9tTWF0MyhvdXQsIG1hdHIpKTsKICB9Owp9KCk7CgovKioNCiAqIDIgRGltZW5zaW9uYWwgVmVjdG9yDQogKiBAbW9kdWxlIHZlYzINCiAqLwoKLyoqDQogKiBDcmVhdGVzIGEgbmV3LCBlbXB0eSB2ZWMyDQogKg0KICogQHJldHVybnMge3ZlYzJ9IGEgbmV3IDJEIHZlY3Rvcg0KICovCgpmdW5jdGlvbiBjcmVhdGUkNCgpIHsKICB2YXIgb3V0ID0gbmV3IEFSUkFZX1RZUEUoMik7CgogIGlmIChBUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkgewogICAgb3V0WzBdID0gMDsKICAgIG91dFsxXSA9IDA7CiAgfQoKICByZXR1cm4gb3V0Owp9Ci8qKg0KICogUGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvdmVyIGFuIGFycmF5IG9mIHZlYzJzLg0KICoNCiAqIEBwYXJhbSB7QXJyYXl9IGEgdGhlIGFycmF5IG9mIHZlY3RvcnMgdG8gaXRlcmF0ZSBvdmVyDQogKiBAcGFyYW0ge051bWJlcn0gc3RyaWRlIE51bWJlciBvZiBlbGVtZW50cyBiZXR3ZWVuIHRoZSBzdGFydCBvZiBlYWNoIHZlYzIuIElmIDAgYXNzdW1lcyB0aWdodGx5IHBhY2tlZA0KICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gc2tpcCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheQ0KICogQHBhcmFtIHtOdW1iZXJ9IGNvdW50IE51bWJlciBvZiB2ZWMycyB0byBpdGVyYXRlIG92ZXIuIElmIDAgaXRlcmF0ZXMgb3ZlciBlbnRpcmUgYXJyYXkNCiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdmVjdG9yIGluIHRoZSBhcnJheQ0KICogQHBhcmFtIHtPYmplY3R9IFthcmddIGFkZGl0aW9uYWwgYXJndW1lbnQgdG8gcGFzcyB0byBmbg0KICogQHJldHVybnMge0FycmF5fSBhDQogKiBAZnVuY3Rpb24NCiAqLwoKdmFyIGZvckVhY2gkMiA9IGZ1bmN0aW9uICgpIHsKICB2YXIgdmVjID0gY3JlYXRlJDQoKTsKICByZXR1cm4gZnVuY3Rpb24gKGEsIHN0cmlkZSwgb2Zmc2V0LCBjb3VudCwgZm4sIGFyZykgewogICAgdmFyIGksIGw7CgogICAgaWYgKCFzdHJpZGUpIHsKICAgICAgc3RyaWRlID0gMjsKICAgIH0KCiAgICBpZiAoIW9mZnNldCkgewogICAgICBvZmZzZXQgPSAwOwogICAgfQoKICAgIGlmIChjb3VudCkgewogICAgICBsID0gTWF0aC5taW4oY291bnQgKiBzdHJpZGUgKyBvZmZzZXQsIGEubGVuZ3RoKTsKICAgIH0gZWxzZSB7CiAgICAgIGwgPSBhLmxlbmd0aDsKICAgIH0KCiAgICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBsOyBpICs9IHN0cmlkZSkgewogICAgICB2ZWNbMF0gPSBhW2ldOwogICAgICB2ZWNbMV0gPSBhW2kgKyAxXTsKICAgICAgZm4odmVjLCB2ZWMsIGFyZyk7CiAgICAgIGFbaV0gPSB2ZWNbMF07CiAgICAgIGFbaSArIDFdID0gdmVjWzFdOwogICAgfQoKICAgIHJldHVybiBhOwogIH07Cn0oKTsKCi8qKgogKiBAY2xhc3MKICovCgp2YXIgR0tVdGlscyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gR0tVdGlscygpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHS1V0aWxzKTsKICB9CgogIF9jcmVhdGVDbGFzcyhHS1V0aWxzLCBudWxsLCBbewogICAga2V5OiAicmFkaWFuc0ZvclBvc2l0aW9uIiwKCiAgICAvKioKICAgICAqIEBkZXNjcmlwdGlvbiBDb21wdXRlIGF4aXMgYW5nbGVzIGZvciBwb3NpdG9uCiAgICAgKiBAc3RhdGljCiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIHggcG9zaXRpb24KICAgICAqIEBwYXJhbSB7bnVtYmVyfSB6IC0geiBwb3NpdGlvbgogICAgICogQHJldHVybnMge251bWJlcn0KICAgICAqLwogICAgdmFsdWU6IGZ1bmN0aW9uIHJhZGlhbnNGb3JQb3NpdGlvbih4LCB6KSB7CiAgICAgIGlmICh6ID4gMCkgewogICAgICAgIGlmICh4ID49IDApIHsKICAgICAgICAgIHJldHVybiBNYXRoLmF0YW4oeCAvIHopOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIDIgKiBNYXRoLlBJICsgTWF0aC5hdGFuKHggLyB6KTsKICAgICAgfQoKICAgICAgaWYgKHogPCAwKSB7CiAgICAgICAgcmV0dXJuIE1hdGguUEkgKyBNYXRoLmF0YW4oeCAvIHopOwogICAgICB9CgogICAgICBpZiAoeCA+IDApIHsKICAgICAgICByZXR1cm4gTWF0aC5QSSAvIDIuMDsKICAgICAgfQoKICAgICAgcmV0dXJuIDMgKiBNYXRoLlBJIC8gMi4wOwogICAgfQogICAgLyoqCiAgICAgKiBAZGVzY3JpcHRpb24gQ29udmVydCB3b3JsZHNwYWNlIFt4LHksel0gdG8gbGF0IGxvbgogICAgICogQHN0YXRpYwogICAgICogQHBhcmFtIHtBcnJheX0gcG9zIC0gd29ybGRzcGFjZSBjb29yZGluYXRlcyBbeCx5LHpdCiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fQogICAgICovCgogIH0sIHsKICAgIGtleTogImxhdExvbkZyb21Xb3JsZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbGF0TG9uRnJvbVdvcmxkKHBvcykgewogICAgICB2YXIgbm9ybWFsID0gY3JlYXRlJDEoKTsKICAgICAgbm9ybWFsaXplKG5vcm1hbCwgcG9zKTsKICAgICAgdmFyIGxhdFJhZCA9IE1hdGguYXNpbihub3JtYWxbMV0pOwogICAgICB2YXIgbG9uUmFkID0gdGhpcy5yYWRpYW5zRm9yUG9zaXRpb24obm9ybWFsWzBdLCBub3JtYWxbMl0pOwogICAgICB2YXIgbGF0RGVnID0gbGF0UmFkICogMTgwLjAgLyBNYXRoLlBJOwogICAgICB2YXIgbG9uRGVnID0gbG9uUmFkICogMTgwLjAgLyBNYXRoLlBJOwoKICAgICAgd2hpbGUgKGxvbkRlZyA+IDE4MC4wKSB7CiAgICAgICAgbG9uRGVnIC09IDM2MC4wOwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIGxhdDogbGF0RGVnLAogICAgICAgIGxvbjogbG9uRGVnCiAgICAgIH07CiAgICB9CiAgICAvKioKICAgICAqIEBkZXNjcmlwdGlvbiBDb21wdXRlcyBncmVhdCBjaXJjbGUgZGlzdGFuY2UgYmV0d2VlbiAyIGxhdCBsb24gY29vcmRzCiAgICAgKiBAc3RhdGljCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcDAgLSB7bGF0OiB+fiwgbG9uOiB+fn0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwMSAtIHtsYXQ6IH5+LCBsb246IH5+fQogICAgICogQHJldHVybnMKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJkaXN0YW5jZUJldHdlZW5Qb2ludHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3RhbmNlQmV0d2VlblBvaW50cyhwMCwgcDEpIHsKICAgICAgdmFyIGRlZ3JlZXNUb1JhZGlhbnMgPSBmdW5jdGlvbiBkZWdyZWVzVG9SYWRpYW5zKGRlZ3JlZXMpIHsKICAgICAgICByZXR1cm4gZGVncmVlcyAqIChNYXRoLlBJIC8gMTgwKTsKICAgICAgfTsKCiAgICAgIHZhciBSID0gNjM3MTsgLy8ga20KCiAgICAgIHZhciBwaGkxID0gZGVncmVlc1RvUmFkaWFucyhwMC5sYXQpOyAvLyBwaGksIGxhbWJkYSBpbiByYWRpYW5zCgogICAgICB2YXIgcGhpMiA9IGRlZ3JlZXNUb1JhZGlhbnMocDEubGF0KTsKICAgICAgdmFyIGRlbHRhUGhpID0gZGVncmVlc1RvUmFkaWFucyhwMS5sYXQgLSBwMC5sYXQpOwogICAgICB2YXIgZGVsdGFMYW1iZGEgPSBkZWdyZWVzVG9SYWRpYW5zKHAxLmxvbiAtIHAwLmxvbik7CiAgICAgIHZhciBhID0gTWF0aC5zaW4oZGVsdGFQaGkgLyAyKSAqIE1hdGguc2luKGRlbHRhUGhpIC8gMikgKyBNYXRoLmNvcyhwaGkxKSAqIE1hdGguY29zKHBoaTIpICogTWF0aC5zaW4oZGVsdGFMYW1iZGEgLyAyKSAqIE1hdGguc2luKGRlbHRhTGFtYmRhIC8gMik7CiAgICAgIHZhciBjID0gMiAqIE1hdGguYXRhbjIoTWF0aC5zcXJ0KGEpLCBNYXRoLnNxcnQoMSAtIGEpKTsKICAgICAgdmFyIGQgPSBSICogYzsgLy8gaW4ga20KCiAgICAgIHJldHVybiBkOwogICAgfQogICAgLyoqCiAgICAgKiBAZGVzY3JpcHRpb24gQ29udmVydCBsYXQgbG9uIGFsdCB0byB3b3JsZHNwYWNlCiAgICAgKiBAc3RhdGljCiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGF0IC0gbGF0aXR1ZGUgaW4gZGVncmVlcwogICAgICogQHBhcmFtIHtudW1iZXJ9IGxvbiAtIGxvbmdpdHVkZSBpbiBkZWdyZWVzCiAgICAgKiBAcGFyYW0ge251bWJlcn0gYWx0IC0gYWx0aXR1ZGUgZnJvbSBzdXJmYWNlIG9mIGdsb2JlIGluIGVhcnRoIHJhZGl1cyAoc3VyZmFjZSA9IDApCiAgICAgKiBAcmV0dXJucyB7QXJyYXl9CiAgICAgKi8KCiAgfSwgewogICAga2V5OiAid29ybGRGcm9tTGF0TG9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB3b3JsZEZyb21MYXRMb24obGF0LCBsb24sIGFsdCkgewogICAgICB2YXIgYWx0aXR1ZGUgPSBhbHQgfHwgMC4wOwogICAgICB2YXIgbGF0UmFkID0gbGF0ICogTWF0aC5QSSAvIDE4MC4wOwogICAgICB2YXIgbG5nUmFkID0gbG9uICogTWF0aC5QSSAvIDE4MC4wOwogICAgICB2YXIgcmFkaXVzID0gTWF0aC5jb3MobGF0UmFkKTsKICAgICAgdmFyIHkgPSBNYXRoLnNpbihsYXRSYWQpOwogICAgICB2YXIgeCA9IE1hdGguc2luKGxuZ1JhZCkgKiByYWRpdXM7CiAgICAgIHZhciB6ID0gTWF0aC5jb3MobG5nUmFkKSAqIHJhZGl1czsKICAgICAgdmFyIHBvcyA9IGZyb21WYWx1ZXMoeCwgeSwgeik7CiAgICAgIHZhciBub3JtID0gY3JlYXRlJDEoKTsKICAgICAgbm9ybWFsaXplKG5vcm0sIHBvcyk7CiAgICAgIHZhciBhZGQkMSA9IHNjYWxlKG5vcm0sIG5vcm0sIGFsdGl0dWRlKTsKICAgICAgYWRkKHBvcywgcG9zLCBhZGQkMSk7CiAgICAgIHJldHVybiBwb3M7CiAgICB9CiAgICAvKioKICAgICAqIEBkZXNjcmlwdGlvbiBDb252ZXJ0IGhleCBjb2xvciB0byBSR0IgYXJyYXkKICAgICAqIEBwYXJhbSB7U3RyaW5nfSBoIC0gQ29sb3IgSGV4IENvZGUKICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbm9ybWFsaXplIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgbm9ybWFsaXplZCB0byBbMCwxXQogICAgICogQHJldHVybnMge0FycmF5fQogICAgICovCgogIH0sIHsKICAgIGtleTogImhleFRvUkdCIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoZXhUb1JHQihoLCBub3JtYWxpemUpIHsKICAgICAgdmFyIHIgPSAwOwogICAgICB2YXIgZyA9IDA7CiAgICAgIHZhciBiID0gMDsKICAgICAgdmFyIG5vcm0gPSBub3JtYWxpemUgIT09IGZhbHNlOwoKICAgICAgaWYgKGgubGVuZ3RoID09PSA0KSB7CiAgICAgICAgciA9ICIweCIuY29uY2F0KGhbMV0pLmNvbmNhdChoWzFdKTsKICAgICAgICBnID0gIjB4Ii5jb25jYXQoaFsyXSkuY29uY2F0KGhbMl0pOwogICAgICAgIGIgPSAiMHgiLmNvbmNhdChoWzNdKS5jb25jYXQoaFszXSk7CiAgICAgIH0gZWxzZSBpZiAoaC5sZW5ndGggPT09IDcpIHsKICAgICAgICByID0gIjB4Ii5jb25jYXQoaFsxXSkuY29uY2F0KGhbMl0pOwogICAgICAgIGcgPSAiMHgiLmNvbmNhdChoWzNdKS5jb25jYXQoaFs0XSk7CiAgICAgICAgYiA9ICIweCIuY29uY2F0KGhbNV0pLmNvbmNhdChoWzZdKTsKICAgICAgfQoKICAgICAgaWYgKG5vcm0pIHsKICAgICAgICByIC89IDI1NTsKICAgICAgICBnIC89IDI1NTsKICAgICAgICBiIC89IDI1NTsKICAgICAgfSBlbHNlIHsKICAgICAgICByID0gcGFyc2VJbnQociwgMTYpOwogICAgICAgIGcgPSBwYXJzZUludChnLCAxNik7CiAgICAgICAgYiA9IHBhcnNlSW50KGIsIDE2KTsKICAgICAgfQoKICAgICAgcmV0dXJuIFtyLCBnLCBiXTsKICAgIH0KICAgIC8qKgogICAgICogQGRlc2NyaXB0aW9uIENvbnZlcnQgaGV4ICsgYWxwaGEgdG8gUkdCQQogICAgICogQHBhcmFtIHtTdHJpbmd9IGggLSBDb2xvciBoZXggY29kZQogICAgICogQHBhcmFtIHtudW1iZXJ9IGEgLSBBbHBoYSB2YWx1ZSBbMCwxXQogICAgICogQHBhcmFtIHtib29sZWFufSBub3JtYWxpemUgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBub3JtYWxpemVkIHRvIFswLDFdCiAgICAgKiBAcmV0dXJucyB7QXJyYXl9CiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiaGV4VG9SR0JBIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoZXhUb1JHQkEoaCwgYSwgbm9ybWFsaXplKSB7CiAgICAgIHZhciByZ2IgPSB0aGlzLmhleFRvUkdCKGgsIG5vcm1hbGl6ZSk7CiAgICAgIHZhciBhbHBoYSA9IG5vcm1hbGl6ZSAhPT0gZmFsc2UgPyBhIDogYSAqIDI1NTsKICAgICAgcmV0dXJuIFtyZ2JbMF0sIHJnYlsxXSwgcmdiWzJdLCBhbHBoYV07CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNTdWJTZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzU3ViU2V0KGEsIGIpIHsKICAgICAgcmV0dXJuIGEuZXZlcnkoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgcmV0dXJuIGIuZmluZChmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIGUgPT09IGVsOwogICAgICAgIH0pICE9PSB1bmRlZmluZWQ7CiAgICAgIH0pOwogICAgfQogICAgLyoqCiAgICAqIEEgbGluZWFyIGludGVycG9sYXRvciBmb3IgaGV4YWRlY2ltYWwgY29sb3JzCiAgICAqIEBwYXJhbSB7U3RyaW5nfSBhCiAgICAqIEBwYXJhbSB7U3RyaW5nfSBiCiAgICAqIEBwYXJhbSB7TnVtYmVyfSBhbW91bnQKICAgICogQGV4YW1wbGUKICAgICogLy8gcmV0dXJucyAjN0Y3RjdGCiAgICAqIGxlcnBDb2xvcignIzAwMDAwMCcsICcjZmZmZmZmJywgMC41KQogICAgKiBAcmV0dXJucyB7U3RyaW5nfQogICAgKi8KCiAgfSwgewogICAga2V5OiAibGVycENvbG9yIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBsZXJwQ29sb3IoYSwgYiwgYW1vdW50KSB7CiAgICAgIHZhciBhaCA9IHBhcnNlSW50KGEucmVwbGFjZSgvIy9nLCAnJyksIDE2KTsKICAgICAgdmFyIGFyID0gYWggPj4gMTY7CiAgICAgIHZhciBhZyA9IGFoID4+IDggJiAweGZmOwogICAgICB2YXIgYWIgPSBhaCAmIDB4ZmY7CiAgICAgIHZhciBiaCA9IHBhcnNlSW50KGIucmVwbGFjZSgvIy9nLCAnJyksIDE2KTsKICAgICAgdmFyIGJyID0gYmggPj4gMTY7CiAgICAgIHZhciBiZyA9IGJoID4+IDggJiAweGZmOwogICAgICB2YXIgYmIgPSBiaCAmIDB4ZmY7CiAgICAgIHZhciByciA9IGFyICsgYW1vdW50ICogKGJyIC0gYXIpOwogICAgICB2YXIgcmcgPSBhZyArIGFtb3VudCAqIChiZyAtIGFnKTsKICAgICAgdmFyIHJiID0gYWIgKyBhbW91bnQgKiAoYmIgLSBhYik7CiAgICAgIHJldHVybiAiIyIuY29uY2F0KCgoMSA8PCAyNCkgKyAocnIgPDwgMTYpICsgKHJnIDw8IDgpICsgcmIgfCAwKS50b1N0cmluZygxNikuc2xpY2UoMSkpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEdLVXRpbHM7Cn0oKTsKCnZhciBCZXppZXIgPQovKioqKioqLwpmdW5jdGlvbiAobW9kdWxlcykgewogIC8vIHdlYnBhY2tCb290c3RyYXAKCiAgLyoqKioqKi8KICAvLyBUaGUgbW9kdWxlIGNhY2hlCgogIC8qKioqKiovCiAgdmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTsKICAvKioqKioqLwogIC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uCgogIC8qKioqKiovCgogIGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHsKICAgIC8qKioqKiovCiAgICAvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGUKCiAgICAvKioqKioqLwogICAgaWYgKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKQogICAgICAvKioqKioqLwogICAgICByZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0czsKICAgIC8qKioqKiovCiAgICAvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKQoKICAgIC8qKioqKiovCgogICAgdmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0gewogICAgICAvKioqKioqLwogICAgICBleHBvcnRzOiB7fSwKCiAgICAgIC8qKioqKiovCiAgICAgIGlkOiBtb2R1bGVJZCwKCiAgICAgIC8qKioqKiovCiAgICAgIGxvYWRlZDogZmFsc2UKICAgICAgLyoqKioqKi8KCiAgICB9OwogICAgLyoqKioqKi8KICAgIC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvbgoKICAgIC8qKioqKiovCgogICAgbW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7CiAgICAvKioqKioqLwogICAgLy8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZAoKICAgIC8qKioqKiovCgogICAgbW9kdWxlLmxvYWRlZCA9IHRydWU7CiAgICAvKioqKioqLwogICAgLy8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGUKCiAgICAvKioqKioqLwoKICAgIHJldHVybiBtb2R1bGUuZXhwb3J0czsKICAgIC8qKioqKiovCiAgfQogIC8qKioqKiovCiAgLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXykKCiAgLyoqKioqKi8KCgogIF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7CiAgLyoqKioqKi8KICAvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZQoKICAvKioqKioqLwoKICBfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzOwogIC8qKioqKiovCiAgLy8gX193ZWJwYWNrX3B1YmxpY19wYXRoX18KCiAgLyoqKioqKi8KCiAgX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gIiI7CiAgLyoqKioqKi8KICAvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHMKCiAgLyoqKioqKi8KCiAgcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7CiAgLyoqKioqKi8KfSgKLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KCi8qKioqKiovClsKLyogMCAqLwoKLyoqKi8KZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7CiAgLyoqKi8KfSwKLyogMSAqLwoKLyoqKi8KZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICB2YXIgX3R5cGVvZiQxID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBfdHlwZW9mKFN5bWJvbC5pdGVyYXRvcikgPT09ICJzeW1ib2wiID8gZnVuY3Rpb24gKG9iaikgewogICAgcmV0dXJuIF90eXBlb2Yob2JqKTsKICB9IDogZnVuY3Rpb24gKG9iaikgewogICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogX3R5cGVvZihvYmopOwogIH07CiAgLyoqCiAgICBBIGphdmFzY3JpcHQgQmV6aWVyIGN1cnZlIGxpYnJhcnkgYnkgUG9tYXguCiAgCSAgQmFzZWQgb24gaHR0cDovL3BvbWF4LmdpdGh1Yi5pby9iZXppZXJpbmZvCiAgCSAgVGhpcyBjb2RlIGlzIE1JVCBsaWNlbnNlZC4KICAqKi8KCgogIChmdW5jdGlvbiAoKSB7CgogICAgdmFyIGFicyA9IE1hdGguYWJzLAogICAgICAgIG1pbiA9IE1hdGgubWluLAogICAgICAgIG1heCA9IE1hdGgubWF4LAogICAgICAgIGNvcyA9IE1hdGguY29zLAogICAgICAgIHNpbiA9IE1hdGguc2luLAogICAgICAgIGFjb3MgPSBNYXRoLmFjb3MsCiAgICAgICAgc3FydCA9IE1hdGguc3FydCwKICAgICAgICBwaSA9IE1hdGguUEksCiAgICAgICAgLy8gYSB6ZXJvIGNvb3JkaW5hdGUsIHdoaWNoIGlzIHN1cnByaXNpbmdseSB1c2VmdWwKICAgIFpFUk8gPSB7CiAgICAgIHg6IDAsCiAgICAgIHk6IDAsCiAgICAgIHo6IDAKICAgIH07IC8vIHF1aXRlIG5lZWRlZAoKICAgIHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7IC8vIG9ubHkgdXNlZCBmb3Igb3V0bGluZXMgYXRtLgoKCiAgICB2YXIgUG9seUJlemllciA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7CiAgICAvKioKICAgICAqIEJlemllciBjdXJ2ZSBjb25zdHJ1Y3Rvci4gVGhlIGNvbnN0cnVjdG9yIGFyZ3VtZW50IGNhbiBiZSBvbmUgb2YgdGhyZWUgdGhpbmdzOgogICAgICoKICAgICAqIDEuIGFycmF5LzQgb2Yge3g6Li4uLCB5Oi4uLiwgejouLi59LCB6IG9wdGlvbmFsCiAgICAgKiAyLiBudW1lcmljYWwgYXJyYXkvOCBvcmRlcmVkIHgxLHkxLHgyLHkyLHgzLHkzLHg0LHk0CiAgICAgKiAzLiBudW1lcmljYWwgYXJyYXkvMTIgb3JkZXJlZCB4MSx5MSx6MSx4Mix5Mix6Mix4Myx5Myx6Myx4NCx5NCx6NAogICAgICoKICAgICAqLwoKCiAgICB2YXIgQmV6aWVyID0gZnVuY3Rpb24gQmV6aWVyKGNvb3JkcykgewogICAgICB2YXIgYXJncyA9IGNvb3JkcyAmJiBjb29yZHMuZm9yRWFjaCA/IGNvb3JkcyA6IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTsKICAgICAgdmFyIGNvb3JkbGVuID0gZmFsc2U7CgogICAgICBpZiAoX3R5cGVvZiQxKGFyZ3NbMF0pID09PSAib2JqZWN0IikgewogICAgICAgIGNvb3JkbGVuID0gYXJncy5sZW5ndGg7CiAgICAgICAgdmFyIG5ld2FyZ3MgPSBbXTsKICAgICAgICBhcmdzLmZvckVhY2goZnVuY3Rpb24gKHBvaW50KSB7CiAgICAgICAgICBbIngiLCAieSIsICJ6Il0uZm9yRWFjaChmdW5jdGlvbiAoZCkgewogICAgICAgICAgICBpZiAodHlwZW9mIHBvaW50W2RdICE9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgIG5ld2FyZ3MucHVzaChwb2ludFtkXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIGFyZ3MgPSBuZXdhcmdzOwogICAgICB9CgogICAgICB2YXIgaGlnaGVyID0gZmFsc2U7CiAgICAgIHZhciBsZW4gPSBhcmdzLmxlbmd0aDsKCiAgICAgIGlmIChjb29yZGxlbikgewogICAgICAgIGlmIChjb29yZGxlbiA+IDQpIHsKICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICE9PSAxKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiT25seSBuZXcgQmV6aWVyKHBvaW50W10pIGlzIGFjY2VwdGVkIGZvciA0dGggYW5kIGhpZ2hlciBvcmRlciBjdXJ2ZXMiKTsKICAgICAgICAgIH0KCiAgICAgICAgICBoaWdoZXIgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAobGVuICE9PSA2ICYmIGxlbiAhPT0gOCAmJiBsZW4gIT09IDkgJiYgbGVuICE9PSAxMikgewogICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggIT09IDEpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJPbmx5IG5ldyBCZXppZXIocG9pbnRbXSkgaXMgYWNjZXB0ZWQgZm9yIDR0aCBhbmQgaGlnaGVyIG9yZGVyIGN1cnZlcyIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgdmFyIF8zZCA9ICFoaWdoZXIgJiYgKGxlbiA9PT0gOSB8fCBsZW4gPT09IDEyKSB8fCBjb29yZHMgJiYgY29vcmRzWzBdICYmIHR5cGVvZiBjb29yZHNbMF0ueiAhPT0gInVuZGVmaW5lZCI7CgogICAgICB0aGlzLl8zZCA9IF8zZDsKICAgICAgdmFyIHBvaW50cyA9IFtdOwoKICAgICAgZm9yICh2YXIgaWR4ID0gMCwgc3RlcCA9IF8zZCA/IDMgOiAyOyBpZHggPCBsZW47IGlkeCArPSBzdGVwKSB7CiAgICAgICAgdmFyIHBvaW50ID0gewogICAgICAgICAgeDogYXJnc1tpZHhdLAogICAgICAgICAgeTogYXJnc1tpZHggKyAxXQogICAgICAgIH07CgogICAgICAgIGlmIChfM2QpIHsKICAgICAgICAgIHBvaW50LnogPSBhcmdzW2lkeCArIDJdOwogICAgICAgIH0KCiAgICAgICAgcG9pbnRzLnB1c2gocG9pbnQpOwogICAgICB9CgogICAgICB0aGlzLm9yZGVyID0gcG9pbnRzLmxlbmd0aCAtIDE7CiAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzOwogICAgICB2YXIgZGltcyA9IFsieCIsICJ5Il07CiAgICAgIGlmIChfM2QpIGRpbXMucHVzaCgieiIpOwogICAgICB0aGlzLmRpbXMgPSBkaW1zOwogICAgICB0aGlzLmRpbWxlbiA9IGRpbXMubGVuZ3RoOwoKICAgICAgKGZ1bmN0aW9uIChjdXJ2ZSkgewogICAgICAgIHZhciBvcmRlciA9IGN1cnZlLm9yZGVyOwogICAgICAgIHZhciBwb2ludHMgPSBjdXJ2ZS5wb2ludHM7CiAgICAgICAgdmFyIGEgPSB1dGlscy5hbGlnbihwb2ludHMsIHsKICAgICAgICAgIHAxOiBwb2ludHNbMF0sCiAgICAgICAgICBwMjogcG9pbnRzW29yZGVyXQogICAgICAgIH0pOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlmIChhYnMoYVtpXS55KSA+IDAuMDAwMSkgewogICAgICAgICAgICBjdXJ2ZS5fbGluZWFyID0gZmFsc2U7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGN1cnZlLl9saW5lYXIgPSB0cnVlOwogICAgICB9KSh0aGlzKTsKCiAgICAgIHRoaXMuX3QxID0gMDsKICAgICAgdGhpcy5fdDIgPSAxOwogICAgICB0aGlzLnVwZGF0ZSgpOwogICAgfTsKCiAgICB2YXIgc3ZnVG9CZXppZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTsKICAgIC8qKgogICAgICogdHVybiBhbiBzdmcgPHBhdGg+IGQgYXR0cmlidXRlIGludG8gYSBzZXF1ZW5jZSBvZiBCZXppZXIgc2VnbWVudHMuCiAgICAgKi8KCgogICAgQmV6aWVyLlNWR3RvQmV6aWVycyA9IGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiBzdmdUb0JlemllcnMoQmV6aWVyLCBkKTsKICAgIH07CgogICAgZnVuY3Rpb24gZ2V0QUJDKG4sIFMsIEIsIEUsIHQpIHsKICAgICAgaWYgKHR5cGVvZiB0ID09PSAidW5kZWZpbmVkIikgewogICAgICAgIHQgPSAwLjU7CiAgICAgIH0KCiAgICAgIHZhciB1ID0gdXRpbHMucHJvamVjdGlvbnJhdGlvKHQsIG4pLAogICAgICAgICAgdW0gPSAxIC0gdSwKICAgICAgICAgIEMgPSB7CiAgICAgICAgeDogdSAqIFMueCArIHVtICogRS54LAogICAgICAgIHk6IHUgKiBTLnkgKyB1bSAqIEUueQogICAgICB9LAogICAgICAgICAgcyA9IHV0aWxzLmFiY3JhdGlvKHQsIG4pLAogICAgICAgICAgQSA9IHsKICAgICAgICB4OiBCLnggKyAoQi54IC0gQy54KSAvIHMsCiAgICAgICAgeTogQi55ICsgKEIueSAtIEMueSkgLyBzCiAgICAgIH07CiAgICAgIHJldHVybiB7CiAgICAgICAgQTogQSwKICAgICAgICBCOiBCLAogICAgICAgIEM6IEMKICAgICAgfTsKICAgIH0KCiAgICBCZXppZXIucXVhZHJhdGljRnJvbVBvaW50cyA9IGZ1bmN0aW9uIChwMSwgcDIsIHAzLCB0KSB7CiAgICAgIGlmICh0eXBlb2YgdCA9PT0gInVuZGVmaW5lZCIpIHsKICAgICAgICB0ID0gMC41OwogICAgICB9IC8vIHNob3J0Y3V0cywgYWx0aG91Z2ggdGhleSdyZSByZWFsbHkgZHVtYgoKCiAgICAgIGlmICh0ID09PSAwKSB7CiAgICAgICAgcmV0dXJuIG5ldyBCZXppZXIocDIsIHAyLCBwMyk7CiAgICAgIH0KCiAgICAgIGlmICh0ID09PSAxKSB7CiAgICAgICAgcmV0dXJuIG5ldyBCZXppZXIocDEsIHAyLCBwMik7CiAgICAgIH0gLy8gcmVhbCBmaXR0aW5nLgoKCiAgICAgIHZhciBhYmMgPSBnZXRBQkMoMiwgcDEsIHAyLCBwMywgdCk7CiAgICAgIHJldHVybiBuZXcgQmV6aWVyKHAxLCBhYmMuQSwgcDMpOwogICAgfTsKCiAgICBCZXppZXIuY3ViaWNGcm9tUG9pbnRzID0gZnVuY3Rpb24gKFMsIEIsIEUsIHQsIGQxKSB7CiAgICAgIGlmICh0eXBlb2YgdCA9PT0gInVuZGVmaW5lZCIpIHsKICAgICAgICB0ID0gMC41OwogICAgICB9CgogICAgICB2YXIgYWJjID0gZ2V0QUJDKDMsIFMsIEIsIEUsIHQpOwoKICAgICAgaWYgKHR5cGVvZiBkMSA9PT0gInVuZGVmaW5lZCIpIHsKICAgICAgICBkMSA9IHV0aWxzLmRpc3QoQiwgYWJjLkMpOwogICAgICB9CgogICAgICB2YXIgZDIgPSBkMSAqICgxIC0gdCkgLyB0OwogICAgICB2YXIgc2VsZW4gPSB1dGlscy5kaXN0KFMsIEUpLAogICAgICAgICAgbHggPSAoRS54IC0gUy54KSAvIHNlbGVuLAogICAgICAgICAgbHkgPSAoRS55IC0gUy55KSAvIHNlbGVuLAogICAgICAgICAgYngxID0gZDEgKiBseCwKICAgICAgICAgIGJ5MSA9IGQxICogbHksCiAgICAgICAgICBieDIgPSBkMiAqIGx4LAogICAgICAgICAgYnkyID0gZDIgKiBseTsgLy8gZGVyaXZhdGlvbiBvZiBuZXcgaHVsbCBjb29yZGluYXRlcwoKICAgICAgdmFyIGUxID0gewogICAgICAgIHg6IEIueCAtIGJ4MSwKICAgICAgICB5OiBCLnkgLSBieTEKICAgICAgfSwKICAgICAgICAgIGUyID0gewogICAgICAgIHg6IEIueCArIGJ4MiwKICAgICAgICB5OiBCLnkgKyBieTIKICAgICAgfSwKICAgICAgICAgIEEgPSBhYmMuQSwKICAgICAgICAgIHYxID0gewogICAgICAgIHg6IEEueCArIChlMS54IC0gQS54KSAvICgxIC0gdCksCiAgICAgICAgeTogQS55ICsgKGUxLnkgLSBBLnkpIC8gKDEgLSB0KQogICAgICB9LAogICAgICAgICAgdjIgPSB7CiAgICAgICAgeDogQS54ICsgKGUyLnggLSBBLngpIC8gdCwKICAgICAgICB5OiBBLnkgKyAoZTIueSAtIEEueSkgLyB0CiAgICAgIH0sCiAgICAgICAgICBuYzEgPSB7CiAgICAgICAgeDogUy54ICsgKHYxLnggLSBTLngpIC8gdCwKICAgICAgICB5OiBTLnkgKyAodjEueSAtIFMueSkgLyB0CiAgICAgIH0sCiAgICAgICAgICBuYzIgPSB7CiAgICAgICAgeDogRS54ICsgKHYyLnggLSBFLngpIC8gKDEgLSB0KSwKICAgICAgICB5OiBFLnkgKyAodjIueSAtIEUueSkgLyAoMSAtIHQpCiAgICAgIH07IC8vIC4uLmRvbmUKCiAgICAgIHJldHVybiBuZXcgQmV6aWVyKFMsIG5jMSwgbmMyLCBFKTsKICAgIH07CgogICAgdmFyIGdldFV0aWxzID0gZnVuY3Rpb24gZ2V0VXRpbHMoKSB7CiAgICAgIHJldHVybiB1dGlsczsKICAgIH07CgogICAgQmV6aWVyLmdldFV0aWxzID0gZ2V0VXRpbHM7CiAgICBCZXppZXIuUG9seUJlemllciA9IFBvbHlCZXppZXI7CiAgICBCZXppZXIucHJvdG90eXBlID0gewogICAgICBnZXRVdGlsczogZ2V0VXRpbHMsCiAgICAgIHZhbHVlT2Y6IGZ1bmN0aW9uIHZhbHVlT2YoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTsKICAgICAgfSwKICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uIHRvU3RyaW5nKCkgewogICAgICAgIHJldHVybiB1dGlscy5wb2ludHNUb1N0cmluZyh0aGlzLnBvaW50cyk7CiAgICAgIH0sCiAgICAgIHRvU1ZHOiBmdW5jdGlvbiB0b1NWRyhyZWxhdGl2ZSkgewogICAgICAgIGlmICh0aGlzLl8zZCkgcmV0dXJuIGZhbHNlOwogICAgICAgIHZhciBwID0gdGhpcy5wb2ludHMsCiAgICAgICAgICAgIHggPSBwWzBdLngsCiAgICAgICAgICAgIHkgPSBwWzBdLnksCiAgICAgICAgICAgIHMgPSBbIk0iLCB4LCB5LCB0aGlzLm9yZGVyID09PSAyID8gIlEiIDogIkMiXTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDEsIGxhc3QgPSBwLmxlbmd0aDsgaSA8IGxhc3Q7IGkrKykgewogICAgICAgICAgcy5wdXNoKHBbaV0ueCk7CiAgICAgICAgICBzLnB1c2gocFtpXS55KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBzLmpvaW4oIiAiKTsKICAgICAgfSwKICAgICAgc2V0UmF0aW9zOiBmdW5jdGlvbiBzZXRSYXRpb3MocmF0aW9zKSB7CiAgICAgICAgaWYgKHJhdGlvcy5sZW5ndGggIT09IHRoaXMucG9pbnRzLmxlbmd0aCkgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJpbmNvcnJlY3QgbnVtYmVyIG9mIHJhdGlvIHZhbHVlcyIpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5yYXRpb3MgPSByYXRpb3M7CiAgICAgICAgdGhpcy5fbHV0ID0gW107IC8vICBpbnZhbGlkYXRlIGFueSBwcmVjb21wdXRlZCBMVVQKICAgICAgfSwKICAgICAgdmVyaWZ5OiBmdW5jdGlvbiB2ZXJpZnkoKSB7CiAgICAgICAgdmFyIHByaW50ID0gdGhpcy5jb29yZERpZ2VzdCgpOwoKICAgICAgICBpZiAocHJpbnQgIT09IHRoaXMuX3ByaW50KSB7CiAgICAgICAgICB0aGlzLl9wcmludCA9IHByaW50OwogICAgICAgICAgdGhpcy51cGRhdGUoKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNvb3JkRGlnZXN0OiBmdW5jdGlvbiBjb29yZERpZ2VzdCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5wb2ludHMubWFwKGZ1bmN0aW9uIChjLCBwb3MpIHsKICAgICAgICAgIHJldHVybiAnJyArIHBvcyArIGMueCArIGMueSArIChjLnogPyBjLnogOiAwKTsKICAgICAgICB9KS5qb2luKCcnKTsKICAgICAgfSwKICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUobmV3cHJpbnQpIHsKICAgICAgICAvLyBpbnZhbGlkYXRlIGFueSBwcmVjb21wdXRlZCBMVVQKICAgICAgICB0aGlzLl9sdXQgPSBbXTsKICAgICAgICB0aGlzLmRwb2ludHMgPSB1dGlscy5kZXJpdmUodGhpcy5wb2ludHMsIHRoaXMuXzNkKTsKICAgICAgICB0aGlzLmNvbXB1dGVkaXJlY3Rpb24oKTsKICAgICAgfSwKICAgICAgY29tcHV0ZWRpcmVjdGlvbjogZnVuY3Rpb24gY29tcHV0ZWRpcmVjdGlvbigpIHsKICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHM7CiAgICAgICAgdmFyIGFuZ2xlID0gdXRpbHMuYW5nbGUocG9pbnRzWzBdLCBwb2ludHNbdGhpcy5vcmRlcl0sIHBvaW50c1sxXSk7CiAgICAgICAgdGhpcy5jbG9ja3dpc2UgPSBhbmdsZSA+IDA7CiAgICAgIH0sCiAgICAgIGxlbmd0aDogZnVuY3Rpb24gbGVuZ3RoKCkgewogICAgICAgIHJldHVybiB1dGlscy5sZW5ndGgodGhpcy5kZXJpdmF0aXZlLmJpbmQodGhpcykpOwogICAgICB9LAogICAgICBfbHV0OiBbXSwKICAgICAgZ2V0TFVUOiBmdW5jdGlvbiBnZXRMVVQoc3RlcHMpIHsKICAgICAgICB0aGlzLnZlcmlmeSgpOwogICAgICAgIHN0ZXBzID0gc3RlcHMgfHwgMTAwOwoKICAgICAgICBpZiAodGhpcy5fbHV0Lmxlbmd0aCA9PT0gc3RlcHMpIHsKICAgICAgICAgIHJldHVybiB0aGlzLl9sdXQ7CiAgICAgICAgfQoKICAgICAgICB0aGlzLl9sdXQgPSBbXTsgLy8gV2Ugd2FudCBhIHJhbmdlIGZyb20gMCB0byAxIGluY2x1c2l2ZSwgc28KICAgICAgICAvLyB3ZSBkZWNyZW1lbnQgYW5kIHRoZW4gdXNlIDw9IHJhdGhlciB0aGFuIDw6CgogICAgICAgIHN0ZXBzLS07CgogICAgICAgIGZvciAodmFyIHQgPSAwOyB0IDw9IHN0ZXBzOyB0KyspIHsKICAgICAgICAgIHRoaXMuX2x1dC5wdXNoKHRoaXMuY29tcHV0ZSh0IC8gc3RlcHMpKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0aGlzLl9sdXQ7CiAgICAgIH0sCiAgICAgIG9uOiBmdW5jdGlvbiBvbihwb2ludCwgZXJyb3IpIHsKICAgICAgICBlcnJvciA9IGVycm9yIHx8IDU7CiAgICAgICAgdmFyIGx1dCA9IHRoaXMuZ2V0TFVUKCksCiAgICAgICAgICAgIGhpdHMgPSBbXSwKICAgICAgICAgICAgYywKICAgICAgICAgICAgdCA9IDA7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbHV0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBjID0gbHV0W2ldOwoKICAgICAgICAgIGlmICh1dGlscy5kaXN0KGMsIHBvaW50KSA8IGVycm9yKSB7CiAgICAgICAgICAgIGhpdHMucHVzaChjKTsKICAgICAgICAgICAgdCArPSBpIC8gbHV0Lmxlbmd0aDsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICghaGl0cy5sZW5ndGgpIHJldHVybiBmYWxzZTsKICAgICAgICByZXR1cm4gdCAvPSBoaXRzLmxlbmd0aDsKICAgICAgfSwKICAgICAgcHJvamVjdDogZnVuY3Rpb24gcHJvamVjdChwb2ludCkgewogICAgICAgIC8vIHN0ZXAgMTogY29hcnNlIGNoZWNrCiAgICAgICAgdmFyIExVVCA9IHRoaXMuZ2V0TFVUKCksCiAgICAgICAgICAgIGwgPSBMVVQubGVuZ3RoIC0gMSwKICAgICAgICAgICAgY2xvc2VzdCA9IHV0aWxzLmNsb3Nlc3QoTFVULCBwb2ludCksCiAgICAgICAgICAgIG1kaXN0ID0gY2xvc2VzdC5tZGlzdCwKICAgICAgICAgICAgbXBvcyA9IGNsb3Nlc3QubXBvczsgLy8gc3RlcCAyOiBmaW5lIGNoZWNrCgogICAgICAgIHZhciBmdCwKICAgICAgICAgICAgdCwKICAgICAgICAgICAgcCwKICAgICAgICAgICAgZCwKICAgICAgICAgICAgdDEgPSAobXBvcyAtIDEpIC8gbCwKICAgICAgICAgICAgdDIgPSAobXBvcyArIDEpIC8gbCwKICAgICAgICAgICAgc3RlcCA9IDAuMSAvIGw7CiAgICAgICAgbWRpc3QgKz0gMTsKCiAgICAgICAgZm9yICh0ID0gdDEsIGZ0ID0gdDsgdCA8IHQyICsgc3RlcDsgdCArPSBzdGVwKSB7CiAgICAgICAgICBwID0gdGhpcy5jb21wdXRlKHQpOwogICAgICAgICAgZCA9IHV0aWxzLmRpc3QocG9pbnQsIHApOwoKICAgICAgICAgIGlmIChkIDwgbWRpc3QpIHsKICAgICAgICAgICAgbWRpc3QgPSBkOwogICAgICAgICAgICBmdCA9IHQ7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBwID0gdGhpcy5jb21wdXRlKGZ0KTsKICAgICAgICBwLnQgPSBmdDsKICAgICAgICBwLmQgPSBtZGlzdDsKICAgICAgICByZXR1cm4gcDsKICAgICAgfSwKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQodCkgewogICAgICAgIHJldHVybiB0aGlzLmNvbXB1dGUodCk7CiAgICAgIH0sCiAgICAgIHBvaW50OiBmdW5jdGlvbiBwb2ludChpZHgpIHsKICAgICAgICByZXR1cm4gdGhpcy5wb2ludHNbaWR4XTsKICAgICAgfSwKICAgICAgY29tcHV0ZTogZnVuY3Rpb24gY29tcHV0ZSh0KSB7CiAgICAgICAgaWYgKHRoaXMucmF0aW9zKSByZXR1cm4gdXRpbHMuY29tcHV0ZVdpdGhSYXRpb3ModCwgdGhpcy5wb2ludHMsIHRoaXMucmF0aW9zLCB0aGlzLl8zZCk7CiAgICAgICAgcmV0dXJuIHV0aWxzLmNvbXB1dGUodCwgdGhpcy5wb2ludHMsIHRoaXMuXzNkLCB0aGlzLnJhdGlvcyk7CiAgICAgIH0sCiAgICAgIHJhaXNlOiBmdW5jdGlvbiByYWlzZSgpIHsKICAgICAgICB2YXIgcCA9IHRoaXMucG9pbnRzLAogICAgICAgICAgICBucCA9IFtwWzBdXSwKICAgICAgICAgICAgaSwKICAgICAgICAgICAgayA9IHAubGVuZ3RoLAogICAgICAgICAgICBwaSwKICAgICAgICAgICAgcGltOwoKICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGs7IGkrKykgewogICAgICAgICAgcGkgPSBwW2ldOwogICAgICAgICAgcGltID0gcFtpIC0gMV07CiAgICAgICAgICBucFtpXSA9IHsKICAgICAgICAgICAgeDogKGsgLSBpKSAvIGsgKiBwaS54ICsgaSAvIGsgKiBwaW0ueCwKICAgICAgICAgICAgeTogKGsgLSBpKSAvIGsgKiBwaS55ICsgaSAvIGsgKiBwaW0ueQogICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIG5wW2tdID0gcFtrIC0gMV07CiAgICAgICAgcmV0dXJuIG5ldyBCZXppZXIobnApOwogICAgICB9LAogICAgICBkZXJpdmF0aXZlOiBmdW5jdGlvbiBkZXJpdmF0aXZlKHQpIHsKICAgICAgICB2YXIgbXQgPSAxIC0gdCwKICAgICAgICAgICAgYSwKICAgICAgICAgICAgYiwKICAgICAgICAgICAgYyA9IDAsCiAgICAgICAgICAgIHAgPSB0aGlzLmRwb2ludHNbMF07CgogICAgICAgIGlmICh0aGlzLm9yZGVyID09PSAyKSB7CiAgICAgICAgICBwID0gW3BbMF0sIHBbMV0sIFpFUk9dOwogICAgICAgICAgYSA9IG10OwogICAgICAgICAgYiA9IHQ7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5vcmRlciA9PT0gMykgewogICAgICAgICAgYSA9IG10ICogbXQ7CiAgICAgICAgICBiID0gbXQgKiB0ICogMjsKICAgICAgICAgIGMgPSB0ICogdDsKICAgICAgICB9CgogICAgICAgIHZhciByZXQgPSB7CiAgICAgICAgICB4OiBhICogcFswXS54ICsgYiAqIHBbMV0ueCArIGMgKiBwWzJdLngsCiAgICAgICAgICB5OiBhICogcFswXS55ICsgYiAqIHBbMV0ueSArIGMgKiBwWzJdLnkKICAgICAgICB9OwoKICAgICAgICBpZiAodGhpcy5fM2QpIHsKICAgICAgICAgIHJldC56ID0gYSAqIHBbMF0ueiArIGIgKiBwWzFdLnogKyBjICogcFsyXS56OwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJldDsKICAgICAgfSwKICAgICAgY3VydmF0dXJlOiBmdW5jdGlvbiBjdXJ2YXR1cmUodCkgewogICAgICAgIHJldHVybiB1dGlscy5jdXJ2YXR1cmUodCwgdGhpcy5wb2ludHMsIHRoaXMuXzNkKTsKICAgICAgfSwKICAgICAgaW5mbGVjdGlvbnM6IGZ1bmN0aW9uIGluZmxlY3Rpb25zKCkgewogICAgICAgIHJldHVybiB1dGlscy5pbmZsZWN0aW9ucyh0aGlzLnBvaW50cyk7CiAgICAgIH0sCiAgICAgIG5vcm1hbDogZnVuY3Rpb24gbm9ybWFsKHQpIHsKICAgICAgICByZXR1cm4gdGhpcy5fM2QgPyB0aGlzLl9fbm9ybWFsMyh0KSA6IHRoaXMuX19ub3JtYWwyKHQpOwogICAgICB9LAogICAgICBfX25vcm1hbDI6IGZ1bmN0aW9uIF9fbm9ybWFsMih0KSB7CiAgICAgICAgdmFyIGQgPSB0aGlzLmRlcml2YXRpdmUodCk7CiAgICAgICAgdmFyIHEgPSBzcXJ0KGQueCAqIGQueCArIGQueSAqIGQueSk7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHg6IC1kLnkgLyBxLAogICAgICAgICAgeTogZC54IC8gcQogICAgICAgIH07CiAgICAgIH0sCiAgICAgIF9fbm9ybWFsMzogZnVuY3Rpb24gX19ub3JtYWwzKHQpIHsKICAgICAgICAvLyBzZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNTQ1MzE1OQogICAgICAgIHZhciByMSA9IHRoaXMuZGVyaXZhdGl2ZSh0KSwKICAgICAgICAgICAgcjIgPSB0aGlzLmRlcml2YXRpdmUodCArIDAuMDEpLAogICAgICAgICAgICBxMSA9IHNxcnQocjEueCAqIHIxLnggKyByMS55ICogcjEueSArIHIxLnogKiByMS56KSwKICAgICAgICAgICAgcTIgPSBzcXJ0KHIyLnggKiByMi54ICsgcjIueSAqIHIyLnkgKyByMi56ICogcjIueik7CiAgICAgICAgcjEueCAvPSBxMTsKICAgICAgICByMS55IC89IHExOwogICAgICAgIHIxLnogLz0gcTE7CiAgICAgICAgcjIueCAvPSBxMjsKICAgICAgICByMi55IC89IHEyOwogICAgICAgIHIyLnogLz0gcTI7IC8vIGNyb3NzIHByb2R1Y3QKCiAgICAgICAgdmFyIGMgPSB7CiAgICAgICAgICB4OiByMi55ICogcjEueiAtIHIyLnogKiByMS55LAogICAgICAgICAgeTogcjIueiAqIHIxLnggLSByMi54ICogcjEueiwKICAgICAgICAgIHo6IHIyLnggKiByMS55IC0gcjIueSAqIHIxLngKICAgICAgICB9OwogICAgICAgIHZhciBtID0gc3FydChjLnggKiBjLnggKyBjLnkgKiBjLnkgKyBjLnogKiBjLnopOwogICAgICAgIGMueCAvPSBtOwogICAgICAgIGMueSAvPSBtOwogICAgICAgIGMueiAvPSBtOyAvLyByb3RhdGlvbiBtYXRyaXgKCiAgICAgICAgdmFyIFIgPSBbYy54ICogYy54LCBjLnggKiBjLnkgLSBjLnosIGMueCAqIGMueiArIGMueSwgYy54ICogYy55ICsgYy56LCBjLnkgKiBjLnksIGMueSAqIGMueiAtIGMueCwgYy54ICogYy56IC0gYy55LCBjLnkgKiBjLnogKyBjLngsIGMueiAqIGMuel07IC8vIG5vcm1hbCB2ZWN0b3I6CgogICAgICAgIHZhciBuID0gewogICAgICAgICAgeDogUlswXSAqIHIxLnggKyBSWzFdICogcjEueSArIFJbMl0gKiByMS56LAogICAgICAgICAgeTogUlszXSAqIHIxLnggKyBSWzRdICogcjEueSArIFJbNV0gKiByMS56LAogICAgICAgICAgejogUls2XSAqIHIxLnggKyBSWzddICogcjEueSArIFJbOF0gKiByMS56CiAgICAgICAgfTsKICAgICAgICByZXR1cm4gbjsKICAgICAgfSwKICAgICAgaHVsbDogZnVuY3Rpb24gaHVsbCh0KSB7CiAgICAgICAgdmFyIHAgPSB0aGlzLnBvaW50cywKICAgICAgICAgICAgX3AgPSBbXSwKICAgICAgICAgICAgcHQsCiAgICAgICAgICAgIHEgPSBbXSwKICAgICAgICAgICAgaWR4ID0gMCwKICAgICAgICAgICAgaSA9IDAsCiAgICAgICAgICAgIGwgPSAwOwogICAgICAgIHFbaWR4KytdID0gcFswXTsKICAgICAgICBxW2lkeCsrXSA9IHBbMV07CiAgICAgICAgcVtpZHgrK10gPSBwWzJdOwoKICAgICAgICBpZiAodGhpcy5vcmRlciA9PT0gMykgewogICAgICAgICAgcVtpZHgrK10gPSBwWzNdOwogICAgICAgIH0gLy8gd2UgbGVycCBiZXR3ZWVuIGFsbCBwb2ludHMgYXQgZWFjaCBpdGVyYXRpb24sIHVudGlsIHdlIGhhdmUgMSBwb2ludCBsZWZ0LgoKCiAgICAgICAgd2hpbGUgKHAubGVuZ3RoID4gMSkgewogICAgICAgICAgX3AgPSBbXTsKCiAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gcC5sZW5ndGggLSAxOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgICAgIHB0ID0gdXRpbHMubGVycCh0LCBwW2ldLCBwW2kgKyAxXSk7CiAgICAgICAgICAgIHFbaWR4KytdID0gcHQ7CgogICAgICAgICAgICBfcC5wdXNoKHB0KTsKICAgICAgICAgIH0KCiAgICAgICAgICBwID0gX3A7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcTsKICAgICAgfSwKICAgICAgc3BsaXQ6IGZ1bmN0aW9uIHNwbGl0KHQxLCB0MikgewogICAgICAgIC8vIHNob3J0Y3V0cwogICAgICAgIGlmICh0MSA9PT0gMCAmJiAhIXQyKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5zcGxpdCh0MikubGVmdDsKICAgICAgICB9CgogICAgICAgIGlmICh0MiA9PT0gMSkgewogICAgICAgICAgcmV0dXJuIHRoaXMuc3BsaXQodDEpLnJpZ2h0OwogICAgICAgIH0gLy8gbm8gc2hvcnRjdXQ6IHVzZSAiZGUgQ2FzdGVsamF1IiBpdGVyYXRpb24uCgoKICAgICAgICB2YXIgcSA9IHRoaXMuaHVsbCh0MSk7CiAgICAgICAgdmFyIHJlc3VsdCA9IHsKICAgICAgICAgIGxlZnQ6IHRoaXMub3JkZXIgPT09IDIgPyBuZXcgQmV6aWVyKFtxWzBdLCBxWzNdLCBxWzVdXSkgOiBuZXcgQmV6aWVyKFtxWzBdLCBxWzRdLCBxWzddLCBxWzldXSksCiAgICAgICAgICByaWdodDogdGhpcy5vcmRlciA9PT0gMiA/IG5ldyBCZXppZXIoW3FbNV0sIHFbNF0sIHFbMl1dKSA6IG5ldyBCZXppZXIoW3FbOV0sIHFbOF0sIHFbNl0sIHFbM11dKSwKICAgICAgICAgIHNwYW46IHEKICAgICAgICB9OyAvLyBtYWtlIHN1cmUgd2UgYmluZCBfdDEvX3QyIGluZm9ybWF0aW9uIQoKICAgICAgICByZXN1bHQubGVmdC5fdDEgPSB1dGlscy5tYXAoMCwgMCwgMSwgdGhpcy5fdDEsIHRoaXMuX3QyKTsKICAgICAgICByZXN1bHQubGVmdC5fdDIgPSB1dGlscy5tYXAodDEsIDAsIDEsIHRoaXMuX3QxLCB0aGlzLl90Mik7CiAgICAgICAgcmVzdWx0LnJpZ2h0Ll90MSA9IHV0aWxzLm1hcCh0MSwgMCwgMSwgdGhpcy5fdDEsIHRoaXMuX3QyKTsKICAgICAgICByZXN1bHQucmlnaHQuX3QyID0gdXRpbHMubWFwKDEsIDAsIDEsIHRoaXMuX3QxLCB0aGlzLl90Mik7IC8vIGlmIHdlIGhhdmUgbm8gdDIsIHdlJ3JlIGRvbmUKCiAgICAgICAgaWYgKCF0MikgewogICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICB9IC8vIGlmIHdlIGhhdmUgYSB0Miwgc3BsaXQgYWdhaW46CgoKICAgICAgICB0MiA9IHV0aWxzLm1hcCh0MiwgdDEsIDEsIDAsIDEpOwogICAgICAgIHZhciBzdWJzcGxpdCA9IHJlc3VsdC5yaWdodC5zcGxpdCh0Mik7CiAgICAgICAgcmV0dXJuIHN1YnNwbGl0LmxlZnQ7CiAgICAgIH0sCiAgICAgIGV4dHJlbWE6IGZ1bmN0aW9uIGV4dHJlbWEoKSB7CiAgICAgICAgdmFyIGRpbXMgPSB0aGlzLmRpbXMsCiAgICAgICAgICAgIHJlc3VsdCA9IHt9LAogICAgICAgICAgICByb290cyA9IFtdLAogICAgICAgICAgICBwLAogICAgICAgICAgICBtZm47CiAgICAgICAgZGltcy5mb3JFYWNoKGZ1bmN0aW9uIChkaW0pIHsKICAgICAgICAgIG1mbiA9IGZ1bmN0aW9uIG1mbih2KSB7CiAgICAgICAgICAgIHJldHVybiB2W2RpbV07CiAgICAgICAgICB9OwoKICAgICAgICAgIHAgPSB0aGlzLmRwb2ludHNbMF0ubWFwKG1mbik7CiAgICAgICAgICByZXN1bHRbZGltXSA9IHV0aWxzLmRyb290cyhwKTsKCiAgICAgICAgICBpZiAodGhpcy5vcmRlciA9PT0gMykgewogICAgICAgICAgICBwID0gdGhpcy5kcG9pbnRzWzFdLm1hcChtZm4pOwogICAgICAgICAgICByZXN1bHRbZGltXSA9IHJlc3VsdFtkaW1dLmNvbmNhdCh1dGlscy5kcm9vdHMocCkpOwogICAgICAgICAgfQoKICAgICAgICAgIHJlc3VsdFtkaW1dID0gcmVzdWx0W2RpbV0uZmlsdGVyKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICAgIHJldHVybiB0ID49IDAgJiYgdCA8PSAxOwogICAgICAgICAgfSk7CiAgICAgICAgICByb290cyA9IHJvb3RzLmNvbmNhdChyZXN1bHRbZGltXS5zb3J0KHV0aWxzLm51bWJlclNvcnQpKTsKICAgICAgICB9LmJpbmQodGhpcykpOwogICAgICAgIHJvb3RzID0gcm9vdHMuc29ydCh1dGlscy5udW1iZXJTb3J0KS5maWx0ZXIoZnVuY3Rpb24gKHYsIGlkeCkgewogICAgICAgICAgcmV0dXJuIHJvb3RzLmluZGV4T2YodikgPT09IGlkeDsKICAgICAgICB9KTsKICAgICAgICByZXN1bHQudmFsdWVzID0gcm9vdHM7CiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfSwKICAgICAgYmJveDogZnVuY3Rpb24gYmJveCgpIHsKICAgICAgICB2YXIgZXh0cmVtYSA9IHRoaXMuZXh0cmVtYSgpLAogICAgICAgICAgICByZXN1bHQgPSB7fTsKICAgICAgICB0aGlzLmRpbXMuZm9yRWFjaChmdW5jdGlvbiAoZCkgewogICAgICAgICAgcmVzdWx0W2RdID0gdXRpbHMuZ2V0bWlubWF4KHRoaXMsIGQsIGV4dHJlbWFbZF0pOwogICAgICAgIH0uYmluZCh0aGlzKSk7CiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfSwKICAgICAgb3ZlcmxhcHM6IGZ1bmN0aW9uIG92ZXJsYXBzKGN1cnZlKSB7CiAgICAgICAgdmFyIGxiYm94ID0gdGhpcy5iYm94KCksCiAgICAgICAgICAgIHRiYm94ID0gY3VydmUuYmJveCgpOwogICAgICAgIHJldHVybiB1dGlscy5iYm94b3ZlcmxhcChsYmJveCwgdGJib3gpOwogICAgICB9LAogICAgICBvZmZzZXQ6IGZ1bmN0aW9uIG9mZnNldCh0LCBkKSB7CiAgICAgICAgaWYgKHR5cGVvZiBkICE9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgdmFyIGMgPSB0aGlzLmdldCh0KTsKICAgICAgICAgIHZhciBuID0gdGhpcy5ub3JtYWwodCk7CiAgICAgICAgICB2YXIgcmV0ID0gewogICAgICAgICAgICBjOiBjLAogICAgICAgICAgICBuOiBuLAogICAgICAgICAgICB4OiBjLnggKyBuLnggKiBkLAogICAgICAgICAgICB5OiBjLnkgKyBuLnkgKiBkCiAgICAgICAgICB9OwoKICAgICAgICAgIGlmICh0aGlzLl8zZCkgewogICAgICAgICAgICByZXQueiA9IGMueiArIG4ueiAqIGQ7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHJldDsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLl9saW5lYXIpIHsKICAgICAgICAgIHZhciBudiA9IHRoaXMubm9ybWFsKDApOwogICAgICAgICAgdmFyIGNvb3JkcyA9IHRoaXMucG9pbnRzLm1hcChmdW5jdGlvbiAocCkgewogICAgICAgICAgICB2YXIgcmV0ID0gewogICAgICAgICAgICAgIHg6IHAueCArIHQgKiBudi54LAogICAgICAgICAgICAgIHk6IHAueSArIHQgKiBudi55CiAgICAgICAgICAgIH07CgogICAgICAgICAgICBpZiAocC56ICYmIG4ueikgewogICAgICAgICAgICAgIHJldC56ID0gcC56ICsgdCAqIG52Lno7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiByZXQ7CiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiBbbmV3IEJlemllcihjb29yZHMpXTsKICAgICAgICB9CgogICAgICAgIHZhciByZWR1Y2VkID0gdGhpcy5yZWR1Y2UoKTsKICAgICAgICByZXR1cm4gcmVkdWNlZC5tYXAoZnVuY3Rpb24gKHMpIHsKICAgICAgICAgIGlmIChzLl9saW5lYXIpIHsKICAgICAgICAgICAgcmV0dXJuIHMub2Zmc2V0KHQpWzBdOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBzLnNjYWxlKHQpOwogICAgICAgIH0pOwogICAgICB9LAogICAgICBzaW1wbGU6IGZ1bmN0aW9uIHNpbXBsZSgpIHsKICAgICAgICBpZiAodGhpcy5vcmRlciA9PT0gMykgewogICAgICAgICAgdmFyIGExID0gdXRpbHMuYW5nbGUodGhpcy5wb2ludHNbMF0sIHRoaXMucG9pbnRzWzNdLCB0aGlzLnBvaW50c1sxXSk7CiAgICAgICAgICB2YXIgYTIgPSB1dGlscy5hbmdsZSh0aGlzLnBvaW50c1swXSwgdGhpcy5wb2ludHNbM10sIHRoaXMucG9pbnRzWzJdKTsKICAgICAgICAgIGlmIChhMSA+IDAgJiYgYTIgPCAwIHx8IGExIDwgMCAmJiBhMiA+IDApIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIHZhciBuMSA9IHRoaXMubm9ybWFsKDApOwogICAgICAgIHZhciBuMiA9IHRoaXMubm9ybWFsKDEpOwogICAgICAgIHZhciBzID0gbjEueCAqIG4yLnggKyBuMS55ICogbjIueTsKCiAgICAgICAgaWYgKHRoaXMuXzNkKSB7CiAgICAgICAgICBzICs9IG4xLnogKiBuMi56OwogICAgICAgIH0KCiAgICAgICAgdmFyIGFuZ2xlID0gYWJzKGFjb3MocykpOwogICAgICAgIHJldHVybiBhbmdsZSA8IHBpIC8gMzsKICAgICAgfSwKICAgICAgcmVkdWNlOiBmdW5jdGlvbiByZWR1Y2UoKSB7CiAgICAgICAgdmFyIGksCiAgICAgICAgICAgIHQxID0gMCwKICAgICAgICAgICAgdDIgPSAwLAogICAgICAgICAgICBzdGVwID0gMC4wMSwKICAgICAgICAgICAgc2VnbWVudCwKICAgICAgICAgICAgcGFzczEgPSBbXSwKICAgICAgICAgICAgcGFzczIgPSBbXTsgLy8gZmlyc3QgcGFzczogc3BsaXQgb24gZXh0cmVtYQoKICAgICAgICB2YXIgZXh0cmVtYSA9IHRoaXMuZXh0cmVtYSgpLnZhbHVlczsKCiAgICAgICAgaWYgKGV4dHJlbWEuaW5kZXhPZigwKSA9PT0gLTEpIHsKICAgICAgICAgIGV4dHJlbWEgPSBbMF0uY29uY2F0KGV4dHJlbWEpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGV4dHJlbWEuaW5kZXhPZigxKSA9PT0gLTEpIHsKICAgICAgICAgIGV4dHJlbWEucHVzaCgxKTsKICAgICAgICB9CgogICAgICAgIGZvciAodDEgPSBleHRyZW1hWzBdLCBpID0gMTsgaSA8IGV4dHJlbWEubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHQyID0gZXh0cmVtYVtpXTsKICAgICAgICAgIHNlZ21lbnQgPSB0aGlzLnNwbGl0KHQxLCB0Mik7CiAgICAgICAgICBzZWdtZW50Ll90MSA9IHQxOwogICAgICAgICAgc2VnbWVudC5fdDIgPSB0MjsKICAgICAgICAgIHBhc3MxLnB1c2goc2VnbWVudCk7CiAgICAgICAgICB0MSA9IHQyOwogICAgICAgIH0gLy8gc2Vjb25kIHBhc3M6IGZ1cnRoZXIgcmVkdWNlIHRoZXNlIHNlZ21lbnRzIHRvIHNpbXBsZSBzZWdtZW50cwoKCiAgICAgICAgcGFzczEuZm9yRWFjaChmdW5jdGlvbiAocDEpIHsKICAgICAgICAgIHQxID0gMDsKICAgICAgICAgIHQyID0gMDsKCiAgICAgICAgICB3aGlsZSAodDIgPD0gMSkgewogICAgICAgICAgICBmb3IgKHQyID0gdDEgKyBzdGVwOyB0MiA8PSAxICsgc3RlcDsgdDIgKz0gc3RlcCkgewogICAgICAgICAgICAgIHNlZ21lbnQgPSBwMS5zcGxpdCh0MSwgdDIpOwoKICAgICAgICAgICAgICBpZiAoIXNlZ21lbnQuc2ltcGxlKCkpIHsKICAgICAgICAgICAgICAgIHQyIC09IHN0ZXA7CgogICAgICAgICAgICAgICAgaWYgKGFicyh0MSAtIHQyKSA8IHN0ZXApIHsKICAgICAgICAgICAgICAgICAgLy8gd2UgY2FuIG5ldmVyIGZvcm0gYSByZWR1Y3Rpb24KICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHNlZ21lbnQgPSBwMS5zcGxpdCh0MSwgdDIpOwogICAgICAgICAgICAgICAgc2VnbWVudC5fdDEgPSB1dGlscy5tYXAodDEsIDAsIDEsIHAxLl90MSwgcDEuX3QyKTsKICAgICAgICAgICAgICAgIHNlZ21lbnQuX3QyID0gdXRpbHMubWFwKHQyLCAwLCAxLCBwMS5fdDEsIHAxLl90Mik7CiAgICAgICAgICAgICAgICBwYXNzMi5wdXNoKHNlZ21lbnQpOwogICAgICAgICAgICAgICAgdDEgPSB0MjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmICh0MSA8IDEpIHsKICAgICAgICAgICAgc2VnbWVudCA9IHAxLnNwbGl0KHQxLCAxKTsKICAgICAgICAgICAgc2VnbWVudC5fdDEgPSB1dGlscy5tYXAodDEsIDAsIDEsIHAxLl90MSwgcDEuX3QyKTsKICAgICAgICAgICAgc2VnbWVudC5fdDIgPSBwMS5fdDI7CiAgICAgICAgICAgIHBhc3MyLnB1c2goc2VnbWVudCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHBhc3MyOwogICAgICB9LAogICAgICBzY2FsZTogZnVuY3Rpb24gc2NhbGUoZCkgewogICAgICAgIHZhciBvcmRlciA9IHRoaXMub3JkZXI7CiAgICAgICAgdmFyIGRpc3RhbmNlRm4gPSBmYWxzZTsKCiAgICAgICAgaWYgKHR5cGVvZiBkID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgICBkaXN0YW5jZUZuID0gZDsKICAgICAgICB9CgogICAgICAgIGlmIChkaXN0YW5jZUZuICYmIG9yZGVyID09PSAyKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5yYWlzZSgpLnNjYWxlKGRpc3RhbmNlRm4pOwogICAgICAgIH0gLy8gVE9ETzogYWRkIHNwZWNpYWwgaGFuZGxpbmcgZm9yIGRlZ2VuZXJhdGUgKD1saW5lYXIpIGN1cnZlcy4KCgogICAgICAgIHZhciBjbG9ja3dpc2UgPSB0aGlzLmNsb2Nrd2lzZTsKICAgICAgICB2YXIgcjEgPSBkaXN0YW5jZUZuID8gZGlzdGFuY2VGbigwKSA6IGQ7CiAgICAgICAgdmFyIHIyID0gZGlzdGFuY2VGbiA/IGRpc3RhbmNlRm4oMSkgOiBkOwogICAgICAgIHZhciB2ID0gW3RoaXMub2Zmc2V0KDAsIDEwKSwgdGhpcy5vZmZzZXQoMSwgMTApXTsKICAgICAgICB2YXIgbyA9IHV0aWxzLmxsaTQodlswXSwgdlswXS5jLCB2WzFdLCB2WzFdLmMpOwoKICAgICAgICBpZiAoIW8pIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiY2Fubm90IHNjYWxlIHRoaXMgY3VydmUuIFRyeSByZWR1Y2luZyBpdCBmaXJzdC4iKTsKICAgICAgICB9IC8vIG1vdmUgYWxsIHBvaW50cyBieSBkaXN0YW5jZSAnZCcgd3J0IHRoZSBvcmlnaW4gJ28nCgoKICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHMsCiAgICAgICAgICAgIG5wID0gW107IC8vIG1vdmUgZW5kIHBvaW50cyBieSBmaXhlZCBkaXN0YW5jZSBhbG9uZyBub3JtYWwuCgogICAgICAgIFswLCAxXS5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICB2YXIgcCA9IG5wW3QgKiBvcmRlcl0gPSB1dGlscy5jb3B5KHBvaW50c1t0ICogb3JkZXJdKTsKICAgICAgICAgIHAueCArPSAodCA/IHIyIDogcjEpICogdlt0XS5uLng7CiAgICAgICAgICBwLnkgKz0gKHQgPyByMiA6IHIxKSAqIHZbdF0ubi55OwogICAgICAgIH0uYmluZCh0aGlzKSk7CgogICAgICAgIGlmICghZGlzdGFuY2VGbikgewogICAgICAgICAgLy8gbW92ZSBjb250cm9sIHBvaW50cyB0byBsaWUgb24gdGhlIGludGVyc2VjdGlvbiBvZiB0aGUgb2Zmc2V0CiAgICAgICAgICAvLyBkZXJpdmF0aXZlIHZlY3RvciwgYW5kIHRoZSBvcmlnaW4tdGhyb3VnaC1jb250cm9sIHZlY3RvcgogICAgICAgICAgWzAsIDFdLmZvckVhY2goZnVuY3Rpb24gKHQpIHsKICAgICAgICAgICAgaWYgKHRoaXMub3JkZXIgPT09IDIgJiYgISF0KSByZXR1cm47CiAgICAgICAgICAgIHZhciBwID0gbnBbdCAqIG9yZGVyXTsKICAgICAgICAgICAgdmFyIGQgPSB0aGlzLmRlcml2YXRpdmUodCk7CiAgICAgICAgICAgIHZhciBwMiA9IHsKICAgICAgICAgICAgICB4OiBwLnggKyBkLngsCiAgICAgICAgICAgICAgeTogcC55ICsgZC55CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIG5wW3QgKyAxXSA9IHV0aWxzLmxsaTQocCwgcDIsIG8sIHBvaW50c1t0ICsgMV0pOwogICAgICAgICAgfS5iaW5kKHRoaXMpKTsKICAgICAgICAgIHJldHVybiBuZXcgQmV6aWVyKG5wKTsKICAgICAgICB9IC8vIG1vdmUgY29udHJvbCBwb2ludHMgYnkgImhvd2V2ZXIgbXVjaCBuZWNlc3NhcnkgdG8KICAgICAgICAvLyBlbnN1cmUgdGhlIGNvcnJlY3QgdGFuZ2VudCB0byBlbmRwb2ludCIuCgoKICAgICAgICBbMCwgMV0uZm9yRWFjaChmdW5jdGlvbiAodCkgewogICAgICAgICAgaWYgKHRoaXMub3JkZXIgPT09IDIgJiYgISF0KSByZXR1cm47CiAgICAgICAgICB2YXIgcCA9IHBvaW50c1t0ICsgMV07CiAgICAgICAgICB2YXIgb3YgPSB7CiAgICAgICAgICAgIHg6IHAueCAtIG8ueCwKICAgICAgICAgICAgeTogcC55IC0gby55CiAgICAgICAgICB9OwogICAgICAgICAgdmFyIHJjID0gZGlzdGFuY2VGbiA/IGRpc3RhbmNlRm4oKHQgKyAxKSAvIG9yZGVyKSA6IGQ7CiAgICAgICAgICBpZiAoZGlzdGFuY2VGbiAmJiAhY2xvY2t3aXNlKSByYyA9IC1yYzsKICAgICAgICAgIHZhciBtID0gc3FydChvdi54ICogb3YueCArIG92LnkgKiBvdi55KTsKICAgICAgICAgIG92LnggLz0gbTsKICAgICAgICAgIG92LnkgLz0gbTsKICAgICAgICAgIG5wW3QgKyAxXSA9IHsKICAgICAgICAgICAgeDogcC54ICsgcmMgKiBvdi54LAogICAgICAgICAgICB5OiBwLnkgKyByYyAqIG92LnkKICAgICAgICAgIH07CiAgICAgICAgfS5iaW5kKHRoaXMpKTsKICAgICAgICByZXR1cm4gbmV3IEJlemllcihucCk7CiAgICAgIH0sCiAgICAgIG91dGxpbmU6IGZ1bmN0aW9uIG91dGxpbmUoZDEsIGQyLCBkMywgZDQpIHsKICAgICAgICBkMiA9IHR5cGVvZiBkMiA9PT0gInVuZGVmaW5lZCIgPyBkMSA6IGQyOwogICAgICAgIHZhciByZWR1Y2VkID0gdGhpcy5yZWR1Y2UoKSwKICAgICAgICAgICAgbGVuID0gcmVkdWNlZC5sZW5ndGgsCiAgICAgICAgICAgIGZjdXJ2ZXMgPSBbXSwKICAgICAgICAgICAgYmN1cnZlcyA9IFtdLAogICAgICAgICAgICBwLAogICAgICAgICAgICBhbGVuID0gMCwKICAgICAgICAgICAgdGxlbiA9IHRoaXMubGVuZ3RoKCk7CiAgICAgICAgdmFyIGdyYWR1YXRlZCA9IHR5cGVvZiBkMyAhPT0gInVuZGVmaW5lZCIgJiYgdHlwZW9mIGQ0ICE9PSAidW5kZWZpbmVkIjsKCiAgICAgICAgZnVuY3Rpb24gbGluZWFyRGlzdGFuY2VGdW5jdGlvbihzLCBlLCB0bGVuLCBhbGVuLCBzbGVuKSB7CiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHYpIHsKICAgICAgICAgICAgdmFyIGYxID0gYWxlbiAvIHRsZW4sCiAgICAgICAgICAgICAgICBmMiA9IChhbGVuICsgc2xlbikgLyB0bGVuLAogICAgICAgICAgICAgICAgZCA9IGUgLSBzOwogICAgICAgICAgICByZXR1cm4gdXRpbHMubWFwKHYsIDAsIDEsIHMgKyBmMSAqIGQsIHMgKyBmMiAqIGQpOwogICAgICAgICAgfTsKICAgICAgICB9IC8vIGZvcm0gY3VydmUgb3VsaW5lcwoKCiAgICAgICAgcmVkdWNlZC5mb3JFYWNoKGZ1bmN0aW9uIChzZWdtZW50KSB7CiAgICAgICAgICBzbGVuID0gc2VnbWVudC5sZW5ndGgoKTsKCiAgICAgICAgICBpZiAoZ3JhZHVhdGVkKSB7CiAgICAgICAgICAgIGZjdXJ2ZXMucHVzaChzZWdtZW50LnNjYWxlKGxpbmVhckRpc3RhbmNlRnVuY3Rpb24oZDEsIGQzLCB0bGVuLCBhbGVuLCBzbGVuKSkpOwogICAgICAgICAgICBiY3VydmVzLnB1c2goc2VnbWVudC5zY2FsZShsaW5lYXJEaXN0YW5jZUZ1bmN0aW9uKC1kMiwgLWQ0LCB0bGVuLCBhbGVuLCBzbGVuKSkpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZmN1cnZlcy5wdXNoKHNlZ21lbnQuc2NhbGUoZDEpKTsKICAgICAgICAgICAgYmN1cnZlcy5wdXNoKHNlZ21lbnQuc2NhbGUoLWQyKSk7CiAgICAgICAgICB9CgogICAgICAgICAgYWxlbiArPSBzbGVuOwogICAgICAgIH0pOyAvLyByZXZlcnNlIHRoZSAicmV0dXJuIiBvdXRsaW5lCgogICAgICAgIGJjdXJ2ZXMgPSBiY3VydmVzLm1hcChmdW5jdGlvbiAocykgewogICAgICAgICAgcCA9IHMucG9pbnRzOwoKICAgICAgICAgIGlmIChwWzNdKSB7CiAgICAgICAgICAgIHMucG9pbnRzID0gW3BbM10sIHBbMl0sIHBbMV0sIHBbMF1dOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcy5wb2ludHMgPSBbcFsyXSwgcFsxXSwgcFswXV07CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHM7CiAgICAgICAgfSkucmV2ZXJzZSgpOyAvLyBmb3JtIHRoZSBlbmRjYXBzIGFzIGxpbmVzCgogICAgICAgIHZhciBmcyA9IGZjdXJ2ZXNbMF0ucG9pbnRzWzBdLAogICAgICAgICAgICBmZSA9IGZjdXJ2ZXNbbGVuIC0gMV0ucG9pbnRzW2ZjdXJ2ZXNbbGVuIC0gMV0ucG9pbnRzLmxlbmd0aCAtIDFdLAogICAgICAgICAgICBicyA9IGJjdXJ2ZXNbbGVuIC0gMV0ucG9pbnRzW2JjdXJ2ZXNbbGVuIC0gMV0ucG9pbnRzLmxlbmd0aCAtIDFdLAogICAgICAgICAgICBiZSA9IGJjdXJ2ZXNbMF0ucG9pbnRzWzBdLAogICAgICAgICAgICBscyA9IHV0aWxzLm1ha2VsaW5lKGJzLCBmcyksCiAgICAgICAgICAgIGxlID0gdXRpbHMubWFrZWxpbmUoZmUsIGJlKSwKICAgICAgICAgICAgc2VnbWVudHMgPSBbbHNdLmNvbmNhdChmY3VydmVzKS5jb25jYXQoW2xlXSkuY29uY2F0KGJjdXJ2ZXMpLAogICAgICAgICAgICBzbGVuID0gc2VnbWVudHMubGVuZ3RoOwogICAgICAgIHJldHVybiBuZXcgUG9seUJlemllcihzZWdtZW50cyk7CiAgICAgIH0sCiAgICAgIG91dGxpbmVzaGFwZXM6IGZ1bmN0aW9uIG91dGxpbmVzaGFwZXMoZDEsIGQyLCBjdXJ2ZUludGVyc2VjdGlvblRocmVzaG9sZCkgewogICAgICAgIGQyID0gZDIgfHwgZDE7CiAgICAgICAgdmFyIG91dGxpbmUgPSB0aGlzLm91dGxpbmUoZDEsIGQyKS5jdXJ2ZXM7CiAgICAgICAgdmFyIHNoYXBlcyA9IFtdOwoKICAgICAgICBmb3IgKHZhciBpID0gMSwgbGVuID0gb3V0bGluZS5sZW5ndGg7IGkgPCBsZW4gLyAyOyBpKyspIHsKICAgICAgICAgIHZhciBzaGFwZSA9IHV0aWxzLm1ha2VzaGFwZShvdXRsaW5lW2ldLCBvdXRsaW5lW2xlbiAtIGldLCBjdXJ2ZUludGVyc2VjdGlvblRocmVzaG9sZCk7CiAgICAgICAgICBzaGFwZS5zdGFydGNhcC52aXJ0dWFsID0gaSA+IDE7CiAgICAgICAgICBzaGFwZS5lbmRjYXAudmlydHVhbCA9IGkgPCBsZW4gLyAyIC0gMTsKICAgICAgICAgIHNoYXBlcy5wdXNoKHNoYXBlKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBzaGFwZXM7CiAgICAgIH0sCiAgICAgIGludGVyc2VjdHM6IGZ1bmN0aW9uIGludGVyc2VjdHMoY3VydmUsIGN1cnZlSW50ZXJzZWN0aW9uVGhyZXNob2xkKSB7CiAgICAgICAgaWYgKCFjdXJ2ZSkgcmV0dXJuIHRoaXMuc2VsZmludGVyc2VjdHMoY3VydmVJbnRlcnNlY3Rpb25UaHJlc2hvbGQpOwoKICAgICAgICBpZiAoY3VydmUucDEgJiYgY3VydmUucDIpIHsKICAgICAgICAgIHJldHVybiB0aGlzLmxpbmVJbnRlcnNlY3RzKGN1cnZlKTsKICAgICAgICB9CgogICAgICAgIGlmIChjdXJ2ZSBpbnN0YW5jZW9mIEJlemllcikgewogICAgICAgICAgY3VydmUgPSBjdXJ2ZS5yZWR1Y2UoKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0aGlzLmN1cnZlaW50ZXJzZWN0cyh0aGlzLnJlZHVjZSgpLCBjdXJ2ZSwgY3VydmVJbnRlcnNlY3Rpb25UaHJlc2hvbGQpOwogICAgICB9LAogICAgICBsaW5lSW50ZXJzZWN0czogZnVuY3Rpb24gbGluZUludGVyc2VjdHMobGluZSkgewogICAgICAgIHZhciBteCA9IG1pbihsaW5lLnAxLngsIGxpbmUucDIueCksCiAgICAgICAgICAgIG15ID0gbWluKGxpbmUucDEueSwgbGluZS5wMi55KSwKICAgICAgICAgICAgTVggPSBtYXgobGluZS5wMS54LCBsaW5lLnAyLngpLAogICAgICAgICAgICBNWSA9IG1heChsaW5lLnAxLnksIGxpbmUucDIueSksCiAgICAgICAgICAgIHNlbGYgPSB0aGlzOwogICAgICAgIHJldHVybiB1dGlscy5yb290cyh0aGlzLnBvaW50cywgbGluZSkuZmlsdGVyKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICB2YXIgcCA9IHNlbGYuZ2V0KHQpOwogICAgICAgICAgcmV0dXJuIHV0aWxzLmJldHdlZW4ocC54LCBteCwgTVgpICYmIHV0aWxzLmJldHdlZW4ocC55LCBteSwgTVkpOwogICAgICAgIH0pOwogICAgICB9LAogICAgICBzZWxmaW50ZXJzZWN0czogZnVuY3Rpb24gc2VsZmludGVyc2VjdHMoY3VydmVJbnRlcnNlY3Rpb25UaHJlc2hvbGQpIHsKICAgICAgICB2YXIgcmVkdWNlZCA9IHRoaXMucmVkdWNlKCk7IC8vICJzaW1wbGUiIGN1cnZlcyBjYW5ub3QgaW50ZXJzZWN0IHdpdGggdGhlaXIgZGlyZWN0CiAgICAgICAgLy8gbmVpZ2hib3VyLCBzbyBmb3IgZWFjaCBzZWdtZW50IFggd2UgY2hlY2sgd2hldGhlcgogICAgICAgIC8vIGl0IGludGVyc2VjdHMgWzA6eC0yXVt4KzI6bGFzdF0uCgogICAgICAgIHZhciBpLAogICAgICAgICAgICBsZW4gPSByZWR1Y2VkLmxlbmd0aCAtIDIsCiAgICAgICAgICAgIHJlc3VsdHMgPSBbXSwKICAgICAgICAgICAgcmVzdWx0LAogICAgICAgICAgICBsZWZ0LAogICAgICAgICAgICByaWdodDsKCiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICBsZWZ0ID0gcmVkdWNlZC5zbGljZShpLCBpICsgMSk7CiAgICAgICAgICByaWdodCA9IHJlZHVjZWQuc2xpY2UoaSArIDIpOwogICAgICAgICAgcmVzdWx0ID0gdGhpcy5jdXJ2ZWludGVyc2VjdHMobGVmdCwgcmlnaHQsIGN1cnZlSW50ZXJzZWN0aW9uVGhyZXNob2xkKTsKICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLmNvbmNhdChyZXN1bHQpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlc3VsdHM7CiAgICAgIH0sCiAgICAgIGN1cnZlaW50ZXJzZWN0czogZnVuY3Rpb24gY3VydmVpbnRlcnNlY3RzKGMxLCBjMiwgY3VydmVJbnRlcnNlY3Rpb25UaHJlc2hvbGQpIHsKICAgICAgICB2YXIgcGFpcnMgPSBbXTsgLy8gc3RlcCAxOiBwYWlyIG9mZiBhbnkgb3ZlcmxhcHBpbmcgc2VnbWVudHMKCiAgICAgICAgYzEuZm9yRWFjaChmdW5jdGlvbiAobCkgewogICAgICAgICAgYzIuZm9yRWFjaChmdW5jdGlvbiAocikgewogICAgICAgICAgICBpZiAobC5vdmVybGFwcyhyKSkgewogICAgICAgICAgICAgIHBhaXJzLnB1c2goewogICAgICAgICAgICAgICAgbGVmdDogbCwKICAgICAgICAgICAgICAgIHJpZ2h0OiByCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0pOyAvLyBzdGVwIDI6IGZvciBlYWNoIHBhaXJpbmcsIHJ1biB0aHJvdWdoIHRoZSBjb252ZXJnZW5jZSBhbGdvcml0aG0uCgogICAgICAgIHZhciBpbnRlcnNlY3Rpb25zID0gW107CiAgICAgICAgcGFpcnMuZm9yRWFjaChmdW5jdGlvbiAocGFpcikgewogICAgICAgICAgdmFyIHJlc3VsdCA9IHV0aWxzLnBhaXJpdGVyYXRpb24ocGFpci5sZWZ0LCBwYWlyLnJpZ2h0LCBjdXJ2ZUludGVyc2VjdGlvblRocmVzaG9sZCk7CgogICAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIGludGVyc2VjdGlvbnMgPSBpbnRlcnNlY3Rpb25zLmNvbmNhdChyZXN1bHQpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBpbnRlcnNlY3Rpb25zOwogICAgICB9LAogICAgICBhcmNzOiBmdW5jdGlvbiBhcmNzKGVycm9yVGhyZXNob2xkKSB7CiAgICAgICAgZXJyb3JUaHJlc2hvbGQgPSBlcnJvclRocmVzaG9sZCB8fCAwLjU7CiAgICAgICAgdmFyIGNpcmNsZXMgPSBbXTsKICAgICAgICByZXR1cm4gdGhpcy5faXRlcmF0ZShlcnJvclRocmVzaG9sZCwgY2lyY2xlcyk7CiAgICAgIH0sCiAgICAgIF9lcnJvcjogZnVuY3Rpb24gX2Vycm9yKHBjLCBucDEsIHMsIGUpIHsKICAgICAgICB2YXIgcSA9IChlIC0gcykgLyA0LAogICAgICAgICAgICBjMSA9IHRoaXMuZ2V0KHMgKyBxKSwKICAgICAgICAgICAgYzIgPSB0aGlzLmdldChlIC0gcSksCiAgICAgICAgICAgIHJlZiA9IHV0aWxzLmRpc3QocGMsIG5wMSksCiAgICAgICAgICAgIGQxID0gdXRpbHMuZGlzdChwYywgYzEpLAogICAgICAgICAgICBkMiA9IHV0aWxzLmRpc3QocGMsIGMyKTsKICAgICAgICByZXR1cm4gYWJzKGQxIC0gcmVmKSArIGFicyhkMiAtIHJlZik7CiAgICAgIH0sCiAgICAgIF9pdGVyYXRlOiBmdW5jdGlvbiBfaXRlcmF0ZShlcnJvclRocmVzaG9sZCwgY2lyY2xlcykgewogICAgICAgIHZhciB0X3MgPSAwLAogICAgICAgICAgICB0X2UgPSAxLAogICAgICAgICAgICBzYWZldHk7IC8vIHdlIGRvIGEgYmluYXJ5IHNlYXJjaCB0byBmaW5kIHRoZSAiZ29vZCBgdGAgY2xvc2VzdCB0byBuby1sb25nZXItZ29vZCIKCiAgICAgICAgZG8gewogICAgICAgICAgc2FmZXR5ID0gMDsgLy8gc3RlcCAxOiBzdGFydCB3aXRoIHRoZSBtYXhpbXVtIHBvc3NpYmxlIGFyYwoKICAgICAgICAgIHRfZSA9IDE7IC8vIHBvaW50czoKCiAgICAgICAgICB2YXIgbnAxID0gdGhpcy5nZXQodF9zKSwKICAgICAgICAgICAgICBucDIsCiAgICAgICAgICAgICAgbnAzLAogICAgICAgICAgICAgIGFyYywKICAgICAgICAgICAgICBwcmV2X2FyYzsgLy8gYm9vbGVhbnM6CgogICAgICAgICAgdmFyIGN1cnJfZ29vZCA9IGZhbHNlLAogICAgICAgICAgICAgIHByZXZfZ29vZCA9IGZhbHNlLAogICAgICAgICAgICAgIGRvbmU7IC8vIG51bWJlcnM6CgogICAgICAgICAgdmFyIHRfbSA9IHRfZSwKICAgICAgICAgICAgICBwcmV2X2UgPSAxOwogLy8gc3RlcCAyOiBmaW5kIHRoZSBiZXN0IHBvc3NpYmxlIGFyYwoKICAgICAgICAgIGRvIHsKICAgICAgICAgICAgcHJldl9nb29kID0gY3Vycl9nb29kOwogICAgICAgICAgICBwcmV2X2FyYyA9IGFyYzsKICAgICAgICAgICAgdF9tID0gKHRfcyArIHRfZSkgLyAyOwogICAgICAgICAgICBucDIgPSB0aGlzLmdldCh0X20pOwogICAgICAgICAgICBucDMgPSB0aGlzLmdldCh0X2UpOwogICAgICAgICAgICBhcmMgPSB1dGlscy5nZXRjY2VudGVyKG5wMSwgbnAyLCBucDMpOyAvL2Fsc28gc2F2ZSB0aGUgdCB2YWx1ZXMKCiAgICAgICAgICAgIGFyYy5pbnRlcnZhbCA9IHsKICAgICAgICAgICAgICBzdGFydDogdF9zLAogICAgICAgICAgICAgIGVuZDogdF9lCiAgICAgICAgICAgIH07CgogICAgICAgICAgICB2YXIgZXJyb3IgPSB0aGlzLl9lcnJvcihhcmMsIG5wMSwgdF9zLCB0X2UpOwoKICAgICAgICAgICAgY3Vycl9nb29kID0gZXJyb3IgPD0gZXJyb3JUaHJlc2hvbGQ7CiAgICAgICAgICAgIGRvbmUgPSBwcmV2X2dvb2QgJiYgIWN1cnJfZ29vZDsKICAgICAgICAgICAgaWYgKCFkb25lKSBwcmV2X2UgPSB0X2U7IC8vIHRoaXMgYXJjIGlzIGZpbmU6IHdlIGNhbiBtb3ZlICdlJyB1cCB0byBzZWUgaWYgd2UgY2FuIGZpbmQgYSB3aWRlciBhcmMKCiAgICAgICAgICAgIGlmIChjdXJyX2dvb2QpIHsKICAgICAgICAgICAgICAvLyBpZiBlIGlzIGFscmVhZHkgYXQgbWF4LCB0aGVuIHdlJ3JlIGRvbmUgZm9yIHRoaXMgYXJjLgogICAgICAgICAgICAgIGlmICh0X2UgPj0gMSkgewogICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHdlIGNhcCBhdCB0PTEKICAgICAgICAgICAgICAgIGFyYy5pbnRlcnZhbC5lbmQgPSBwcmV2X2UgPSAxOwogICAgICAgICAgICAgICAgcHJldl9hcmMgPSBhcmM7IC8vIGlmIHdlIGNhcHBlZCB0aGUgYXJjIHNlZ21lbnQgdG8gdD0xIHdlIGFsc28gbmVlZCB0byBtYWtlIHN1cmUgdGhhdAogICAgICAgICAgICAgICAgLy8gdGhlIGFyYydzIGVuZCBhbmdsZSBpcyBjb3JyZWN0IHdpdGggcmVzcGVjdCB0byB0aGUgYmV6aWVyIGVuZCBwb2ludC4KCiAgICAgICAgICAgICAgICBpZiAodF9lID4gMSkgewogICAgICAgICAgICAgICAgICB2YXIgZCA9IHsKICAgICAgICAgICAgICAgICAgICB4OiBhcmMueCArIGFyYy5yICogY29zKGFyYy5lKSwKICAgICAgICAgICAgICAgICAgICB5OiBhcmMueSArIGFyYy5yICogc2luKGFyYy5lKQogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICBhcmMuZSArPSB1dGlscy5hbmdsZSh7CiAgICAgICAgICAgICAgICAgICAgeDogYXJjLngsCiAgICAgICAgICAgICAgICAgICAgeTogYXJjLnkKICAgICAgICAgICAgICAgICAgfSwgZCwgdGhpcy5nZXQoMSkpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0gLy8gaWYgbm90LCBtb3ZlIGl0IHVwIGJ5IGhhbGYgdGhlIGl0ZXJhdGlvbiBkaXN0YW5jZQoKCiAgICAgICAgICAgICAgdF9lID0gdF9lICsgKHRfZSAtIHRfcykgLyAyOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vIHRoaXMgaXMgYSBiYWQgYXJjOiB3ZSBuZWVkIHRvIG1vdmUgJ2UnIGRvd24gdG8gZmluZCBhIGdvb2QgYXJjCiAgICAgICAgICAgICAgdF9lID0gdF9tOwogICAgICAgICAgICB9CiAgICAgICAgICB9IHdoaWxlICghZG9uZSAmJiBzYWZldHkrKyA8IDEwMCk7CgogICAgICAgICAgaWYgKHNhZmV0eSA+PSAxMDApIHsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9IC8vIGNvbnNvbGUubG9nKCJMODM1OiBbRl0gYXJjIGZvdW5kIiwgdF9zLCBwcmV2X2UsIHByZXZfYXJjLngsIHByZXZfYXJjLnksIHByZXZfYXJjLnMsIHByZXZfYXJjLmUpOwoKCiAgICAgICAgICBwcmV2X2FyYyA9IHByZXZfYXJjID8gcHJldl9hcmMgOiBhcmM7CiAgICAgICAgICBjaXJjbGVzLnB1c2gocHJldl9hcmMpOwogICAgICAgICAgdF9zID0gcHJldl9lOwogICAgICAgIH0gd2hpbGUgKHRfZSA8IDEpOwoKICAgICAgICByZXR1cm4gY2lyY2xlczsKICAgICAgfQogICAgfTsKICAgIG1vZHVsZS5leHBvcnRzID0gQmV6aWVyOwogIH0pKCk7CiAgLyoqKi8KCn0sCi8qIDIgKi8KCi8qKiovCmZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiAgKGZ1bmN0aW9uICgpIHsKCiAgICB2YXIgYWJzID0gTWF0aC5hYnMsCiAgICAgICAgY29zID0gTWF0aC5jb3MsCiAgICAgICAgc2luID0gTWF0aC5zaW4sCiAgICAgICAgYWNvcyA9IE1hdGguYWNvcywKICAgICAgICBhdGFuMiA9IE1hdGguYXRhbjIsCiAgICAgICAgc3FydCA9IE1hdGguc3FydCwKICAgICAgICBwb3cgPSBNYXRoLnBvdywKICAgICAgICAvLyBjdWJlIHJvb3QgZnVuY3Rpb24geWllbGRpbmcgcmVhbCByb290cwogICAgY3J0ID0gZnVuY3Rpb24gY3J0KHYpIHsKICAgICAgcmV0dXJuIHYgPCAwID8gLXBvdygtdiwgMSAvIDMpIDogcG93KHYsIDEgLyAzKTsKICAgIH0sCiAgICAgICAgLy8gdHJpZyBjb25zdGFudHMKICAgIHBpID0gTWF0aC5QSSwKICAgICAgICB0YXUgPSAyICogcGksCiAgICAgICAgcXVhcnQgPSBwaSAvIDIsCiAgICAgICAgLy8gZmxvYXQgcHJlY2lzaW9uIHNpZ25pZmljYW50IGRlY2ltYWwKICAgIGVwc2lsb24gPSAwLjAwMDAwMSwKICAgICAgICAvLyBleHRyZW1hcyB1c2VkIGluIGJib3ggY2FsY3VsYXRpb24gYW5kIHNpbWlsYXIgYWxnb3JpdGhtcwogICAgbk1heCA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIHx8IDkwMDcxOTkyNTQ3NDA5OTEsCiAgICAgICAgbk1pbiA9IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSIHx8IC05MDA3MTk5MjU0NzQwOTkxLAogICAgICAgIC8vIGEgemVybyBjb29yZGluYXRlLCB3aGljaCBpcyBzdXJwcmlzaW5nbHkgdXNlZnVsCiAgICBaRVJPID0gewogICAgICB4OiAwLAogICAgICB5OiAwLAogICAgICB6OiAwCiAgICB9OyAvLyBCZXppZXIgdXRpbGl0eSBmdW5jdGlvbnMKCgogICAgdmFyIHV0aWxzID0gewogICAgICAvLyBMZWdlbmRyZS1HYXVzcyBhYnNjaXNzYWUgd2l0aCBuPTI0ICh4X2kgdmFsdWVzLCBkZWZpbmVkIGF0IGk9biBhcyB0aGUgcm9vdHMgb2YgdGhlIG50aCBvcmRlciBMZWdlbmRyZSBwb2x5bm9taWFsIFBuKHgpKQogICAgICBUdmFsdWVzOiBbLTAuMDY0MDU2ODkyODYyNjA1NjI2MDg1MDQzMDgyNjI0NzQ1MDM4NTkwOSwgMC4wNjQwNTY4OTI4NjI2MDU2MjYwODUwNDMwODI2MjQ3NDUwMzg1OTA5LCAtMC4xOTExMTg4Njc0NzM2MTYzMDkxNTg2Mzk4MjA3NTcwNjk2MzE4NDA0LCAwLjE5MTExODg2NzQ3MzYxNjMwOTE1ODYzOTgyMDc1NzA2OTYzMTg0MDQsIC0wLjMxNTA0MjY3OTY5NjE2MzM3NDM4Njc5MzI5MTMxOTgxMDI0MDc4NjQsIDAuMzE1MDQyNjc5Njk2MTYzMzc0Mzg2NzkzMjkxMzE5ODEwMjQwNzg2NCwgLTAuNDMzNzkzNTA3NjI2MDQ1MTM4NDg3MDg0MjMxOTEzMzQ5NzEyNDUyNCwgMC40MzM3OTM1MDc2MjYwNDUxMzg0ODcwODQyMzE5MTMzNDk3MTI0NTI0LCAtMC41NDU0MjE0NzEzODg4Mzk1MzU2NTgzNzU2MTcyMTgzNzIzNzAwMTA3LCAwLjU0NTQyMTQ3MTM4ODgzOTUzNTY1ODM3NTYxNzIxODM3MjM3MDAxMDcsIC0wLjY0ODA5MzY1MTkzNjk3NTU2OTI1MjQ5NTc4NjkxMDc0NzYyNjY2OTYsIDAuNjQ4MDkzNjUxOTM2OTc1NTY5MjUyNDk1Nzg2OTEwNzQ3NjI2NjY5NiwgLTAuNzQwMTI0MTkxNTc4NTU0MzY0MjQzODI4MTAzMDk5OTc4NDI1NTIzMiwgMC43NDAxMjQxOTE1Nzg1NTQzNjQyNDM4MjgxMDMwOTk5Nzg0MjU1MjMyLCAtMC44MjAwMDE5ODU5NzM5MDI5MjE5NTM5NDk4NzI2Njk3NDUyMDgwNzYxLCAwLjgyMDAwMTk4NTk3MzkwMjkyMTk1Mzk0OTg3MjY2OTc0NTIwODA3NjEsIC0wLjg4NjQxNTUyNzAwNDQwMTAzNDIxMzE1NDM0MTk4MjE5Njc1NTA4NzMsIDAuODg2NDE1NTI3MDA0NDAxMDM0MjEzMTU0MzQxOTgyMTk2NzU1MDg3MywgLTAuOTM4Mjc0NTUyMDAyNzMyNzU4NTIzNjQ5MDAxNzA4NzIxNDQ5NjU0OCwgMC45MzgyNzQ1NTIwMDI3MzI3NTg1MjM2NDkwMDE3MDg3MjE0NDk2NTQ4LCAtMC45NzQ3Mjg1NTU5NzEzMDk0OTgxOTgzOTE5OTMwMDgxNjkwNjE3NDExLCAwLjk3NDcyODU1NTk3MTMwOTQ5ODE5ODM5MTk5MzAwODE2OTA2MTc0MTEsIC0wLjk5NTE4NzIxOTk5NzAyMTM2MDE3OTk5NzQwOTcwMDczNjgxMTg3NDUsIDAuOTk1MTg3MjE5OTk3MDIxMzYwMTc5OTk3NDA5NzAwNzM2ODExODc0NV0sCiAgICAgIC8vIExlZ2VuZHJlLUdhdXNzIHdlaWdodHMgd2l0aCBuPTI0ICh3X2kgdmFsdWVzLCBkZWZpbmVkIGJ5IGEgZnVuY3Rpb24gbGlua2VkIHRvIGluIHRoZSBCZXppZXIgcHJpbWVyIGFydGljbGUpCiAgICAgIEN2YWx1ZXM6IFswLjEyNzkzODE5NTM0Njc1MjE1Njk3NDA1NjE2NTIyNDY5NTM3MTg1MTcsIDAuMTI3OTM4MTk1MzQ2NzUyMTU2OTc0MDU2MTY1MjI0Njk1MzcxODUxNywgMC4xMjU4Mzc0NTYzNDY4MjgyOTYxMjEzNzUzODI1MTExODM2ODg3MjY0LCAwLjEyNTgzNzQ1NjM0NjgyODI5NjEyMTM3NTM4MjUxMTE4MzY4ODcyNjQsIDAuMTIxNjcwNDcyOTI3ODAzMzkxMjA0NDYzMTUzNDc2MjYyNDI1NjA3LCAwLjEyMTY3MDQ3MjkyNzgwMzM5MTIwNDQ2MzE1MzQ3NjI2MjQyNTYwNywgMC4xMTU1MDU2NjgwNTM3MjU2MDEzNTMzNDQ0ODM5MDY3ODM1NTk4NjIyLCAwLjExNTUwNTY2ODA1MzcyNTYwMTM1MzM0NDQ4MzkwNjc4MzU1OTg2MjIsIDAuMTA3NDQ0MjcwMTE1OTY1NjM0NzgyNTc3MzQyNDQ2NjA2MjIyNzk0NiwgMC4xMDc0NDQyNzAxMTU5NjU2MzQ3ODI1NzczNDI0NDY2MDYyMjI3OTQ2LCAwLjA5NzYxODY1MjEwNDExMzg4ODI2OTg4MDY2NDQ2NDI0NzE1NDQyNzksIDAuMDk3NjE4NjUyMTA0MTEzODg4MjY5ODgwNjY0NDY0MjQ3MTU0NDI3OSwgMC4wODYxOTAxNjE1MzE5NTMyNzU5MTcxODUyMDI5ODM3NDI2NjcxODUsIDAuMDg2MTkwMTYxNTMxOTUzMjc1OTE3MTg1MjAyOTgzNzQyNjY3MTg1LCAwLjA3MzM0NjQ4MTQxMTA4MDMwNTczNDAzMzYxNTI1MzExNjUxODExOTMsIDAuMDczMzQ2NDgxNDExMDgwMzA1NzM0MDMzNjE1MjUzMTE2NTE4MTE5MywgMC4wNTkyOTg1ODQ5MTU0MzY3ODA3NDYzNjc3NTg1MDAxMDg1ODQ1NDEyLCAwLjA1OTI5ODU4NDkxNTQzNjc4MDc0NjM2Nzc1ODUwMDEwODU4NDU0MTIsIDAuMDQ0Mjc3NDM4ODE3NDE5ODA2MTY4NjAyNzQ4MjExMzM4MjI4ODU5MywgMC4wNDQyNzc0Mzg4MTc0MTk4MDYxNjg2MDI3NDgyMTEzMzgyMjg4NTkzLCAwLjAyODUzMTM4ODYyODkzMzY2MzE4MTMwNzgxNTk1MTg3ODI4NjQ0OTEsIDAuMDI4NTMxMzg4NjI4OTMzNjYzMTgxMzA3ODE1OTUxODc4Mjg2NDQ5MSwgMC4wMTIzNDEyMjk3OTk5ODcxOTk1NDY4MDU2NjcwNzAwMzcyOTE1NzU5LCAwLjAxMjM0MTIyOTc5OTk4NzE5OTU0NjgwNTY2NzA3MDAzNzI5MTU3NTldLAogICAgICBhcmNmbjogZnVuY3Rpb24gYXJjZm4odCwgZGVyaXZhdGl2ZUZuKSB7CiAgICAgICAgdmFyIGQgPSBkZXJpdmF0aXZlRm4odCk7CiAgICAgICAgdmFyIGwgPSBkLnggKiBkLnggKyBkLnkgKiBkLnk7CgogICAgICAgIGlmICh0eXBlb2YgZC56ICE9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgbCArPSBkLnogKiBkLno7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gc3FydChsKTsKICAgICAgfSwKICAgICAgY29tcHV0ZTogZnVuY3Rpb24gY29tcHV0ZSh0LCBwb2ludHMsIF8zZCkgewogICAgICAgIC8vIHNob3J0Y3V0cwogICAgICAgIGlmICh0ID09PSAwKSB7CiAgICAgICAgICByZXR1cm4gcG9pbnRzWzBdOwogICAgICAgIH0KCiAgICAgICAgdmFyIG9yZGVyID0gcG9pbnRzLmxlbmd0aCAtIDE7CgogICAgICAgIGlmICh0ID09PSAxKSB7CiAgICAgICAgICByZXR1cm4gcG9pbnRzW29yZGVyXTsKICAgICAgICB9CgogICAgICAgIHZhciBwID0gcG9pbnRzOwogICAgICAgIHZhciBtdCA9IDEgLSB0OyAvLyBjb25zdGFudD8KCiAgICAgICAgaWYgKG9yZGVyID09PSAwKSB7CiAgICAgICAgICByZXR1cm4gcG9pbnRzWzBdOwogICAgICAgIH0gLy8gbGluZWFyPwoKCiAgICAgICAgaWYgKG9yZGVyID09PSAxKSB7CiAgICAgICAgICByZXQgPSB7CiAgICAgICAgICAgIHg6IG10ICogcFswXS54ICsgdCAqIHBbMV0ueCwKICAgICAgICAgICAgeTogbXQgKiBwWzBdLnkgKyB0ICogcFsxXS55CiAgICAgICAgICB9OwoKICAgICAgICAgIGlmIChfM2QpIHsKICAgICAgICAgICAgcmV0LnogPSBtdCAqIHBbMF0ueiArIHQgKiBwWzFdLno7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHJldDsKICAgICAgICB9IC8vIHF1YWRyYXRpYy9jdWJpYyBjdXJ2ZT8KCgogICAgICAgIGlmIChvcmRlciA8IDQpIHsKICAgICAgICAgIHZhciBtdDIgPSBtdCAqIG10LAogICAgICAgICAgICAgIHQyID0gdCAqIHQsCiAgICAgICAgICAgICAgYSwKICAgICAgICAgICAgICBiLAogICAgICAgICAgICAgIGMsCiAgICAgICAgICAgICAgZCA9IDA7CgogICAgICAgICAgaWYgKG9yZGVyID09PSAyKSB7CiAgICAgICAgICAgIHAgPSBbcFswXSwgcFsxXSwgcFsyXSwgWkVST107CiAgICAgICAgICAgIGEgPSBtdDI7CiAgICAgICAgICAgIGIgPSBtdCAqIHQgKiAyOwogICAgICAgICAgICBjID0gdDI7CiAgICAgICAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAzKSB7CiAgICAgICAgICAgIGEgPSBtdDIgKiBtdDsKICAgICAgICAgICAgYiA9IG10MiAqIHQgKiAzOwogICAgICAgICAgICBjID0gbXQgKiB0MiAqIDM7CiAgICAgICAgICAgIGQgPSB0ICogdDI7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIHJldCA9IHsKICAgICAgICAgICAgeDogYSAqIHBbMF0ueCArIGIgKiBwWzFdLnggKyBjICogcFsyXS54ICsgZCAqIHBbM10ueCwKICAgICAgICAgICAgeTogYSAqIHBbMF0ueSArIGIgKiBwWzFdLnkgKyBjICogcFsyXS55ICsgZCAqIHBbM10ueQogICAgICAgICAgfTsKCiAgICAgICAgICBpZiAoXzNkKSB7CiAgICAgICAgICAgIHJldC56ID0gYSAqIHBbMF0ueiArIGIgKiBwWzFdLnogKyBjICogcFsyXS56ICsgZCAqIHBbM10uejsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gcmV0OwogICAgICAgIH0gLy8gaGlnaGVyIG9yZGVyIGN1cnZlczogdXNlIGRlIENhc3RlbGphdSdzIGNvbXB1dGF0aW9uCgoKICAgICAgICB2YXIgZENwdHMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHBvaW50cykpOwoKICAgICAgICB3aGlsZSAoZENwdHMubGVuZ3RoID4gMSkgewogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkQ3B0cy5sZW5ndGggLSAxOyBpKyspIHsKICAgICAgICAgICAgZENwdHNbaV0gPSB7CiAgICAgICAgICAgICAgeDogZENwdHNbaV0ueCArIChkQ3B0c1tpICsgMV0ueCAtIGRDcHRzW2ldLngpICogdCwKICAgICAgICAgICAgICB5OiBkQ3B0c1tpXS55ICsgKGRDcHRzW2kgKyAxXS55IC0gZENwdHNbaV0ueSkgKiB0CiAgICAgICAgICAgIH07CgogICAgICAgICAgICBpZiAodHlwZW9mIGRDcHRzW2ldLnogIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgZENwdHNbaV0gPSBkQ3B0c1tpXS56ICsgKGRDcHRzW2kgKyAxXS56IC0gZENwdHNbaV0ueikgKiB0OwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgZENwdHMuc3BsaWNlKGRDcHRzLmxlbmd0aCAtIDEsIDEpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGRDcHRzWzBdOwogICAgICB9LAogICAgICBjb21wdXRlV2l0aFJhdGlvczogZnVuY3Rpb24gY29tcHV0ZVdpdGhSYXRpb3ModCwgcG9pbnRzLCByYXRpb3MsIF8zZCkgewogICAgICAgIHZhciBtdCA9IDEgLSB0LAogICAgICAgICAgICByID0gcmF0aW9zLAogICAgICAgICAgICBwID0gcG9pbnRzLAogICAgICAgICAgICBkOwogICAgICAgIHZhciBmMSA9IHJbMF0sCiAgICAgICAgICAgIGYyID0gclsxXSwKICAgICAgICAgICAgZjMgPSByWzJdLAogICAgICAgICAgICBmNCA9IHJbM107IC8vIHNwZWMgZm9yIGxpbmVhcgoKICAgICAgICBmMSAqPSBtdDsKICAgICAgICBmMiAqPSB0OwoKICAgICAgICBpZiAocC5sZW5ndGggPT09IDIpIHsKICAgICAgICAgIGQgPSBmMSArIGYyOwogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgeDogKGYxICogcFswXS54ICsgZjIgKiBwWzFdLngpIC8gZCwKICAgICAgICAgICAgeTogKGYxICogcFswXS55ICsgZjIgKiBwWzFdLnkpIC8gZCwKICAgICAgICAgICAgejogIV8zZCA/IGZhbHNlIDogKGYxICogcFswXS56ICsgZjIgKiBwWzFdLnopIC8gZAogICAgICAgICAgfTsKICAgICAgICB9IC8vIHVwZ3JhZGUgdG8gcXVhZHJhdGljCgoKICAgICAgICBmMSAqPSBtdDsKICAgICAgICBmMiAqPSAyICogbXQ7CiAgICAgICAgZjMgKj0gdCAqIHQ7CgogICAgICAgIGlmIChwLmxlbmd0aCA9PT0gMykgewogICAgICAgICAgZCA9IGYxICsgZjIgKyBmMzsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHg6IChmMSAqIHBbMF0ueCArIGYyICogcFsxXS54ICsgZjMgKiBwWzJdLngpIC8gZCwKICAgICAgICAgICAgeTogKGYxICogcFswXS55ICsgZjIgKiBwWzFdLnkgKyBmMyAqIHBbMl0ueSkgLyBkLAogICAgICAgICAgICB6OiAhXzNkID8gZmFsc2UgOiAoZjEgKiBwWzBdLnogKyBmMiAqIHBbMV0ueiArIGYzICogcFsyXS56KSAvIGQKICAgICAgICAgIH07CiAgICAgICAgfSAvLyB1cGdyYWRlIHRvIGN1YmljCgoKICAgICAgICBmMSAqPSBtdDsKICAgICAgICBmMiAqPSAxLjUgKiBtdDsKICAgICAgICBmMyAqPSAzICogbXQ7CiAgICAgICAgZjQgKj0gdCAqIHQgKiB0OwoKICAgICAgICBpZiAocC5sZW5ndGggPT09IDQpIHsKICAgICAgICAgIGQgPSBmMSArIGYyICsgZjMgKyBmNDsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHg6IChmMSAqIHBbMF0ueCArIGYyICogcFsxXS54ICsgZjMgKiBwWzJdLnggKyBmNCAqIHBbM10ueCkgLyBkLAogICAgICAgICAgICB5OiAoZjEgKiBwWzBdLnkgKyBmMiAqIHBbMV0ueSArIGYzICogcFsyXS55ICsgZjQgKiBwWzNdLnkpIC8gZCwKICAgICAgICAgICAgejogIV8zZCA/IGZhbHNlIDogKGYxICogcFswXS56ICsgZjIgKiBwWzFdLnogKyBmMyAqIHBbMl0ueiArIGY0ICogcFszXS56KSAvIGQKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9LAogICAgICBkZXJpdmU6IGZ1bmN0aW9uIGRlcml2ZShwb2ludHMsIF8zZCkgewogICAgICAgIHZhciBkcG9pbnRzID0gW107CgogICAgICAgIGZvciAodmFyIHAgPSBwb2ludHMsIGQgPSBwLmxlbmd0aCwgYyA9IGQgLSAxOyBkID4gMTsgZC0tLCBjLS0pIHsKICAgICAgICAgIHZhciBsaXN0ID0gW107CgogICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGRwdDsgaiA8IGM7IGorKykgewogICAgICAgICAgICBkcHQgPSB7CiAgICAgICAgICAgICAgeDogYyAqIChwW2ogKyAxXS54IC0gcFtqXS54KSwKICAgICAgICAgICAgICB5OiBjICogKHBbaiArIDFdLnkgLSBwW2pdLnkpCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBpZiAoXzNkKSB7CiAgICAgICAgICAgICAgZHB0LnogPSBjICogKHBbaiArIDFdLnogLSBwW2pdLnopOwogICAgICAgICAgICB9CgogICAgICAgICAgICBsaXN0LnB1c2goZHB0KTsKICAgICAgICAgIH0KCiAgICAgICAgICBkcG9pbnRzLnB1c2gobGlzdCk7CiAgICAgICAgICBwID0gbGlzdDsKICAgICAgICB9CgogICAgICAgIHJldHVybiBkcG9pbnRzOwogICAgICB9LAogICAgICBiZXR3ZWVuOiBmdW5jdGlvbiBiZXR3ZWVuKHYsIG0sIE0pIHsKICAgICAgICByZXR1cm4gbSA8PSB2ICYmIHYgPD0gTSB8fCB1dGlscy5hcHByb3hpbWF0ZWx5KHYsIG0pIHx8IHV0aWxzLmFwcHJveGltYXRlbHkodiwgTSk7CiAgICAgIH0sCiAgICAgIGFwcHJveGltYXRlbHk6IGZ1bmN0aW9uIGFwcHJveGltYXRlbHkoYSwgYiwgcHJlY2lzaW9uKSB7CiAgICAgICAgcmV0dXJuIGFicyhhIC0gYikgPD0gKHByZWNpc2lvbiB8fCBlcHNpbG9uKTsKICAgICAgfSwKICAgICAgbGVuZ3RoOiBmdW5jdGlvbiBsZW5ndGgoZGVyaXZhdGl2ZUZuKSB7CiAgICAgICAgdmFyIHogPSAwLjUsCiAgICAgICAgICAgIHN1bSA9IDAsCiAgICAgICAgICAgIGxlbiA9IHV0aWxzLlR2YWx1ZXMubGVuZ3RoLAogICAgICAgICAgICBpLAogICAgICAgICAgICB0OwoKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICAgIHQgPSB6ICogdXRpbHMuVHZhbHVlc1tpXSArIHo7CiAgICAgICAgICBzdW0gKz0gdXRpbHMuQ3ZhbHVlc1tpXSAqIHV0aWxzLmFyY2ZuKHQsIGRlcml2YXRpdmVGbik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4geiAqIHN1bTsKICAgICAgfSwKICAgICAgbWFwOiBmdW5jdGlvbiBtYXAodiwgZHMsIGRlLCB0cywgdGUpIHsKICAgICAgICB2YXIgZDEgPSBkZSAtIGRzLAogICAgICAgICAgICBkMiA9IHRlIC0gdHMsCiAgICAgICAgICAgIHYyID0gdiAtIGRzLAogICAgICAgICAgICByID0gdjIgLyBkMTsKICAgICAgICByZXR1cm4gdHMgKyBkMiAqIHI7CiAgICAgIH0sCiAgICAgIGxlcnA6IGZ1bmN0aW9uIGxlcnAociwgdjEsIHYyKSB7CiAgICAgICAgdmFyIHJldCA9IHsKICAgICAgICAgIHg6IHYxLnggKyByICogKHYyLnggLSB2MS54KSwKICAgICAgICAgIHk6IHYxLnkgKyByICogKHYyLnkgLSB2MS55KQogICAgICAgIH07CgogICAgICAgIGlmICghIXYxLnogJiYgISF2Mi56KSB7CiAgICAgICAgICByZXQueiA9IHYxLnogKyByICogKHYyLnogLSB2MS56KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiByZXQ7CiAgICAgIH0sCiAgICAgIHBvaW50VG9TdHJpbmc6IGZ1bmN0aW9uIHBvaW50VG9TdHJpbmcocCkgewogICAgICAgIHZhciBzID0gcC54ICsgIi8iICsgcC55OwoKICAgICAgICBpZiAodHlwZW9mIHAueiAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgIHMgKz0gIi8iICsgcC56OwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHM7CiAgICAgIH0sCiAgICAgIHBvaW50c1RvU3RyaW5nOiBmdW5jdGlvbiBwb2ludHNUb1N0cmluZyhwb2ludHMpIHsKICAgICAgICByZXR1cm4gIlsiICsgcG9pbnRzLm1hcCh1dGlscy5wb2ludFRvU3RyaW5nKS5qb2luKCIsICIpICsgIl0iOwogICAgICB9LAogICAgICBjb3B5OiBmdW5jdGlvbiBjb3B5KG9iaikgewogICAgICAgIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpOwogICAgICB9LAogICAgICBhbmdsZTogZnVuY3Rpb24gYW5nbGUobywgdjEsIHYyKSB7CiAgICAgICAgdmFyIGR4MSA9IHYxLnggLSBvLngsCiAgICAgICAgICAgIGR5MSA9IHYxLnkgLSBvLnksCiAgICAgICAgICAgIGR4MiA9IHYyLnggLSBvLngsCiAgICAgICAgICAgIGR5MiA9IHYyLnkgLSBvLnksCiAgICAgICAgICAgIGNyb3NzID0gZHgxICogZHkyIC0gZHkxICogZHgyLAogICAgICAgICAgICBkb3QgPSBkeDEgKiBkeDIgKyBkeTEgKiBkeTI7CiAgICAgICAgcmV0dXJuIGF0YW4yKGNyb3NzLCBkb3QpOwogICAgICB9LAogICAgICAvLyByb3VuZCBhcyBzdHJpbmcsIHRvIGF2b2lkIHJvdW5kaW5nIGVycm9ycwogICAgICByb3VuZDogZnVuY3Rpb24gcm91bmQodiwgZCkgewogICAgICAgIHZhciBzID0gIiIgKyB2OwogICAgICAgIHZhciBwb3MgPSBzLmluZGV4T2YoIi4iKTsKICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChzLnN1YnN0cmluZygwLCBwb3MgKyAxICsgZCkpOwogICAgICB9LAogICAgICBkaXN0OiBmdW5jdGlvbiBkaXN0KHAxLCBwMikgewogICAgICAgIHZhciBkeCA9IHAxLnggLSBwMi54LAogICAgICAgICAgICBkeSA9IHAxLnkgLSBwMi55OwogICAgICAgIHJldHVybiBzcXJ0KGR4ICogZHggKyBkeSAqIGR5KTsKICAgICAgfSwKICAgICAgY2xvc2VzdDogZnVuY3Rpb24gY2xvc2VzdChMVVQsIHBvaW50KSB7CiAgICAgICAgdmFyIG1kaXN0ID0gcG93KDIsIDYzKSwKICAgICAgICAgICAgbXBvcywKICAgICAgICAgICAgZDsKICAgICAgICBMVVQuZm9yRWFjaChmdW5jdGlvbiAocCwgaWR4KSB7CiAgICAgICAgICBkID0gdXRpbHMuZGlzdChwb2ludCwgcCk7CgogICAgICAgICAgaWYgKGQgPCBtZGlzdCkgewogICAgICAgICAgICBtZGlzdCA9IGQ7CiAgICAgICAgICAgIG1wb3MgPSBpZHg7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIG1kaXN0OiBtZGlzdCwKICAgICAgICAgIG1wb3M6IG1wb3MKICAgICAgICB9OwogICAgICB9LAogICAgICBhYmNyYXRpbzogZnVuY3Rpb24gYWJjcmF0aW8odCwgbikgewogICAgICAgIC8vIHNlZSByYXRpbyh0KSBub3RlIG9uIGh0dHA6Ly9wb21heC5naXRodWIuaW8vYmV6aWVyaW5mby8jYWJjCiAgICAgICAgaWYgKG4gIT09IDIgJiYgbiAhPT0gMykgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgaWYgKHR5cGVvZiB0ID09PSAidW5kZWZpbmVkIikgewogICAgICAgICAgdCA9IDAuNTsKICAgICAgICB9IGVsc2UgaWYgKHQgPT09IDAgfHwgdCA9PT0gMSkgewogICAgICAgICAgcmV0dXJuIHQ7CiAgICAgICAgfQoKICAgICAgICB2YXIgYm90dG9tID0gcG93KHQsIG4pICsgcG93KDEgLSB0LCBuKSwKICAgICAgICAgICAgdG9wID0gYm90dG9tIC0gMTsKICAgICAgICByZXR1cm4gYWJzKHRvcCAvIGJvdHRvbSk7CiAgICAgIH0sCiAgICAgIHByb2plY3Rpb25yYXRpbzogZnVuY3Rpb24gcHJvamVjdGlvbnJhdGlvKHQsIG4pIHsKICAgICAgICAvLyBzZWUgdSh0KSBub3RlIG9uIGh0dHA6Ly9wb21heC5naXRodWIuaW8vYmV6aWVyaW5mby8jYWJjCiAgICAgICAgaWYgKG4gIT09IDIgJiYgbiAhPT0gMykgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgaWYgKHR5cGVvZiB0ID09PSAidW5kZWZpbmVkIikgewogICAgICAgICAgdCA9IDAuNTsKICAgICAgICB9IGVsc2UgaWYgKHQgPT09IDAgfHwgdCA9PT0gMSkgewogICAgICAgICAgcmV0dXJuIHQ7CiAgICAgICAgfQoKICAgICAgICB2YXIgdG9wID0gcG93KDEgLSB0LCBuKSwKICAgICAgICAgICAgYm90dG9tID0gcG93KHQsIG4pICsgdG9wOwogICAgICAgIHJldHVybiB0b3AgLyBib3R0b207CiAgICAgIH0sCiAgICAgIGxsaTg6IGZ1bmN0aW9uIGxsaTgoeDEsIHkxLCB4MiwgeTIsIHgzLCB5MywgeDQsIHk0KSB7CiAgICAgICAgdmFyIG54ID0gKHgxICogeTIgLSB5MSAqIHgyKSAqICh4MyAtIHg0KSAtICh4MSAtIHgyKSAqICh4MyAqIHk0IC0geTMgKiB4NCksCiAgICAgICAgICAgIG55ID0gKHgxICogeTIgLSB5MSAqIHgyKSAqICh5MyAtIHk0KSAtICh5MSAtIHkyKSAqICh4MyAqIHk0IC0geTMgKiB4NCksCiAgICAgICAgICAgIGQgPSAoeDEgLSB4MikgKiAoeTMgLSB5NCkgLSAoeTEgLSB5MikgKiAoeDMgLSB4NCk7CgogICAgICAgIGlmIChkID09IDApIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICB4OiBueCAvIGQsCiAgICAgICAgICB5OiBueSAvIGQKICAgICAgICB9OwogICAgICB9LAogICAgICBsbGk0OiBmdW5jdGlvbiBsbGk0KHAxLCBwMiwgcDMsIHA0KSB7CiAgICAgICAgdmFyIHgxID0gcDEueCwKICAgICAgICAgICAgeTEgPSBwMS55LAogICAgICAgICAgICB4MiA9IHAyLngsCiAgICAgICAgICAgIHkyID0gcDIueSwKICAgICAgICAgICAgeDMgPSBwMy54LAogICAgICAgICAgICB5MyA9IHAzLnksCiAgICAgICAgICAgIHg0ID0gcDQueCwKICAgICAgICAgICAgeTQgPSBwNC55OwogICAgICAgIHJldHVybiB1dGlscy5sbGk4KHgxLCB5MSwgeDIsIHkyLCB4MywgeTMsIHg0LCB5NCk7CiAgICAgIH0sCiAgICAgIGxsaTogZnVuY3Rpb24gbGxpKHYxLCB2MikgewogICAgICAgIHJldHVybiB1dGlscy5sbGk0KHYxLCB2MS5jLCB2MiwgdjIuYyk7CiAgICAgIH0sCiAgICAgIG1ha2VsaW5lOiBmdW5jdGlvbiBtYWtlbGluZShwMSwgcDIpIHsKICAgICAgICB2YXIgQmV6aWVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKCiAgICAgICAgdmFyIHgxID0gcDEueCwKICAgICAgICAgICAgeTEgPSBwMS55LAogICAgICAgICAgICB4MiA9IHAyLngsCiAgICAgICAgICAgIHkyID0gcDIueSwKICAgICAgICAgICAgZHggPSAoeDIgLSB4MSkgLyAzLAogICAgICAgICAgICBkeSA9ICh5MiAtIHkxKSAvIDM7CiAgICAgICAgcmV0dXJuIG5ldyBCZXppZXIoeDEsIHkxLCB4MSArIGR4LCB5MSArIGR5LCB4MSArIDIgKiBkeCwgeTEgKyAyICogZHksIHgyLCB5Mik7CiAgICAgIH0sCiAgICAgIGZpbmRiYm94OiBmdW5jdGlvbiBmaW5kYmJveChzZWN0aW9ucykgewogICAgICAgIHZhciBteCA9IG5NYXgsCiAgICAgICAgICAgIG15ID0gbk1heCwKICAgICAgICAgICAgTVggPSBuTWluLAogICAgICAgICAgICBNWSA9IG5NaW47CiAgICAgICAgc2VjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAocykgewogICAgICAgICAgdmFyIGJib3ggPSBzLmJib3goKTsKICAgICAgICAgIGlmIChteCA+IGJib3gueC5taW4pIG14ID0gYmJveC54Lm1pbjsKICAgICAgICAgIGlmIChteSA+IGJib3gueS5taW4pIG15ID0gYmJveC55Lm1pbjsKICAgICAgICAgIGlmIChNWCA8IGJib3gueC5tYXgpIE1YID0gYmJveC54Lm1heDsKICAgICAgICAgIGlmIChNWSA8IGJib3gueS5tYXgpIE1ZID0gYmJveC55Lm1heDsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgeDogewogICAgICAgICAgICBtaW46IG14LAogICAgICAgICAgICBtaWQ6IChteCArIE1YKSAvIDIsCiAgICAgICAgICAgIG1heDogTVgsCiAgICAgICAgICAgIHNpemU6IE1YIC0gbXgKICAgICAgICAgIH0sCiAgICAgICAgICB5OiB7CiAgICAgICAgICAgIG1pbjogbXksCiAgICAgICAgICAgIG1pZDogKG15ICsgTVkpIC8gMiwKICAgICAgICAgICAgbWF4OiBNWSwKICAgICAgICAgICAgc2l6ZTogTVkgLSBteQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0sCiAgICAgIHNoYXBlaW50ZXJzZWN0aW9uczogZnVuY3Rpb24gc2hhcGVpbnRlcnNlY3Rpb25zKHMxLCBiYm94MSwgczIsIGJib3gyLCBjdXJ2ZUludGVyc2VjdGlvblRocmVzaG9sZCkgewogICAgICAgIGlmICghdXRpbHMuYmJveG92ZXJsYXAoYmJveDEsIGJib3gyKSkgcmV0dXJuIFtdOwogICAgICAgIHZhciBpbnRlcnNlY3Rpb25zID0gW107CiAgICAgICAgdmFyIGExID0gW3MxLnN0YXJ0Y2FwLCBzMS5mb3J3YXJkLCBzMS5iYWNrLCBzMS5lbmRjYXBdOwogICAgICAgIHZhciBhMiA9IFtzMi5zdGFydGNhcCwgczIuZm9yd2FyZCwgczIuYmFjaywgczIuZW5kY2FwXTsKICAgICAgICBhMS5mb3JFYWNoKGZ1bmN0aW9uIChsMSkgewogICAgICAgICAgaWYgKGwxLnZpcnR1YWwpIHJldHVybjsKICAgICAgICAgIGEyLmZvckVhY2goZnVuY3Rpb24gKGwyKSB7CiAgICAgICAgICAgIGlmIChsMi52aXJ0dWFsKSByZXR1cm47CiAgICAgICAgICAgIHZhciBpc3MgPSBsMS5pbnRlcnNlY3RzKGwyLCBjdXJ2ZUludGVyc2VjdGlvblRocmVzaG9sZCk7CgogICAgICAgICAgICBpZiAoaXNzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICBpc3MuYzEgPSBsMTsKICAgICAgICAgICAgICBpc3MuYzIgPSBsMjsKICAgICAgICAgICAgICBpc3MuczEgPSBzMTsKICAgICAgICAgICAgICBpc3MuczIgPSBzMjsKICAgICAgICAgICAgICBpbnRlcnNlY3Rpb25zLnB1c2goaXNzKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGludGVyc2VjdGlvbnM7CiAgICAgIH0sCiAgICAgIG1ha2VzaGFwZTogZnVuY3Rpb24gbWFrZXNoYXBlKGZvcndhcmQsIGJhY2ssIGN1cnZlSW50ZXJzZWN0aW9uVGhyZXNob2xkKSB7CiAgICAgICAgdmFyIGJwbCA9IGJhY2sucG9pbnRzLmxlbmd0aDsKICAgICAgICB2YXIgZnBsID0gZm9yd2FyZC5wb2ludHMubGVuZ3RoOwogICAgICAgIHZhciBzdGFydCA9IHV0aWxzLm1ha2VsaW5lKGJhY2sucG9pbnRzW2JwbCAtIDFdLCBmb3J3YXJkLnBvaW50c1swXSk7CiAgICAgICAgdmFyIGVuZCA9IHV0aWxzLm1ha2VsaW5lKGZvcndhcmQucG9pbnRzW2ZwbCAtIDFdLCBiYWNrLnBvaW50c1swXSk7CiAgICAgICAgdmFyIHNoYXBlID0gewogICAgICAgICAgc3RhcnRjYXA6IHN0YXJ0LAogICAgICAgICAgZm9yd2FyZDogZm9yd2FyZCwKICAgICAgICAgIGJhY2s6IGJhY2ssCiAgICAgICAgICBlbmRjYXA6IGVuZCwKICAgICAgICAgIGJib3g6IHV0aWxzLmZpbmRiYm94KFtzdGFydCwgZm9yd2FyZCwgYmFjaywgZW5kXSkKICAgICAgICB9OwogICAgICAgIHZhciBzZWxmID0gdXRpbHM7CgogICAgICAgIHNoYXBlLmludGVyc2VjdGlvbnMgPSBmdW5jdGlvbiAoczIpIHsKICAgICAgICAgIHJldHVybiBzZWxmLnNoYXBlaW50ZXJzZWN0aW9ucyhzaGFwZSwgc2hhcGUuYmJveCwgczIsIHMyLmJib3gsIGN1cnZlSW50ZXJzZWN0aW9uVGhyZXNob2xkKTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gc2hhcGU7CiAgICAgIH0sCiAgICAgIGdldG1pbm1heDogZnVuY3Rpb24gZ2V0bWlubWF4KGN1cnZlLCBkLCBsaXN0KSB7CiAgICAgICAgaWYgKCFsaXN0KSByZXR1cm4gewogICAgICAgICAgbWluOiAwLAogICAgICAgICAgbWF4OiAwCiAgICAgICAgfTsKICAgICAgICB2YXIgbWluID0gbk1heCwKICAgICAgICAgICAgbWF4ID0gbk1pbiwKICAgICAgICAgICAgdCwKICAgICAgICAgICAgYzsKCiAgICAgICAgaWYgKGxpc3QuaW5kZXhPZigwKSA9PT0gLTEpIHsKICAgICAgICAgIGxpc3QgPSBbMF0uY29uY2F0KGxpc3QpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGxpc3QuaW5kZXhPZigxKSA9PT0gLTEpIHsKICAgICAgICAgIGxpc3QucHVzaCgxKTsKICAgICAgICB9CgogICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsaXN0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICB0ID0gbGlzdFtpXTsKICAgICAgICAgIGMgPSBjdXJ2ZS5nZXQodCk7CgogICAgICAgICAgaWYgKGNbZF0gPCBtaW4pIHsKICAgICAgICAgICAgbWluID0gY1tkXTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoY1tkXSA+IG1heCkgewogICAgICAgICAgICBtYXggPSBjW2RdOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIG1pbjogbWluLAogICAgICAgICAgbWlkOiAobWluICsgbWF4KSAvIDIsCiAgICAgICAgICBtYXg6IG1heCwKICAgICAgICAgIHNpemU6IG1heCAtIG1pbgogICAgICAgIH07CiAgICAgIH0sCiAgICAgIGFsaWduOiBmdW5jdGlvbiBhbGlnbihwb2ludHMsIGxpbmUpIHsKICAgICAgICB2YXIgdHggPSBsaW5lLnAxLngsCiAgICAgICAgICAgIHR5ID0gbGluZS5wMS55LAogICAgICAgICAgICBhID0gLWF0YW4yKGxpbmUucDIueSAtIHR5LCBsaW5lLnAyLnggLSB0eCksCiAgICAgICAgICAgIGQgPSBmdW5jdGlvbiBkKHYpIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHg6ICh2LnggLSB0eCkgKiBjb3MoYSkgLSAodi55IC0gdHkpICogc2luKGEpLAogICAgICAgICAgICB5OiAodi54IC0gdHgpICogc2luKGEpICsgKHYueSAtIHR5KSAqIGNvcyhhKQogICAgICAgICAgfTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gcG9pbnRzLm1hcChkKTsKICAgICAgfSwKICAgICAgcm9vdHM6IGZ1bmN0aW9uIHJvb3RzKHBvaW50cywgbGluZSkgewogICAgICAgIGxpbmUgPSBsaW5lIHx8IHsKICAgICAgICAgIHAxOiB7CiAgICAgICAgICAgIHg6IDAsCiAgICAgICAgICAgIHk6IDAKICAgICAgICAgIH0sCiAgICAgICAgICBwMjogewogICAgICAgICAgICB4OiAxLAogICAgICAgICAgICB5OiAwCiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICB2YXIgb3JkZXIgPSBwb2ludHMubGVuZ3RoIC0gMTsKICAgICAgICB2YXIgcCA9IHV0aWxzLmFsaWduKHBvaW50cywgbGluZSk7CgogICAgICAgIHZhciByZWR1Y2UgPSBmdW5jdGlvbiByZWR1Y2UodCkgewogICAgICAgICAgcmV0dXJuIDAgPD0gdCAmJiB0IDw9IDE7CiAgICAgICAgfTsKCiAgICAgICAgaWYgKG9yZGVyID09PSAyKSB7CiAgICAgICAgICB2YXIgYSA9IHBbMF0ueSwKICAgICAgICAgICAgICBiID0gcFsxXS55LAogICAgICAgICAgICAgIGMgPSBwWzJdLnksCiAgICAgICAgICAgICAgZCA9IGEgLSAyICogYiArIGM7CgogICAgICAgICAgaWYgKGQgIT09IDApIHsKICAgICAgICAgICAgdmFyIG0xID0gLXNxcnQoYiAqIGIgLSBhICogYyksCiAgICAgICAgICAgICAgICBtMiA9IC1hICsgYiwKICAgICAgICAgICAgICAgIHYxID0gLShtMSArIG0yKSAvIGQsCiAgICAgICAgICAgICAgICB2MiA9IC0oLW0xICsgbTIpIC8gZDsKICAgICAgICAgICAgcmV0dXJuIFt2MSwgdjJdLmZpbHRlcihyZWR1Y2UpOwogICAgICAgICAgfSBlbHNlIGlmIChiICE9PSBjICYmIGQgPT09IDApIHsKICAgICAgICAgICAgcmV0dXJuIFsoMiAqIGIgLSBjKSAvICgyICogYiAtIDIgKiBjKV0uZmlsdGVyKHJlZHVjZSk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIFtdOwogICAgICAgIH0gLy8gc2VlIGh0dHA6Ly93d3cudHJhbnM0bWluZC5jb20vcGVyc29uYWxfZGV2ZWxvcG1lbnQvbWF0aGVtYXRpY3MvcG9seW5vbWlhbHMvY3ViaWNBbGdlYnJhLmh0bQoKCiAgICAgICAgdmFyIHBhID0gcFswXS55LAogICAgICAgICAgICBwYiA9IHBbMV0ueSwKICAgICAgICAgICAgcGMgPSBwWzJdLnksCiAgICAgICAgICAgIHBkID0gcFszXS55LAogICAgICAgICAgICBkID0gLXBhICsgMyAqIHBiIC0gMyAqIHBjICsgcGQsCiAgICAgICAgICAgIGEgPSAzICogcGEgLSA2ICogcGIgKyAzICogcGMsCiAgICAgICAgICAgIGIgPSAtMyAqIHBhICsgMyAqIHBiLAogICAgICAgICAgICBjID0gcGE7CgogICAgICAgIGlmICh1dGlscy5hcHByb3hpbWF0ZWx5KGQsIDApKSB7CiAgICAgICAgICAvLyB0aGlzIGlzIG5vdCBhIGN1YmljIGN1cnZlLgogICAgICAgICAgaWYgKHV0aWxzLmFwcHJveGltYXRlbHkoYSwgMCkpIHsKICAgICAgICAgICAgLy8gaW4gZmFjdCwgdGhpcyBpcyBub3QgYSBxdWFkcmF0aWMgY3VydmUgZWl0aGVyLgogICAgICAgICAgICBpZiAodXRpbHMuYXBwcm94aW1hdGVseShiLCAwKSkgewogICAgICAgICAgICAgIC8vIGluIGZhY3QgaW4gZmFjdCwgdGhlcmUgYXJlIG5vIHNvbHV0aW9ucy4KICAgICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgICAgIH0gLy8gbGluZWFyIHNvbHV0aW9uOgoKCiAgICAgICAgICAgIHJldHVybiBbLWMgLyBiXS5maWx0ZXIocmVkdWNlKTsKICAgICAgICAgIH0gLy8gcXVhZHJhdGljIHNvbHV0aW9uOgoKCiAgICAgICAgICB2YXIgcSA9IHNxcnQoYiAqIGIgLSA0ICogYSAqIGMpLAogICAgICAgICAgICAgIGEyID0gMiAqIGE7CiAgICAgICAgICByZXR1cm4gWyhxIC0gYikgLyBhMiwgKC1iIC0gcSkgLyBhMl0uZmlsdGVyKHJlZHVjZSk7CiAgICAgICAgfSAvLyBhdCB0aGlzIHBvaW50LCB3ZSBrbm93IHdlIG5lZWQgYSBjdWJpYyBzb2x1dGlvbjoKCgogICAgICAgIGEgLz0gZDsKICAgICAgICBiIC89IGQ7CiAgICAgICAgYyAvPSBkOwogICAgICAgIHZhciBwID0gKDMgKiBiIC0gYSAqIGEpIC8gMywKICAgICAgICAgICAgcDMgPSBwIC8gMywKICAgICAgICAgICAgcSA9ICgyICogYSAqIGEgKiBhIC0gOSAqIGEgKiBiICsgMjcgKiBjKSAvIDI3LAogICAgICAgICAgICBxMiA9IHEgLyAyLAogICAgICAgICAgICBkaXNjcmltaW5hbnQgPSBxMiAqIHEyICsgcDMgKiBwMyAqIHAzLAogICAgICAgICAgICB1MSwKICAgICAgICAgICAgdjEsCiAgICAgICAgICAgIHgxLAogICAgICAgICAgICB4MiwKICAgICAgICAgICAgeDM7CgogICAgICAgIGlmIChkaXNjcmltaW5hbnQgPCAwKSB7CiAgICAgICAgICB2YXIgbXAzID0gLXAgLyAzLAogICAgICAgICAgICAgIG1wMzMgPSBtcDMgKiBtcDMgKiBtcDMsCiAgICAgICAgICAgICAgciA9IHNxcnQobXAzMyksCiAgICAgICAgICAgICAgdCA9IC1xIC8gKDIgKiByKSwKICAgICAgICAgICAgICBjb3NwaGkgPSB0IDwgLTEgPyAtMSA6IHQgPiAxID8gMSA6IHQsCiAgICAgICAgICAgICAgcGhpID0gYWNvcyhjb3NwaGkpLAogICAgICAgICAgICAgIGNydHIgPSBjcnQociksCiAgICAgICAgICAgICAgdDEgPSAyICogY3J0cjsKICAgICAgICAgIHgxID0gdDEgKiBjb3MocGhpIC8gMykgLSBhIC8gMzsKICAgICAgICAgIHgyID0gdDEgKiBjb3MoKHBoaSArIHRhdSkgLyAzKSAtIGEgLyAzOwogICAgICAgICAgeDMgPSB0MSAqIGNvcygocGhpICsgMiAqIHRhdSkgLyAzKSAtIGEgLyAzOwogICAgICAgICAgcmV0dXJuIFt4MSwgeDIsIHgzXS5maWx0ZXIocmVkdWNlKTsKICAgICAgICB9IGVsc2UgaWYgKGRpc2NyaW1pbmFudCA9PT0gMCkgewogICAgICAgICAgdTEgPSBxMiA8IDAgPyBjcnQoLXEyKSA6IC1jcnQocTIpOwogICAgICAgICAgeDEgPSAyICogdTEgLSBhIC8gMzsKICAgICAgICAgIHgyID0gLXUxIC0gYSAvIDM7CiAgICAgICAgICByZXR1cm4gW3gxLCB4Ml0uZmlsdGVyKHJlZHVjZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBzZCA9IHNxcnQoZGlzY3JpbWluYW50KTsKICAgICAgICAgIHUxID0gY3J0KC1xMiArIHNkKTsKICAgICAgICAgIHYxID0gY3J0KHEyICsgc2QpOwogICAgICAgICAgcmV0dXJuIFt1MSAtIHYxIC0gYSAvIDNdLmZpbHRlcihyZWR1Y2UpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZHJvb3RzOiBmdW5jdGlvbiBkcm9vdHMocCkgewogICAgICAgIC8vIHF1YWRyYXRpYyByb290cyBhcmUgZWFzeQogICAgICAgIGlmIChwLmxlbmd0aCA9PT0gMykgewogICAgICAgICAgdmFyIGEgPSBwWzBdLAogICAgICAgICAgICAgIGIgPSBwWzFdLAogICAgICAgICAgICAgIGMgPSBwWzJdLAogICAgICAgICAgICAgIGQgPSBhIC0gMiAqIGIgKyBjOwoKICAgICAgICAgIGlmIChkICE9PSAwKSB7CiAgICAgICAgICAgIHZhciBtMSA9IC1zcXJ0KGIgKiBiIC0gYSAqIGMpLAogICAgICAgICAgICAgICAgbTIgPSAtYSArIGIsCiAgICAgICAgICAgICAgICB2MSA9IC0obTEgKyBtMikgLyBkLAogICAgICAgICAgICAgICAgdjIgPSAtKC1tMSArIG0yKSAvIGQ7CiAgICAgICAgICAgIHJldHVybiBbdjEsIHYyXTsKICAgICAgICAgIH0gZWxzZSBpZiAoYiAhPT0gYyAmJiBkID09PSAwKSB7CiAgICAgICAgICAgIHJldHVybiBbKDIgKiBiIC0gYykgLyAoMiAqIChiIC0gYykpXTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgfSAvLyBsaW5lYXIgcm9vdHMgYXJlIGV2ZW4gZWFzaWVyCgoKICAgICAgICBpZiAocC5sZW5ndGggPT09IDIpIHsKICAgICAgICAgIHZhciBhID0gcFswXSwKICAgICAgICAgICAgICBiID0gcFsxXTsKCiAgICAgICAgICBpZiAoYSAhPT0gYikgewogICAgICAgICAgICByZXR1cm4gW2EgLyAoYSAtIGIpXTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgfQogICAgICB9LAogICAgICBjdXJ2YXR1cmU6IGZ1bmN0aW9uIGN1cnZhdHVyZSh0LCBwb2ludHMsIF8zZCwga09ubHkpIHsKICAgICAgICB2YXIgZHBvaW50cyA9IHV0aWxzLmRlcml2ZShwb2ludHMpOwogICAgICAgIHZhciBkMSA9IGRwb2ludHNbMF07CiAgICAgICAgdmFyIGQyID0gZHBvaW50c1sxXTsKICAgICAgICB2YXIgbnVtLAogICAgICAgICAgICBkbm0sCiAgICAgICAgICAgIGFkaywKICAgICAgICAgICAgZGssCiAgICAgICAgICAgIGsgPSAwLAogICAgICAgICAgICByID0gMDsgLy8KICAgICAgICAvLyBXZSdyZSB1c2luZyB0aGUgZm9sbG93aW5nIGZvcm11bGEgZm9yIGN1cnZhdHVyZToKICAgICAgICAvLwogICAgICAgIC8vICAgICAgICAgICAgICB4J3kiIC0geSd4IgogICAgICAgIC8vICAgayh0KSA9IC0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIC8vICAgICAgICAgICAoeCfCsiArIHknwrIpXigzLzIpCiAgICAgICAgLy8KICAgICAgICAvLyBmcm9tIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1JhZGl1c19vZl9jdXJ2YXR1cmUjRGVmaW5pdGlvbgogICAgICAgIC8vCiAgICAgICAgLy8gV2l0aCBpdCBjb3JyZXNwb25kaW5nIDNEIGNvdW50ZXJwYXJ0OgogICAgICAgIC8vCiAgICAgICAgLy8gICAgICAgICAgc3FydCggKHkneiIgLSB5InonKcKyICsgKHoneCIgLSB6IngnKcKyICsgKHgneSIgLSB4InknKcKyKQogICAgICAgIC8vICAgayh0KSA9IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICh4J8KyICsgeSfCsiArIHonwrIpXigzLzIpCiAgICAgICAgLy8KCiAgICAgICAgdmFyIGQgPSB1dGlscy5jb21wdXRlKHQsIGQxKTsKICAgICAgICB2YXIgZGQgPSB1dGlscy5jb21wdXRlKHQsIGQyKTsKICAgICAgICB2YXIgcWRzdW0gPSBkLnggKiBkLnggKyBkLnkgKiBkLnk7CgogICAgICAgIGlmIChfM2QpIHsKICAgICAgICAgIG51bSA9IHNxcnQocG93KGQueSAqIGRkLnogLSBkZC55ICogZC56LCAyKSArIHBvdyhkLnogKiBkZC54IC0gZGQueiAqIGQueCwgMikgKyBwb3coZC54ICogZGQueSAtIGRkLnggKiBkLnksIDIpKTsKICAgICAgICAgIGRubSA9IHBvdyhxZHN1bSArIGQueiAqIGQueiwgMyAvIDIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBudW0gPSBkLnggKiBkZC55IC0gZC55ICogZGQueDsKICAgICAgICAgIGRubSA9IHBvdyhxZHN1bSwgMyAvIDIpOwogICAgICAgIH0KCiAgICAgICAgaWYgKG51bSA9PT0gMCB8fCBkbm0gPT09IDApIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGs6IDAsCiAgICAgICAgICAgIHI6IDAKICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICBrID0gbnVtIC8gZG5tOwogICAgICAgIHIgPSBkbm0gLyBudW07IC8vIFdlJ3JlIGFsc28gY29tcHV0aW5nIHRoZSBkZXJpdmF0aXZlIG9mIGthcHBhLCBiZWNhdXNlCiAgICAgICAgLy8gdGhlcmUgaXMgdmFsdWUgaW4ga25vd2luZyB0aGUgcmF0ZSBvZiBjaGFuZ2UgZm9yIHRoZQogICAgICAgIC8vIGN1cnZhdHVyZSBhbG9uZyB0aGUgY3VydmUuIEFuZCB3ZSdyZSBqdXN0IGdvaW5nIHRvCiAgICAgICAgLy8gYmFsbHBhcmsgaXQgYmFzZWQgb24gYW4gZXBzaWxvbi4KCiAgICAgICAgaWYgKCFrT25seSkgewogICAgICAgICAgLy8gY29tcHV0ZSBrJyh0KSBiYXNlZCBvbiB0aGUgaW50ZXJ2YWwgYmVmb3JlLCBhbmQgYWZ0ZXIgaXQsCiAgICAgICAgICAvLyB0byBhdCBsZWFzdCB0cnkgdG8gbm90IGludHJvZHVjZSBmb3J3YXJkL2JhY2t3YXJkIHBhc3MgYmlhcy4KICAgICAgICAgIHZhciBwayA9IHV0aWxzLmN1cnZhdHVyZSh0IC0gMC4wMDEsIHBvaW50cywgXzNkLCB0cnVlKS5rOwogICAgICAgICAgdmFyIG5rID0gdXRpbHMuY3VydmF0dXJlKHQgKyAwLjAwMSwgcG9pbnRzLCBfM2QsIHRydWUpLms7CiAgICAgICAgICBkayA9IChuayAtIGsgKyAoayAtIHBrKSkgLyAyOwogICAgICAgICAgYWRrID0gKGFicyhuayAtIGspICsgYWJzKGsgLSBwaykpIC8gMjsKICAgICAgICB9CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICBrOiBrLAogICAgICAgICAgcjogciwKICAgICAgICAgIGRrOiBkaywKICAgICAgICAgIGFkazogYWRrCiAgICAgICAgfTsKICAgICAgfSwKICAgICAgaW5mbGVjdGlvbnM6IGZ1bmN0aW9uIGluZmxlY3Rpb25zKHBvaW50cykgewogICAgICAgIGlmIChwb2ludHMubGVuZ3RoIDwgNCkgcmV0dXJuIFtdOyAvLyBGSVhNRTogVE9ETzogYWRkIGluIGluZmxlY3Rpb24gYWJzdHJhY3Rpb24gZm9yIHF1YXJ0aWMrIGN1cnZlcz8KCiAgICAgICAgdmFyIHAgPSB1dGlscy5hbGlnbihwb2ludHMsIHsKICAgICAgICAgIHAxOiBwb2ludHNbMF0sCiAgICAgICAgICBwMjogcG9pbnRzLnNsaWNlKC0xKVswXQogICAgICAgIH0pLAogICAgICAgICAgICBhID0gcFsyXS54ICogcFsxXS55LAogICAgICAgICAgICBiID0gcFszXS54ICogcFsxXS55LAogICAgICAgICAgICBjID0gcFsxXS54ICogcFsyXS55LAogICAgICAgICAgICBkID0gcFszXS54ICogcFsyXS55LAogICAgICAgICAgICB2MSA9IDE4ICogKC0zICogYSArIDIgKiBiICsgMyAqIGMgLSBkKSwKICAgICAgICAgICAgdjIgPSAxOCAqICgzICogYSAtIGIgLSAzICogYyksCiAgICAgICAgICAgIHYzID0gMTggKiAoYyAtIGEpOwoKICAgICAgICBpZiAodXRpbHMuYXBwcm94aW1hdGVseSh2MSwgMCkpIHsKICAgICAgICAgIGlmICghdXRpbHMuYXBwcm94aW1hdGVseSh2MiwgMCkpIHsKICAgICAgICAgICAgdmFyIHQgPSAtdjMgLyB2MjsKICAgICAgICAgICAgaWYgKDAgPD0gdCAmJiB0IDw9IDEpIHJldHVybiBbdF07CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIFtdOwogICAgICAgIH0KCiAgICAgICAgdmFyIHRybSA9IHYyICogdjIgLSA0ICogdjEgKiB2MywKICAgICAgICAgICAgc3EgPSBNYXRoLnNxcnQodHJtKSwKICAgICAgICAgICAgZCA9IDIgKiB2MTsKICAgICAgICBpZiAodXRpbHMuYXBwcm94aW1hdGVseShkLCAwKSkgcmV0dXJuIFtdOwogICAgICAgIHJldHVybiBbKHNxIC0gdjIpIC8gZCwgLSh2MiArIHNxKSAvIGRdLmZpbHRlcihmdW5jdGlvbiAocikgewogICAgICAgICAgcmV0dXJuIDAgPD0gciAmJiByIDw9IDE7CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGJib3hvdmVybGFwOiBmdW5jdGlvbiBiYm94b3ZlcmxhcChiMSwgYjIpIHsKICAgICAgICB2YXIgZGltcyA9IFsieCIsICJ5Il0sCiAgICAgICAgICAgIGxlbiA9IGRpbXMubGVuZ3RoLAogICAgICAgICAgICBpLAogICAgICAgICAgICBkaW0sCiAgICAgICAgICAgIGwsCiAgICAgICAgICAgIHQsCiAgICAgICAgICAgIGQ7CgogICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgICAgICAgZGltID0gZGltc1tpXTsKICAgICAgICAgIGwgPSBiMVtkaW1dLm1pZDsKICAgICAgICAgIHQgPSBiMltkaW1dLm1pZDsKICAgICAgICAgIGQgPSAoYjFbZGltXS5zaXplICsgYjJbZGltXS5zaXplKSAvIDI7CiAgICAgICAgICBpZiAoYWJzKGwgLSB0KSA+PSBkKSByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSwKICAgICAgZXhwYW5kYm94OiBmdW5jdGlvbiBleHBhbmRib3goYmJveCwgX2Jib3gpIHsKICAgICAgICBpZiAoX2Jib3gueC5taW4gPCBiYm94LngubWluKSB7CiAgICAgICAgICBiYm94LngubWluID0gX2Jib3gueC5taW47CiAgICAgICAgfQoKICAgICAgICBpZiAoX2Jib3gueS5taW4gPCBiYm94LnkubWluKSB7CiAgICAgICAgICBiYm94LnkubWluID0gX2Jib3gueS5taW47CiAgICAgICAgfQoKICAgICAgICBpZiAoX2Jib3gueiAmJiBfYmJveC56Lm1pbiA8IGJib3guei5taW4pIHsKICAgICAgICAgIGJib3guei5taW4gPSBfYmJveC56Lm1pbjsKICAgICAgICB9CgogICAgICAgIGlmIChfYmJveC54Lm1heCA+IGJib3gueC5tYXgpIHsKICAgICAgICAgIGJib3gueC5tYXggPSBfYmJveC54Lm1heDsKICAgICAgICB9CgogICAgICAgIGlmIChfYmJveC55Lm1heCA+IGJib3gueS5tYXgpIHsKICAgICAgICAgIGJib3gueS5tYXggPSBfYmJveC55Lm1heDsKICAgICAgICB9CgogICAgICAgIGlmIChfYmJveC56ICYmIF9iYm94LnoubWF4ID4gYmJveC56Lm1heCkgewogICAgICAgICAgYmJveC56Lm1heCA9IF9iYm94LnoubWF4OwogICAgICAgIH0KCiAgICAgICAgYmJveC54Lm1pZCA9IChiYm94LngubWluICsgYmJveC54Lm1heCkgLyAyOwogICAgICAgIGJib3gueS5taWQgPSAoYmJveC55Lm1pbiArIGJib3gueS5tYXgpIC8gMjsKCiAgICAgICAgaWYgKGJib3gueikgewogICAgICAgICAgYmJveC56Lm1pZCA9IChiYm94LnoubWluICsgYmJveC56Lm1heCkgLyAyOwogICAgICAgIH0KCiAgICAgICAgYmJveC54LnNpemUgPSBiYm94LngubWF4IC0gYmJveC54Lm1pbjsKICAgICAgICBiYm94Lnkuc2l6ZSA9IGJib3gueS5tYXggLSBiYm94LnkubWluOwoKICAgICAgICBpZiAoYmJveC56KSB7CiAgICAgICAgICBiYm94Lnouc2l6ZSA9IGJib3guei5tYXggLSBiYm94LnoubWluOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcGFpcml0ZXJhdGlvbjogZnVuY3Rpb24gcGFpcml0ZXJhdGlvbihjMSwgYzIsIGN1cnZlSW50ZXJzZWN0aW9uVGhyZXNob2xkKSB7CiAgICAgICAgdmFyIGMxYiA9IGMxLmJib3goKSwKICAgICAgICAgICAgYzJiID0gYzIuYmJveCgpLAogICAgICAgICAgICByID0gMTAwMDAwLAogICAgICAgICAgICB0aHJlc2hvbGQgPSBjdXJ2ZUludGVyc2VjdGlvblRocmVzaG9sZCB8fCAwLjU7CgogICAgICAgIGlmIChjMWIueC5zaXplICsgYzFiLnkuc2l6ZSA8IHRocmVzaG9sZCAmJiBjMmIueC5zaXplICsgYzJiLnkuc2l6ZSA8IHRocmVzaG9sZCkgewogICAgICAgICAgcmV0dXJuIFsociAqIChjMS5fdDEgKyBjMS5fdDIpIC8gMiB8IDApIC8gciArICIvIiArIChyICogKGMyLl90MSArIGMyLl90MikgLyAyIHwgMCkgLyByXTsKICAgICAgICB9CgogICAgICAgIHZhciBjYzEgPSBjMS5zcGxpdCgwLjUpLAogICAgICAgICAgICBjYzIgPSBjMi5zcGxpdCgwLjUpLAogICAgICAgICAgICBwYWlycyA9IFt7CiAgICAgICAgICBsZWZ0OiBjYzEubGVmdCwKICAgICAgICAgIHJpZ2h0OiBjYzIubGVmdAogICAgICAgIH0sIHsKICAgICAgICAgIGxlZnQ6IGNjMS5sZWZ0LAogICAgICAgICAgcmlnaHQ6IGNjMi5yaWdodAogICAgICAgIH0sIHsKICAgICAgICAgIGxlZnQ6IGNjMS5yaWdodCwKICAgICAgICAgIHJpZ2h0OiBjYzIucmlnaHQKICAgICAgICB9LCB7CiAgICAgICAgICBsZWZ0OiBjYzEucmlnaHQsCiAgICAgICAgICByaWdodDogY2MyLmxlZnQKICAgICAgICB9XTsKICAgICAgICBwYWlycyA9IHBhaXJzLmZpbHRlcihmdW5jdGlvbiAocGFpcikgewogICAgICAgICAgcmV0dXJuIHV0aWxzLmJib3hvdmVybGFwKHBhaXIubGVmdC5iYm94KCksIHBhaXIucmlnaHQuYmJveCgpKTsKICAgICAgICB9KTsKICAgICAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgICAgIGlmIChwYWlycy5sZW5ndGggPT09IDApIHJldHVybiByZXN1bHRzOwogICAgICAgIHBhaXJzLmZvckVhY2goZnVuY3Rpb24gKHBhaXIpIHsKICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLmNvbmNhdCh1dGlscy5wYWlyaXRlcmF0aW9uKHBhaXIubGVmdCwgcGFpci5yaWdodCwgdGhyZXNob2xkKSk7CiAgICAgICAgfSk7CiAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuZmlsdGVyKGZ1bmN0aW9uICh2LCBpKSB7CiAgICAgICAgICByZXR1cm4gcmVzdWx0cy5pbmRleE9mKHYpID09PSBpOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiByZXN1bHRzOwogICAgICB9LAogICAgICBnZXRjY2VudGVyOiBmdW5jdGlvbiBnZXRjY2VudGVyKHAxLCBwMiwgcDMpIHsKICAgICAgICB2YXIgZHgxID0gcDIueCAtIHAxLngsCiAgICAgICAgICAgIGR5MSA9IHAyLnkgLSBwMS55LAogICAgICAgICAgICBkeDIgPSBwMy54IC0gcDIueCwKICAgICAgICAgICAgZHkyID0gcDMueSAtIHAyLnk7CiAgICAgICAgdmFyIGR4MXAgPSBkeDEgKiBjb3MocXVhcnQpIC0gZHkxICogc2luKHF1YXJ0KSwKICAgICAgICAgICAgZHkxcCA9IGR4MSAqIHNpbihxdWFydCkgKyBkeTEgKiBjb3MocXVhcnQpLAogICAgICAgICAgICBkeDJwID0gZHgyICogY29zKHF1YXJ0KSAtIGR5MiAqIHNpbihxdWFydCksCiAgICAgICAgICAgIGR5MnAgPSBkeDIgKiBzaW4ocXVhcnQpICsgZHkyICogY29zKHF1YXJ0KTsgLy8gY2hvcmQgbWlkcG9pbnRzCgogICAgICAgIHZhciBteDEgPSAocDEueCArIHAyLngpIC8gMiwKICAgICAgICAgICAgbXkxID0gKHAxLnkgKyBwMi55KSAvIDIsCiAgICAgICAgICAgIG14MiA9IChwMi54ICsgcDMueCkgLyAyLAogICAgICAgICAgICBteTIgPSAocDIueSArIHAzLnkpIC8gMjsgLy8gbWlkcG9pbnQgb2Zmc2V0cwoKICAgICAgICB2YXIgbXgxbiA9IG14MSArIGR4MXAsCiAgICAgICAgICAgIG15MW4gPSBteTEgKyBkeTFwLAogICAgICAgICAgICBteDJuID0gbXgyICsgZHgycCwKICAgICAgICAgICAgbXkybiA9IG15MiArIGR5MnA7IC8vIGludGVyc2VjdGlvbiBvZiB0aGVzZSBsaW5lczoKCiAgICAgICAgdmFyIGFyYyA9IHV0aWxzLmxsaTgobXgxLCBteTEsIG14MW4sIG15MW4sIG14MiwgbXkyLCBteDJuLCBteTJuKSwKICAgICAgICAgICAgciA9IHV0aWxzLmRpc3QoYXJjLCBwMSksCiAgICAgICAgICAgIC8vIGFyYyBzdGFydC9lbmQgdmFsdWVzLCBvdmVyIG1pZCBwb2ludDoKICAgICAgICBzID0gYXRhbjIocDEueSAtIGFyYy55LCBwMS54IC0gYXJjLngpLAogICAgICAgICAgICBtID0gYXRhbjIocDIueSAtIGFyYy55LCBwMi54IC0gYXJjLngpLAogICAgICAgICAgICBlID0gYXRhbjIocDMueSAtIGFyYy55LCBwMy54IC0gYXJjLngpLAogICAgICAgICAgICBfOyAvLyBkZXRlcm1pbmUgYXJjIGRpcmVjdGlvbiAoY3cvY2N3IGNvcnJlY3Rpb24pCgoKICAgICAgICBpZiAocyA8IGUpIHsKICAgICAgICAgIC8vIGlmIHM8bTxlLCBhcmMocywgZSkKICAgICAgICAgIC8vIGlmIG08czxlLCBhcmMoZSwgcyArIHRhdSkKICAgICAgICAgIC8vIGlmIHM8ZTxtLCBhcmMoZSwgcyArIHRhdSkKICAgICAgICAgIGlmIChzID4gbSB8fCBtID4gZSkgewogICAgICAgICAgICBzICs9IHRhdTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAocyA+IGUpIHsKICAgICAgICAgICAgXyA9IGU7CiAgICAgICAgICAgIGUgPSBzOwogICAgICAgICAgICBzID0gXzsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gaWYgZTxtPHMsIGFyYyhlLCBzKQogICAgICAgICAgLy8gaWYgbTxlPHMsIGFyYyhzLCBlICsgdGF1KQogICAgICAgICAgLy8gaWYgZTxzPG0sIGFyYyhzLCBlICsgdGF1KQogICAgICAgICAgaWYgKGUgPCBtICYmIG0gPCBzKSB7CiAgICAgICAgICAgIF8gPSBlOwogICAgICAgICAgICBlID0gczsKICAgICAgICAgICAgcyA9IF87CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBlICs9IHRhdTsKICAgICAgICAgIH0KICAgICAgICB9IC8vIGFzc2lnbiBhbmQgZG9uZS4KCgogICAgICAgIGFyYy5zID0gczsKICAgICAgICBhcmMuZSA9IGU7CiAgICAgICAgYXJjLnIgPSByOwogICAgICAgIHJldHVybiBhcmM7CiAgICAgIH0sCiAgICAgIG51bWJlclNvcnQ6IGZ1bmN0aW9uIG51bWJlclNvcnQoYSwgYikgewogICAgICAgIHJldHVybiBhIC0gYjsKICAgICAgfQogICAgfTsKICAgIG1vZHVsZS5leHBvcnRzID0gdXRpbHM7CiAgfSkoKTsKICAvKioqLwoKfSwKLyogMyAqLwoKLyoqKi8KZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICAoZnVuY3Rpb24gKCkgewoKICAgIHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7CiAgICAvKioKICAgICAqIFBvbHkgQmV6aWVyCiAgICAgKiBAcGFyYW0ge1t0eXBlXX0gY3VydmVzIFtkZXNjcmlwdGlvbl0KICAgICAqLwoKCiAgICB2YXIgUG9seUJlemllciA9IGZ1bmN0aW9uIFBvbHlCZXppZXIoY3VydmVzKSB7CiAgICAgIHRoaXMuY3VydmVzID0gW107CiAgICAgIHRoaXMuXzNkID0gZmFsc2U7CgogICAgICBpZiAoISFjdXJ2ZXMpIHsKICAgICAgICB0aGlzLmN1cnZlcyA9IGN1cnZlczsKICAgICAgICB0aGlzLl8zZCA9IHRoaXMuY3VydmVzWzBdLl8zZDsKICAgICAgfQogICAgfTsKCiAgICBQb2x5QmV6aWVyLnByb3RvdHlwZSA9IHsKICAgICAgdmFsdWVPZjogZnVuY3Rpb24gdmFsdWVPZigpIHsKICAgICAgICByZXR1cm4gdGhpcy50b1N0cmluZygpOwogICAgICB9LAogICAgICB0b1N0cmluZzogZnVuY3Rpb24gdG9TdHJpbmcoKSB7CiAgICAgICAgcmV0dXJuICJbIiArIHRoaXMuY3VydmVzLm1hcChmdW5jdGlvbiAoY3VydmUpIHsKICAgICAgICAgIHJldHVybiB1dGlscy5wb2ludHNUb1N0cmluZyhjdXJ2ZS5wb2ludHMpOwogICAgICAgIH0pLmpvaW4oIiwgIikgKyAiXSI7CiAgICAgIH0sCiAgICAgIGFkZEN1cnZlOiBmdW5jdGlvbiBhZGRDdXJ2ZShjdXJ2ZSkgewogICAgICAgIHRoaXMuY3VydmVzLnB1c2goY3VydmUpOwogICAgICAgIHRoaXMuXzNkID0gdGhpcy5fM2QgfHwgY3VydmUuXzNkOwogICAgICB9LAogICAgICBsZW5ndGg6IGZ1bmN0aW9uIGxlbmd0aCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5jdXJ2ZXMubWFwKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICByZXR1cm4gdi5sZW5ndGgoKTsKICAgICAgICB9KS5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgIHJldHVybiBhICsgYjsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgY3VydmU6IGZ1bmN0aW9uIGN1cnZlKGlkeCkgewogICAgICAgIHJldHVybiB0aGlzLmN1cnZlc1tpZHhdOwogICAgICB9LAogICAgICBiYm94OiBmdW5jdGlvbiBiYm94KCkgewogICAgICAgIHZhciBjID0gdGhpcy5jdXJ2ZXM7CiAgICAgICAgdmFyIGJib3ggPSBjWzBdLmJib3goKTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBjLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB1dGlscy5leHBhbmRib3goYmJveCwgY1tpXS5iYm94KCkpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGJib3g7CiAgICAgIH0sCiAgICAgIG9mZnNldDogZnVuY3Rpb24gb2Zmc2V0KGQpIHsKICAgICAgICB2YXIgb2Zmc2V0ID0gW107CiAgICAgICAgdGhpcy5jdXJ2ZXMuZm9yRWFjaChmdW5jdGlvbiAodikgewogICAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0LmNvbmNhdCh2Lm9mZnNldChkKSk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIG5ldyBQb2x5QmV6aWVyKG9mZnNldCk7CiAgICAgIH0KICAgIH07CiAgICBtb2R1bGUuZXhwb3J0cyA9IFBvbHlCZXppZXI7CiAgfSkoKTsKICAvKioqLwoKfSwKLyogNCAqLwoKLyoqKi8KZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKICB2YXIgbm9ybWFsaXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTsKCiAgdmFyIE0gPSB7CiAgICB4OiBmYWxzZSwKICAgIHk6IGZhbHNlCiAgfTsKCiAgZnVuY3Rpb24gbWFrZUJlemllcihCZXppZXIsIHRlcm0sIHZhbHVlcykgewogICAgaWYgKHRlcm0gPT09ICdaJykgcmV0dXJuOwoKICAgIGlmICh0ZXJtID09PSAnTScpIHsKICAgICAgTSA9IHsKICAgICAgICB4OiB2YWx1ZXNbMF0sCiAgICAgICAgeTogdmFsdWVzWzFdCiAgICAgIH07CiAgICAgIHJldHVybjsKICAgIH0gLy8gRVM3OiBuZXcgQmV6aWVyKE0ueCwgTS55LCAuLi52YWx1ZXMpCgoKICAgIHZhciBjdmFsdWVzID0gW2ZhbHNlLCBNLngsIE0ueV0uY29uY2F0KHZhbHVlcyk7CiAgICB2YXIgUHJlYm91bmRDb25zdHJ1Y3RvciA9IEJlemllci5iaW5kLmFwcGx5KEJlemllciwgY3ZhbHVlcyk7CiAgICB2YXIgY3VydmUgPSBuZXcgUHJlYm91bmRDb25zdHJ1Y3RvcigpOwogICAgdmFyIGxhc3QgPSB2YWx1ZXMuc2xpY2UoLTIpOwogICAgTSA9IHsKICAgICAgeDogbGFzdFswXSwKICAgICAgeTogbGFzdFsxXQogICAgfTsKICAgIHJldHVybiBjdXJ2ZTsKICB9CgogIGZ1bmN0aW9uIGNvbnZlcnRQYXRoKEJlemllciwgZCkgewogICAgdmFyIHRlcm1zID0gbm9ybWFsaXNlKGQpLnNwbGl0KCIgIiksCiAgICAgICAgdGVybSwKICAgICAgICBtYXRjaGVyID0gbmV3IFJlZ0V4cCgiW01MQ1FaXSIsICIiKSwKICAgICAgICBzZWdtZW50LAogICAgICAgIHZhbHVlcywKICAgICAgICBzZWdtZW50cyA9IFtdLAogICAgICAgIEFSR1MgPSB7CiAgICAgICJDIjogNiwKICAgICAgIlEiOiA0LAogICAgICAiTCI6IDIsCiAgICAgICJNIjogMgogICAgfTsKCiAgICB3aGlsZSAodGVybXMubGVuZ3RoKSB7CiAgICAgIHRlcm0gPSB0ZXJtcy5zcGxpY2UoMCwgMSlbMF07CgogICAgICBpZiAobWF0Y2hlci50ZXN0KHRlcm0pKSB7CiAgICAgICAgdmFsdWVzID0gdGVybXMuc3BsaWNlKDAsIEFSR1NbdGVybV0pLm1hcChwYXJzZUZsb2F0KTsKICAgICAgICBzZWdtZW50ID0gbWFrZUJlemllcihCZXppZXIsIHRlcm0sIHZhbHVlcyk7CiAgICAgICAgaWYgKHNlZ21lbnQpIHNlZ21lbnRzLnB1c2goc2VnbWVudCk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbmV3IEJlemllci5Qb2x5QmV6aWVyKHNlZ21lbnRzKTsKICB9CgogIG1vZHVsZS5leHBvcnRzID0gY29udmVydFBhdGg7CiAgLyoqKi8KfSwKLyogNSAqLwoKLyoqKi8KZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykgewogIC8qKgogICAqIE5vcm1hbGlzZSBhbiBTVkcgcGF0aCB0byBhYnNvbHV0ZSBjb29yZGluYXRlcwogICAqIGFuZCBmdWxsIGNvbW1hbmRzLCByYXRoZXIgdGhhbiByZWxhdGl2ZSBjb29yZGluYXRlcwogICAqIGFuZC9vciBzaG9ydGN1dCBjb21tYW5kcy4KICAgKi8KCiAgZnVuY3Rpb24gbm9ybWFsaXplUGF0aChkKSB7CiAgICAvLyBwcmVwcm9jZXNzICJkIiBzbyB0aGF0IHdlIGhhdmUgc3BhY2VzIGJldHdlZW4gdmFsdWVzCiAgICBkID0gZC5yZXBsYWNlKC8sL2csICIgIikgLy8gcmVwbGFjZSBjb21tYXMgd2l0aCBzcGFjZXMKICAgIC5yZXBsYWNlKC8tL2csICIgLSAiKSAvLyBhZGQgc3BhY2luZyBhcm91bmQgbWludXMgc2lnbnMKICAgIC5yZXBsYWNlKC8tXHMrL2csICItIikgLy8gcmVtb3ZlIHNwYWNpbmcgdG8gdGhlIHJpZ2h0IG9mIG1pbnVzIHNpZ25zLgogICAgLnJlcGxhY2UoLyhbYS16QS1aXSkvZywgIiAkMSAiKTsgLy8gc2V0IHVwIHRoZSB2YXJpYWJsZXMgdXNlZCBpbiB0aGlzIGZ1bmN0aW9uCgogICAgdmFyIGluc3RydWN0aW9ucyA9IGQucmVwbGFjZSgvKFthLXpBLVpdKVxzPy9nLCAifCQxIikuc3BsaXQoInwiKSwKICAgICAgICBpbnN0cnVjdGlvbkxlbmd0aCA9IGluc3RydWN0aW9ucy5sZW5ndGgsCiAgICAgICAgaSwKICAgICAgICBpbnN0cnVjdGlvbiwKICAgICAgICBvcCwKICAgICAgICBsb3AsCiAgICAgICAgYXJncyA9IFtdLAogICAgICAgIGFsZW4sCiAgICAgICAgYSwKICAgICAgICBzeCA9IDAsCiAgICAgICAgc3kgPSAwLAogICAgICAgIHggPSAwLAogICAgICAgIHkgPSAwLAogICAgICAgIGN4ID0gMCwKICAgICAgICBjeSA9IDAsCiAgICAgICAgY3gyID0gMCwKICAgICAgICBjeTIgPSAwLAogICAgICAgIG5vcm1hbGl6ZWQgPSAiIjsgLy8gd2UgcnVuIHRocm91Z2ggdGhlIGluc3RydWN0aW9uIGxpc3Qgc3RhcnRpbmcgYXQgMSwgbm90IDAsCiAgICAvLyBiZWNhdXNlIHdlIHNwbGl0IHVwICJ8TSB4IHkgLi4uLiIgc28gdGhlIGZpcnN0IGVsZW1lbnQgd2lsbAogICAgLy8gYWx3YXlzIGJlIGFuIGVtcHR5IHN0cmluZy4gQnkgZGVzaWduLgoKICAgIGZvciAoaSA9IDE7IGkgPCBpbnN0cnVjdGlvbkxlbmd0aDsgaSsrKSB7CiAgICAgIC8vIHdoaWNoIGluc3RydWN0aW9uIGlzIHRoaXM/CiAgICAgIGluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb25zW2ldOwogICAgICBvcCA9IGluc3RydWN0aW9uLnN1YnN0cmluZygwLCAxKTsKICAgICAgbG9wID0gb3AudG9Mb3dlckNhc2UoKTsgLy8gd2hhdCBhcmUgdGhlIGFyZ3VtZW50cz8gbm90ZSB0aGF0IHdlIG5lZWQgdG8gY29udmVydAogICAgICAvLyBhbGwgc3RyaW5ncyBpbnRvIG51bWJlcnMsIG9yICsgd2lsbCBkbyBzaWxseSB0aGluZ3MuCgogICAgICBhcmdzID0gaW5zdHJ1Y3Rpb24ucmVwbGFjZShvcCwgIiIpLnRyaW0oKS5zcGxpdCgiICIpOwogICAgICBhcmdzID0gYXJncy5maWx0ZXIoZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gdiAhPT0gIiI7CiAgICAgIH0pLm1hcChwYXJzZUZsb2F0KTsKICAgICAgYWxlbiA9IGFyZ3MubGVuZ3RoOyAvLyB3ZSBjb3VsZCB1c2UgYSBzd2l0Y2gsIGJ1dCBlbGFib3JhdGUgY29kZSBpbiBhICJjYXNlIiB3aXRoCiAgICAgIC8vIGZhbGx0aHJvdWdoIGlzIGp1c3QgaG9ycmlkIHRvIHJlYWQuIFNvIGxldCdzIHVzZSBpZnRoZW4KICAgICAgLy8gc3RhdGVtZW50cyBpbnN0ZWFkLgogICAgICAvLyBtb3ZldG8gY29tbWFuZCAocGx1cyBwb3NzaWJsZSBsaW5ldG8pCgogICAgICBpZiAobG9wID09PSAibSIpIHsKICAgICAgICBub3JtYWxpemVkICs9ICJNICI7CgogICAgICAgIGlmIChvcCA9PT0gIm0iKSB7CiAgICAgICAgICB4ICs9IGFyZ3NbMF07CiAgICAgICAgICB5ICs9IGFyZ3NbMV07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHggPSBhcmdzWzBdOwogICAgICAgICAgeSA9IGFyZ3NbMV07CiAgICAgICAgfSAvLyByZWNvcmRzIHN0YXJ0IHBvc2l0aW9uLCBmb3IgZGVhbGluZwogICAgICAgIC8vIHdpdGggdGhlIHNoYXBlIGNsb3NlIG9wZXJhdG9yICgnWicpCgoKICAgICAgICBzeCA9IHg7CiAgICAgICAgc3kgPSB5OwogICAgICAgIG5vcm1hbGl6ZWQgKz0geCArICIgIiArIHkgKyAiICI7CgogICAgICAgIGlmIChhbGVuID4gMikgewogICAgICAgICAgZm9yIChhID0gMDsgYSA8IGFsZW47IGEgKz0gMikgewogICAgICAgICAgICBpZiAob3AgPT09ICJtIikgewogICAgICAgICAgICAgIHggKz0gYXJnc1thXTsKICAgICAgICAgICAgICB5ICs9IGFyZ3NbYSArIDFdOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHggPSBhcmdzW2FdOwogICAgICAgICAgICAgIHkgPSBhcmdzW2EgKyAxXTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbm9ybWFsaXplZCArPSBbIkwiLCB4LCB5LCAnJ10uam9pbigiICIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChsb3AgPT09ICJsIikgewogICAgICAgIC8vIGxpbmV0byBjb21tYW5kcwogICAgICAgIGZvciAoYSA9IDA7IGEgPCBhbGVuOyBhICs9IDIpIHsKICAgICAgICAgIGlmIChvcCA9PT0gImwiKSB7CiAgICAgICAgICAgIHggKz0gYXJnc1thXTsKICAgICAgICAgICAgeSArPSBhcmdzW2EgKyAxXTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHggPSBhcmdzW2FdOwogICAgICAgICAgICB5ID0gYXJnc1thICsgMV07CiAgICAgICAgICB9CgogICAgICAgICAgbm9ybWFsaXplZCArPSBbIkwiLCB4LCB5LCAnJ10uam9pbigiICIpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChsb3AgPT09ICJoIikgewogICAgICAgIGZvciAoYSA9IDA7IGEgPCBhbGVuOyBhKyspIHsKICAgICAgICAgIGlmIChvcCA9PT0gImgiKSB7CiAgICAgICAgICAgIHggKz0gYXJnc1thXTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHggPSBhcmdzW2FdOwogICAgICAgICAgfQoKICAgICAgICAgIG5vcm1hbGl6ZWQgKz0gWyJMIiwgeCwgeSwgJyddLmpvaW4oIiAiKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAobG9wID09PSAidiIpIHsKICAgICAgICBmb3IgKGEgPSAwOyBhIDwgYWxlbjsgYSsrKSB7CiAgICAgICAgICBpZiAob3AgPT09ICJ2IikgewogICAgICAgICAgICB5ICs9IGFyZ3NbYV07CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB5ID0gYXJnc1thXTsKICAgICAgICAgIH0KCiAgICAgICAgICBub3JtYWxpemVkICs9IFsiTCIsIHgsIHksICcnXS5qb2luKCIgIik7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGxvcCA9PT0gInEiKSB7CiAgICAgICAgLy8gcXVhZHJhdGljIGN1cnZldG8gY29tbWFuZHMKICAgICAgICBmb3IgKGEgPSAwOyBhIDwgYWxlbjsgYSArPSA0KSB7CiAgICAgICAgICBpZiAob3AgPT09ICJxIikgewogICAgICAgICAgICBjeCA9IHggKyBhcmdzW2FdOwogICAgICAgICAgICBjeSA9IHkgKyBhcmdzW2EgKyAxXTsKICAgICAgICAgICAgeCArPSBhcmdzW2EgKyAyXTsKICAgICAgICAgICAgeSArPSBhcmdzW2EgKyAzXTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGN4ID0gYXJnc1thXTsKICAgICAgICAgICAgY3kgPSBhcmdzW2EgKyAxXTsKICAgICAgICAgICAgeCA9IGFyZ3NbYSArIDJdOwogICAgICAgICAgICB5ID0gYXJnc1thICsgM107CiAgICAgICAgICB9CgogICAgICAgICAgbm9ybWFsaXplZCArPSBbIlEiLCBjeCwgY3ksIHgsIHksICcnXS5qb2luKCIgIik7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGxvcCA9PT0gInQiKSB7CiAgICAgICAgZm9yIChhID0gMDsgYSA8IGFsZW47IGEgKz0gMikgewogICAgICAgICAgLy8gcmVmbGVjdCBwcmV2aW91cyBjeC9jeSBvdmVyIHgveQogICAgICAgICAgY3ggPSB4ICsgKHggLSBjeCk7CiAgICAgICAgICBjeSA9IHkgKyAoeSAtIGN5KTsgLy8gdGhlbiBnZXQgcmVhbCBlbmQgcG9pbnQKCiAgICAgICAgICBpZiAob3AgPT09ICJ0IikgewogICAgICAgICAgICB4ICs9IGFyZ3NbYV07CiAgICAgICAgICAgIHkgKz0gYXJnc1thICsgMV07CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB4ID0gYXJnc1thXTsKICAgICAgICAgICAgeSA9IGFyZ3NbYSArIDFdOwogICAgICAgICAgfQoKICAgICAgICAgIG5vcm1hbGl6ZWQgKz0gWyJRIiwgY3gsIGN5LCB4LCB5LCAnJ10uam9pbigiICIpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChsb3AgPT09ICJjIikgewogICAgICAgIC8vIGN1YmljIGN1cnZldG8gY29tbWFuZHMKICAgICAgICBmb3IgKGEgPSAwOyBhIDwgYWxlbjsgYSArPSA2KSB7CiAgICAgICAgICBpZiAob3AgPT09ICJjIikgewogICAgICAgICAgICBjeCA9IHggKyBhcmdzW2FdOwogICAgICAgICAgICBjeSA9IHkgKyBhcmdzW2EgKyAxXTsKICAgICAgICAgICAgY3gyID0geCArIGFyZ3NbYSArIDJdOwogICAgICAgICAgICBjeTIgPSB5ICsgYXJnc1thICsgM107CiAgICAgICAgICAgIHggKz0gYXJnc1thICsgNF07CiAgICAgICAgICAgIHkgKz0gYXJnc1thICsgNV07CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjeCA9IGFyZ3NbYV07CiAgICAgICAgICAgIGN5ID0gYXJnc1thICsgMV07CiAgICAgICAgICAgIGN4MiA9IGFyZ3NbYSArIDJdOwogICAgICAgICAgICBjeTIgPSBhcmdzW2EgKyAzXTsKICAgICAgICAgICAgeCA9IGFyZ3NbYSArIDRdOwogICAgICAgICAgICB5ID0gYXJnc1thICsgNV07CiAgICAgICAgICB9CgogICAgICAgICAgbm9ybWFsaXplZCArPSBbIkMiLCBjeCwgY3ksIGN4MiwgY3kyLCB4LCB5LCAnJ10uam9pbigiICIpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChsb3AgPT09ICJzIikgewogICAgICAgIGZvciAoYSA9IDA7IGEgPCBhbGVuOyBhICs9IDQpIHsKICAgICAgICAgIC8vIHJlZmxlY3QgcHJldmlvdXMgY3gyL2N5MiBvdmVyIHgveQogICAgICAgICAgY3ggPSB4ICsgKHggLSBjeDIpOwogICAgICAgICAgY3kgPSB5ICsgKHkgLSBjeTIpOyAvLyB0aGVuIGdldCByZWFsIGNvbnRyb2wgYW5kIGVuZCBwb2ludAoKICAgICAgICAgIGlmIChvcCA9PT0gInMiKSB7CiAgICAgICAgICAgIGN4MiA9IHggKyBhcmdzW2FdOwogICAgICAgICAgICBjeTIgPSB5ICsgYXJnc1thICsgMV07CiAgICAgICAgICAgIHggKz0gYXJnc1thICsgMl07CiAgICAgICAgICAgIHkgKz0gYXJnc1thICsgM107CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjeDIgPSBhcmdzW2FdOwogICAgICAgICAgICBjeTIgPSBhcmdzW2EgKyAxXTsKICAgICAgICAgICAgeCA9IGFyZ3NbYSArIDJdOwogICAgICAgICAgICB5ID0gYXJnc1thICsgM107CiAgICAgICAgICB9CgogICAgICAgICAgbm9ybWFsaXplZCArPSBbIkMiLCBjeCwgY3ksIGN4MiwgY3kyLCB4LCB5LCAnJ10uam9pbigiICIpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChsb3AgPT09ICJ6IikgewogICAgICAgIG5vcm1hbGl6ZWQgKz0gIlogIjsgLy8gbm90IHVuaW1wb3J0YW50OiBwYXRoIGNsb3NpbmcgY2hhbmdlcyB0aGUgY3VycmVudCB4L3kgY29vcmRpbmF0ZQoKICAgICAgICB4ID0gc3g7CiAgICAgICAgeSA9IHN5OwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG5vcm1hbGl6ZWQudHJpbSgpOwogIH0KCiAgbW9kdWxlLmV4cG9ydHMgPSBub3JtYWxpemVQYXRoOwogIC8qKiovCn0KLyoqKioqKi8KXSk7CgpmdW5jdGlvbiBkb3Rwcm9kdWN0KHgsIHkpIHsKICBmdW5jdGlvbiBkb3RwX3N1bShhLCBiKSB7CiAgICByZXR1cm4gYSArIGI7CiAgfQoKICBmdW5jdGlvbiBkb3RwX3RpbWVzKGEsIGkpIHsKICAgIHJldHVybiB4W2ldICogeVtpXTsKICB9CgogIGlmICh4Lmxlbmd0aCAhPSB5Lmxlbmd0aCkgdGhyb3cgImNhbid0IGZpbmQgZG90IHByb2R1Y3Q6IGFycmF5cyBoYXZlIGRpZmZlcmVudCBsZW5ndGhzIjsKICByZXR1cm4geC5tYXAoZG90cF90aW1lcykucmVkdWNlKGRvdHBfc3VtLCAwKTsKfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWNvbnN0CgoKdmFyIHRyYW5zZm9ybSA9IGZ1bmN0aW9uIHRyYW5zZm9ybShlbGVtZW50LCBwb2ludCkgewogIHJldHVybiBwb2ludDsKfTsKCmNyZWF0ZVBvaW50QXRMb2NhdGlvbiA9IGZ1bmN0aW9uIGNyZWF0ZVBvaW50QXRMb2NhdGlvbihsYXQsIGxvbiwgYWx0KSB7CiAgcmV0dXJuIEdLVXRpbHMud29ybGRGcm9tTGF0TG9uKGxhdCwgbG9uLCBhbHQpOwp9OwoKbGVycEJldHdlZW5Qb2ludHMgPSBmdW5jdGlvbiBsZXJwQmV0d2VlblBvaW50cyhwMCwgcDEsIHBlcmNlbnQpIHsKICB2YXIgeCA9IChwMVswXSAtIHAwWzBdKSAqIHBlcmNlbnQgKyBwMFswXTsKICB2YXIgeSA9IChwMVsxXSAtIHAwWzFdKSAqIHBlcmNlbnQgKyBwMFsxXTsKICB2YXIgeiA9IChwMVsyXSAtIHAwWzJdKSAqIHBlcmNlbnQgKyBwMFsyXTsKICByZXR1cm4gW3gsIHksIHpdOwp9OwoKZ2V0UG9pbnRPbkN1YmljQmV6aWVyID0gZnVuY3Rpb24gZ2V0UG9pbnRPbkN1YmljQmV6aWVyKHQsIGNwKSB7CiAgdmFyIGIwID0gTWF0aC5wb3coMSAtIHQsIDMpOwogIHZhciBiMSA9IDMgKiB0ICogTWF0aC5wb3coMSAtIHQsIDIpOwogIHZhciBiMiA9IDMgKiAoMSAtIHQpICogTWF0aC5wb3codCwgMik7CiAgdmFyIGIzID0gTWF0aC5wb3codCwgMyk7CiAgcmV0dXJuIGIwICogY3BbMF0gKyBiMSAqIGNwWzFdICsgYjIgKiBjcFsyXSArIGIzICogY3BbM107Cn07CgpjcmVhdGVBcmNCZXR3ZWVuQ29vcmRzID0gZnVuY3Rpb24gY3JlYXRlQXJjQmV0d2VlbkNvb3JkcyhzdGFydCwgZW5kKSB7CiAgdmFyIHMgPSBHS1V0aWxzLndvcmxkRnJvbUxhdExvbihzdGFydFswXSwgc3RhcnRbMV0sIDAuMCk7CiAgdmFyIGUgPSBHS1V0aWxzLndvcmxkRnJvbUxhdExvbihlbmRbMF0sIGVuZFsxXSwgMC4wKTsKICB2YXIgc2ltdWxhcml0eSA9IDEuMCAtIChkb3Rwcm9kdWN0KHMsIGUpICsgMS4wKSAvIDIuMDsKICB2YXIgbWlkcG9pbnQgPSBjcmVhdGUkMSgpOwogIGxlcnAobWlkcG9pbnQsIHMsIGUsIDAuNSk7CiAgdmFyIG0gPSBHS1V0aWxzLmxhdExvbkZyb21Xb3JsZChtaWRwb2ludCk7CiAgY29uc29sZS5sb2coIk1JRCIsIG0pOwogIG0gPSBHS1V0aWxzLndvcmxkRnJvbUxhdExvbihtLmxhdCwgbS5sb24sIDAuNSk7IC8vIHZlYzMuc2NhbGUobWlkcG9pbnQsIG1pZHBvaW50LCAxLjApOwoKICB2YXIgZGlyID0gY3JlYXRlJDEoKTsKICBub3JtYWxpemUoZGlyLCBzdWJ0cmFjdChkaXIsIG0sIHMpKTsKICBjb25zb2xlLmxvZyhzLCBlKTsKICB2YXIgcGxhbmVWZWN0b3IgPSBjcmVhdGUkMSgpOwogIGNyb3NzKHBsYW5lVmVjdG9yLCBtLCBzKTsKICB2YXIgbm9ybWFsID0gY3JlYXRlJDEoKTsKICBjcm9zcyhub3JtYWwsIHBsYW5lVmVjdG9yLCBkaXIpOwogIHZhciBzTm9ybWFsMCA9IGNyZWF0ZSQxKCk7CiAgc2NhbGUoc05vcm1hbDAsIG5vcm1hbCwgMC41KTsKICB2YXIgc05vcm1hbDEgPSBjcmVhdGUkMSgpOwogIHNjYWxlKHNOb3JtYWwxLCBub3JtYWwsIDAuMCk7CiAgdmFyIHQwID0gY3JlYXRlJDEoKTsKICBsZXJwKHQwLCBzLCBtLCAwLjI1KTsKICBhZGQodDAsIHQwLCBzTm9ybWFsMCk7CiAgdmFyIHQxID0gY3JlYXRlJDEoKTsKICBsZXJwKHQxLCBzLCBtLCAxLjApOwogIGFkZCh0MSwgdDEsIHNOb3JtYWwxKTsgLy8gY29uc3QgcDEgPSBsZXJwQmV0d2VlblBvaW50cyhwMCwgcDMsIDAuMTUpOwogIC8vIGNvbnN0IHAyID0gbGVycEJldHdlZW5Qb2ludHMocDAsIHAzLCAwLjM1KTsKCiAgdmFyIGNwID0gW107CiAgY3AucHVzaC5hcHBseShjcCwgX3RvQ29uc3VtYWJsZUFycmF5KHMpKTsKICBjcC5wdXNoLmFwcGx5KGNwLCBfdG9Db25zdW1hYmxlQXJyYXkodDApKTsgLy8gY3AucHVzaCguLi50MSk7CgogIGNwLnB1c2guYXBwbHkoY3AsIF90b0NvbnN1bWFibGVBcnJheShtKSk7CiAgY29uc29sZS5sb2cocywgdDAsIHQxLCBtKTsKICB2YXIgYzAgPSB7CiAgICB4OiBzWzBdLAogICAgeTogc1sxXSwKICAgIHo6IHNbMl0KICB9OwogIHZhciBjMSA9IHsKICAgIHg6IG1bMF0sCiAgICB5OiBtWzFdLAogICAgejogbVsyXQogIH07CiAgdmFyIGMyID0gewogICAgeDogZVswXSwKICAgIHk6IGVbMV0sCiAgICB6OiBlWzJdCiAgfTsgLy8gY29uc3QgYiA9IEJlemllci5jdWJpY0Zyb21Qb2ludHMoYzAsIGMxLCBjMiwgMC41KTsKCiAgdmFyIGIgPSBuZXcgQmV6aWVyKGNwKTsKICB2YXIgcCA9IGIuZ2V0TFVUKDUwKTsKICB2YXIgcG9pbnRzID0gW107CiAgcC5mb3JFYWNoKGZ1bmN0aW9uIChwb2ludCkgewogICAgcG9pbnRzLnB1c2guYXBwbHkocG9pbnRzLCBfdG9Db25zdW1hYmxlQXJyYXkoT2JqZWN0LnZhbHVlcyhwb2ludCkpKTsKICB9KTsKICBjb25zb2xlLmxvZyhwb2ludHMpOyAvLyBwb2ludHMucHVzaCguLi5wMCk7CiAgLy8gcG9pbnRzLnB1c2goLi4udDApOwogIC8vIHBvaW50cy5wdXNoKC4uLnQxKTsKICAvLyBwb2ludHMucHVzaCguLi5taWRwb2ludCk7CiAgLy8gcG9pbnRzLnB1c2goLi4uKTsKICAvLyBwb2ludHMucHVzaCguLi5taWRwb2ludCk7CgogIHJldHVybiBwb2ludHM7Cn07Cgpvbm1lc3NhZ2UgPSBmdW5jdGlvbiBvbm1lc3NhZ2UoZSkgewogIHZhciBkYXRhID0gZS5kYXRhLmRhdGE7CiAgdmFyIHR5cGUgPSBlLmRhdGEudHlwZTsKICBjb25zb2xlLmxvZyhlLmRhdGEpOwoKICBpZiAoZS5kYXRhLnRyYW5zZm9ybSAhPT0gdW5kZWZpbmVkKSB7CiAgICB0cnkgewogICAgICBpbXBvcnRTY3JpcHRzKGUuZGF0YS50cmFuc2Zvcm0pOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgfQogIH0KCiAgaWYgKHR5cGUgPT09ICdwb2ludCcpIHsKICAgIHZhciB2ZXJ0aWNlcyA9IHt9OwogICAgdmVydGljZXMucG9zaXRpb24gPSB7CiAgICAgIG51bUNvbXBvbmVudHM6IDMsCiAgICAgIGRhdGE6IFtdCiAgICB9OwogICAgdmVydGljZXMuY29sb3IgPSB7CiAgICAgIG51bUNvbXBvbmVudHM6IDQsCiAgICAgIGRhdGE6IFtdCiAgICB9OwogICAgdmVydGljZXMuc2l6ZSA9IHsKICAgICAgbnVtQ29tcG9uZW50czogMSwKICAgICAgZGF0YTogW10KICAgIH07CiAgICB2ZXJ0aWNlcy5pbmRpY2VzID0gewogICAgICBudW1Db21wb25lbnRzOiAxLAogICAgICBkYXRhOiBbXQogICAgfTsKICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCwgaW5kZXgpIHsKICAgICAgdmFyIF92ZXJ0aWNlcyRwb3NpdGlvbiRkYSwgX3ZlcnRpY2VzJGNvbG9yJGRhdGE7CgogICAgICAvLyBDcmVhdGUgcG9pbnQgZ2VvbWV0cnkgYXQgbG9jYXRpb24KICAgICAgdmFyIHBvaW50ID0gewogICAgICAgIGxhdDogZWxlbWVudC5sYXQsCiAgICAgICAgbG9uOiBlbGVtZW50LmxvbiwKICAgICAgICBhbHQ6IGVsZW1lbnQuYWx0LAogICAgICAgIGNvbG9yOiBbMS4wLCAxLjAsIDEuMCwgMS4wXSwKICAgICAgICBzaXplOiAxMC4wCiAgICAgIH07IC8vIFRyYW5zZm9ybSBnZW9tZXRyeSB1c2luZyBwcm92aWRlZCBmdW5jdGlvbgogICAgICAvLyBjb25zb2xlLmxvZyhlbGVtZW50LCBwb2ludCk7CgogICAgICBwb2ludCA9IHRyYW5zZm9ybShlbGVtZW50LCBwb2ludCk7CiAgICAgIHBvaW50LmNvb3JkcyA9IGNyZWF0ZVBvaW50QXRMb2NhdGlvbihwb2ludC5sYXQsIHBvaW50LmxvbiwgcG9pbnQuYWx0KTsKCiAgICAgIChfdmVydGljZXMkcG9zaXRpb24kZGEgPSB2ZXJ0aWNlcy5wb3NpdGlvbi5kYXRhKS5wdXNoLmFwcGx5KF92ZXJ0aWNlcyRwb3NpdGlvbiRkYSwgX3RvQ29uc3VtYWJsZUFycmF5KHBvaW50LmNvb3JkcykpOwoKICAgICAgKF92ZXJ0aWNlcyRjb2xvciRkYXRhID0gdmVydGljZXMuY29sb3IuZGF0YSkucHVzaC5hcHBseShfdmVydGljZXMkY29sb3IkZGF0YSwgX3RvQ29uc3VtYWJsZUFycmF5KHBvaW50LmNvbG9yKSk7CgogICAgICB2ZXJ0aWNlcy5zaXplLmRhdGEucHVzaChwb2ludC5zaXplKTsKICAgICAgdmVydGljZXMuaW5kaWNlcy5kYXRhLnB1c2goaW5kZXgpOwogICAgfSk7CiAgICBwb3N0TWVzc2FnZSh2ZXJ0aWNlcyk7CiAgfSBlbHNlIGlmICh0eXBlID09PSAncXVhZCcpIHsKICAgIGNvbnNvbGUubG9nKCdDcmVhdGUgUXVhZCcpOwogICAgY29uc29sZS5sb2coJ0RhdGFHZW8tUXVhZCcsIGRhdGEpOwogICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChlbCkgewogICAgICByZXR1cm4gY29uc29sZS5sb2coZWwpOwogICAgfSk7CiAgfSBlbHNlIGlmICh0eXBlID09PSAnYXJjJykgewogICAgdmFyIF92ZXJ0aWNlcyA9IHt9OwogICAgX3ZlcnRpY2VzLnBvc2l0aW9uID0gewogICAgICBudW1Db21wb25lbnRzOiAzLAogICAgICBkYXRhOiBbXQogICAgfTsKICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHsKICAgICAgdmFyIF92ZXJ0aWNlcyRwb3NpdGlvbiRkYTI7CgogICAgICB2YXIgZGVtb0FyYyA9IGNyZWF0ZUFyY0JldHdlZW5Db29yZHMoZWwuZnJvbSwgZWwudG8pOwoKICAgICAgKF92ZXJ0aWNlcyRwb3NpdGlvbiRkYTIgPSBfdmVydGljZXMucG9zaXRpb24uZGF0YSkucHVzaC5hcHBseShfdmVydGljZXMkcG9zaXRpb24kZGEyLCBfdG9Db25zdW1hYmxlQXJyYXkoZGVtb0FyYykpOwogICAgfSk7CiAgICBwb3N0TWVzc2FnZShfdmVydGljZXMpOwogIH0KfTsKCg==","data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YV9nZW8uanMiLCJzb3VyY2VzIjpbIndvcmtlcjovL3dlYi13b3JrZXIvc3JjL3RoaXJkcGFydHkvZ2wtbWF0cml4L2NvbW1vbi5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvc3JjL3RoaXJkcGFydHkvZ2wtbWF0cml4L21hdDMuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy90aGlyZHBhcnR5L2dsLW1hdHJpeC92ZWMzLmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9zcmMvdGhpcmRwYXJ0eS9nbC1tYXRyaXgvdmVjNC5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvc3JjL3RoaXJkcGFydHkvZ2wtbWF0cml4L3F1YXQuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy90aGlyZHBhcnR5L2dsLW1hdHJpeC92ZWMyLmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9zcmMvY29yZS91dGlscy5qcyIsIndvcmtlcjovL3dlYi13b3JrZXIvc3JjL3RoaXJkcGFydHkvYmV6aWVyLmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9zcmMvd29ya2Vycy9kYXRhX2dlby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29tbW9uIHV0aWxpdGllc1xyXG4gKiBAbW9kdWxlIGdsTWF0cml4XHJcbiAqL1xuLy8gQ29uZmlndXJhdGlvbiBDb25zdGFudHNcbmV4cG9ydCB2YXIgRVBTSUxPTiA9IDAuMDAwMDAxO1xuZXhwb3J0IHZhciBBUlJBWV9UWVBFID0gdHlwZW9mIEZsb2F0MzJBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBGbG9hdDMyQXJyYXkgOiBBcnJheTtcbmV4cG9ydCB2YXIgUkFORE9NID0gTWF0aC5yYW5kb207XG4vKipcclxuICogU2V0cyB0aGUgdHlwZSBvZiBhcnJheSB1c2VkIHdoZW4gY3JlYXRpbmcgbmV3IHZlY3RvcnMgYW5kIG1hdHJpY2VzXHJcbiAqXHJcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5Q29uc3RydWN0b3IgfCBBcnJheUNvbnN0cnVjdG9yfSB0eXBlIEFycmF5IHR5cGUsIHN1Y2ggYXMgRmxvYXQzMkFycmF5IG9yIEFycmF5XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0TWF0cml4QXJyYXlUeXBlKHR5cGUpIHtcbiAgQVJSQVlfVFlQRSA9IHR5cGU7XG59XG52YXIgZGVncmVlID0gTWF0aC5QSSAvIDE4MDtcbi8qKlxyXG4gKiBDb252ZXJ0IERlZ3JlZSBUbyBSYWRpYW5cclxuICpcclxuICogQHBhcmFtIHtOdW1iZXJ9IGEgQW5nbGUgaW4gRGVncmVlc1xyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRvUmFkaWFuKGEpIHtcbiAgcmV0dXJuIGEgKiBkZWdyZWU7XG59XG4vKipcclxuICogVGVzdHMgd2hldGhlciBvciBub3QgdGhlIGFyZ3VtZW50cyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgdmFsdWUsIHdpdGhpbiBhbiBhYnNvbHV0ZVxyXG4gKiBvciByZWxhdGl2ZSB0b2xlcmFuY2Ugb2YgZ2xNYXRyaXguRVBTSUxPTiAoYW4gYWJzb2x1dGUgdG9sZXJhbmNlIGlzIHVzZWQgZm9yIHZhbHVlcyBsZXNzXHJcbiAqIHRoYW4gb3IgZXF1YWwgdG8gMS4wLCBhbmQgYSByZWxhdGl2ZSB0b2xlcmFuY2UgaXMgdXNlZCBmb3IgbGFyZ2VyIHZhbHVlcylcclxuICpcclxuICogQHBhcmFtIHtOdW1iZXJ9IGEgVGhlIGZpcnN0IG51bWJlciB0byB0ZXN0LlxyXG4gKiBAcGFyYW0ge051bWJlcn0gYiBUaGUgc2Vjb25kIG51bWJlciB0byB0ZXN0LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbnVtYmVycyBhcmUgYXBwcm94aW1hdGVseSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBNYXRoLmFicyhhIC0gYikgPD0gRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYSksIE1hdGguYWJzKGIpKTtcbn1cbmlmICghTWF0aC5oeXBvdCkgTWF0aC5oeXBvdCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHkgPSAwLFxuICAgICAgaSA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cbiAgd2hpbGUgKGktLSkge1xuICAgIHkgKz0gYXJndW1lbnRzW2ldICogYXJndW1lbnRzW2ldO1xuICB9XG5cbiAgcmV0dXJuIE1hdGguc3FydCh5KTtcbn07IiwiaW1wb3J0ICogYXMgZ2xNYXRyaXggZnJvbSBcIi4vY29tbW9uLmpzXCI7XG4vKipcclxuICogM3gzIE1hdHJpeFxyXG4gKiBAbW9kdWxlIG1hdDNcclxuICovXG5cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IG1hdDNcclxuICpcclxuICogQHJldHVybnMge21hdDN9IGEgbmV3IDN4MyBtYXRyaXhcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg5KTtcblxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gICAgb3V0WzNdID0gMDtcbiAgICBvdXRbNV0gPSAwO1xuICAgIG91dFs2XSA9IDA7XG4gICAgb3V0WzddID0gMDtcbiAgfVxuXG4gIG91dFswXSA9IDE7XG4gIG91dFs0XSA9IDE7XG4gIG91dFs4XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ29waWVzIHRoZSB1cHBlci1sZWZ0IDN4MyB2YWx1ZXMgaW50byB0aGUgZ2l2ZW4gbWF0My5cclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyAzeDMgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhICAgdGhlIHNvdXJjZSA0eDQgbWF0cml4XHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tTWF0NChvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVs0XTtcbiAgb3V0WzRdID0gYVs1XTtcbiAgb3V0WzVdID0gYVs2XTtcbiAgb3V0WzZdID0gYVs4XTtcbiAgb3V0WzddID0gYVs5XTtcbiAgb3V0WzhdID0gYVsxMF07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyBtYXQzIGluaXRpYWxpemVkIHdpdGggdmFsdWVzIGZyb20gYW4gZXhpc3RpbmcgbWF0cml4XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIG1hdHJpeCB0byBjbG9uZVxyXG4gKiBAcmV0dXJucyB7bWF0M30gYSBuZXcgM3gzIG1hdHJpeFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGEpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDkpO1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICBvdXRbNF0gPSBhWzRdO1xuICBvdXRbNV0gPSBhWzVdO1xuICBvdXRbNl0gPSBhWzZdO1xuICBvdXRbN10gPSBhWzddO1xuICBvdXRbOF0gPSBhWzhdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSBtYXQzIHRvIGFub3RoZXJcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIHNvdXJjZSBtYXRyaXhcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIG91dFs0XSA9IGFbNF07XG4gIG91dFs1XSA9IGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlIGEgbmV3IG1hdDMgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMSBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAyIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDIgcG9zaXRpb24gKGluZGV4IDIpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTAgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMylcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMSBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA0KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEyIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDIgcG9zaXRpb24gKGluZGV4IDUpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggNilcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMSBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA3KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIyIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDIgcG9zaXRpb24gKGluZGV4IDgpXHJcbiAqIEByZXR1cm5zIHttYXQzfSBBIG5ldyBtYXQzXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyhtMDAsIG0wMSwgbTAyLCBtMTAsIG0xMSwgbTEyLCBtMjAsIG0yMSwgbTIyKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg5KTtcbiAgb3V0WzBdID0gbTAwO1xuICBvdXRbMV0gPSBtMDE7XG4gIG91dFsyXSA9IG0wMjtcbiAgb3V0WzNdID0gbTEwO1xuICBvdXRbNF0gPSBtMTE7XG4gIG91dFs1XSA9IG0xMjtcbiAgb3V0WzZdID0gbTIwO1xuICBvdXRbN10gPSBtMjE7XG4gIG91dFs4XSA9IG0yMjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSBtYXQzIHRvIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAzKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTExIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDEgcG9zaXRpb24gKGluZGV4IDQpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMCBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA2KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIxIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDEgcG9zaXRpb24gKGluZGV4IDcpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggOClcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIG0wMCwgbTAxLCBtMDIsIG0xMCwgbTExLCBtMTIsIG0yMCwgbTIxLCBtMjIpIHtcbiAgb3V0WzBdID0gbTAwO1xuICBvdXRbMV0gPSBtMDE7XG4gIG91dFsyXSA9IG0wMjtcbiAgb3V0WzNdID0gbTEwO1xuICBvdXRbNF0gPSBtMTE7XG4gIG91dFs1XSA9IG0xMjtcbiAgb3V0WzZdID0gbTIwO1xuICBvdXRbN10gPSBtMjE7XG4gIG91dFs4XSA9IG0yMjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBTZXQgYSBtYXQzIHRvIHRoZSBpZGVudGl0eSBtYXRyaXhcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KG91dCkge1xuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAxO1xuICBvdXRbNV0gPSAwO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFRyYW5zcG9zZSB0aGUgdmFsdWVzIG9mIGEgbWF0M1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgc291cmNlIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNwb3NlKG91dCwgYSkge1xuICAvLyBJZiB3ZSBhcmUgdHJhbnNwb3Npbmcgb3Vyc2VsdmVzIHdlIGNhbiBza2lwIGEgZmV3IHN0ZXBzIGJ1dCBoYXZlIHRvIGNhY2hlIHNvbWUgdmFsdWVzXG4gIGlmIChvdXQgPT09IGEpIHtcbiAgICB2YXIgYTAxID0gYVsxXSxcbiAgICAgICAgYTAyID0gYVsyXSxcbiAgICAgICAgYTEyID0gYVs1XTtcbiAgICBvdXRbMV0gPSBhWzNdO1xuICAgIG91dFsyXSA9IGFbNl07XG4gICAgb3V0WzNdID0gYTAxO1xuICAgIG91dFs1XSA9IGFbN107XG4gICAgb3V0WzZdID0gYTAyO1xuICAgIG91dFs3XSA9IGExMjtcbiAgfSBlbHNlIHtcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbM107XG4gICAgb3V0WzJdID0gYVs2XTtcbiAgICBvdXRbM10gPSBhWzFdO1xuICAgIG91dFs0XSA9IGFbNF07XG4gICAgb3V0WzVdID0gYVs3XTtcbiAgICBvdXRbNl0gPSBhWzJdO1xuICAgIG91dFs3XSA9IGFbNV07XG4gICAgb3V0WzhdID0gYVs4XTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogSW52ZXJ0cyBhIG1hdDNcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIHNvdXJjZSBtYXRyaXhcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGludmVydChvdXQsIGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXTtcbiAgdmFyIGExMCA9IGFbM10sXG4gICAgICBhMTEgPSBhWzRdLFxuICAgICAgYTEyID0gYVs1XTtcbiAgdmFyIGEyMCA9IGFbNl0sXG4gICAgICBhMjEgPSBhWzddLFxuICAgICAgYTIyID0gYVs4XTtcbiAgdmFyIGIwMSA9IGEyMiAqIGExMSAtIGExMiAqIGEyMTtcbiAgdmFyIGIxMSA9IC1hMjIgKiBhMTAgKyBhMTIgKiBhMjA7XG4gIHZhciBiMjEgPSBhMjEgKiBhMTAgLSBhMTEgKiBhMjA7IC8vIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnRcblxuICB2YXIgZGV0ID0gYTAwICogYjAxICsgYTAxICogYjExICsgYTAyICogYjIxO1xuXG4gIGlmICghZGV0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBkZXQgPSAxLjAgLyBkZXQ7XG4gIG91dFswXSA9IGIwMSAqIGRldDtcbiAgb3V0WzFdID0gKC1hMjIgKiBhMDEgKyBhMDIgKiBhMjEpICogZGV0O1xuICBvdXRbMl0gPSAoYTEyICogYTAxIC0gYTAyICogYTExKSAqIGRldDtcbiAgb3V0WzNdID0gYjExICogZGV0O1xuICBvdXRbNF0gPSAoYTIyICogYTAwIC0gYTAyICogYTIwKSAqIGRldDtcbiAgb3V0WzVdID0gKC1hMTIgKiBhMDAgKyBhMDIgKiBhMTApICogZGV0O1xuICBvdXRbNl0gPSBiMjEgKiBkZXQ7XG4gIG91dFs3XSA9ICgtYTIxICogYTAwICsgYTAxICogYTIwKSAqIGRldDtcbiAgb3V0WzhdID0gKGExMSAqIGEwMCAtIGEwMSAqIGExMCkgKiBkZXQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgYWRqdWdhdGUgb2YgYSBtYXQzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBzb3VyY2UgbWF0cml4XHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGpvaW50KG91dCwgYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdO1xuICB2YXIgYTEwID0gYVszXSxcbiAgICAgIGExMSA9IGFbNF0sXG4gICAgICBhMTIgPSBhWzVdO1xuICB2YXIgYTIwID0gYVs2XSxcbiAgICAgIGEyMSA9IGFbN10sXG4gICAgICBhMjIgPSBhWzhdO1xuICBvdXRbMF0gPSBhMTEgKiBhMjIgLSBhMTIgKiBhMjE7XG4gIG91dFsxXSA9IGEwMiAqIGEyMSAtIGEwMSAqIGEyMjtcbiAgb3V0WzJdID0gYTAxICogYTEyIC0gYTAyICogYTExO1xuICBvdXRbM10gPSBhMTIgKiBhMjAgLSBhMTAgKiBhMjI7XG4gIG91dFs0XSA9IGEwMCAqIGEyMiAtIGEwMiAqIGEyMDtcbiAgb3V0WzVdID0gYTAyICogYTEwIC0gYTAwICogYTEyO1xuICBvdXRbNl0gPSBhMTAgKiBhMjEgLSBhMTEgKiBhMjA7XG4gIG91dFs3XSA9IGEwMSAqIGEyMCAtIGEwMCAqIGEyMTtcbiAgb3V0WzhdID0gYTAwICogYTExIC0gYTAxICogYTEwO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGRldGVybWluYW50IG9mIGEgbWF0M1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgc291cmNlIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkZXRlcm1pbmFudCBvZiBhXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGV0ZXJtaW5hbnQoYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdO1xuICB2YXIgYTEwID0gYVszXSxcbiAgICAgIGExMSA9IGFbNF0sXG4gICAgICBhMTIgPSBhWzVdO1xuICB2YXIgYTIwID0gYVs2XSxcbiAgICAgIGEyMSA9IGFbN10sXG4gICAgICBhMjIgPSBhWzhdO1xuICByZXR1cm4gYTAwICogKGEyMiAqIGExMSAtIGExMiAqIGEyMSkgKyBhMDEgKiAoLWEyMiAqIGExMCArIGExMiAqIGEyMCkgKyBhMDIgKiAoYTIxICogYTEwIC0gYTExICogYTIwKTtcbn1cbi8qKlxyXG4gKiBNdWx0aXBsaWVzIHR3byBtYXQzJ3NcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXTtcbiAgdmFyIGExMCA9IGFbM10sXG4gICAgICBhMTEgPSBhWzRdLFxuICAgICAgYTEyID0gYVs1XTtcbiAgdmFyIGEyMCA9IGFbNl0sXG4gICAgICBhMjEgPSBhWzddLFxuICAgICAgYTIyID0gYVs4XTtcbiAgdmFyIGIwMCA9IGJbMF0sXG4gICAgICBiMDEgPSBiWzFdLFxuICAgICAgYjAyID0gYlsyXTtcbiAgdmFyIGIxMCA9IGJbM10sXG4gICAgICBiMTEgPSBiWzRdLFxuICAgICAgYjEyID0gYls1XTtcbiAgdmFyIGIyMCA9IGJbNl0sXG4gICAgICBiMjEgPSBiWzddLFxuICAgICAgYjIyID0gYls4XTtcbiAgb3V0WzBdID0gYjAwICogYTAwICsgYjAxICogYTEwICsgYjAyICogYTIwO1xuICBvdXRbMV0gPSBiMDAgKiBhMDEgKyBiMDEgKiBhMTEgKyBiMDIgKiBhMjE7XG4gIG91dFsyXSA9IGIwMCAqIGEwMiArIGIwMSAqIGExMiArIGIwMiAqIGEyMjtcbiAgb3V0WzNdID0gYjEwICogYTAwICsgYjExICogYTEwICsgYjEyICogYTIwO1xuICBvdXRbNF0gPSBiMTAgKiBhMDEgKyBiMTEgKiBhMTEgKyBiMTIgKiBhMjE7XG4gIG91dFs1XSA9IGIxMCAqIGEwMiArIGIxMSAqIGExMiArIGIxMiAqIGEyMjtcbiAgb3V0WzZdID0gYjIwICogYTAwICsgYjIxICogYTEwICsgYjIyICogYTIwO1xuICBvdXRbN10gPSBiMjAgKiBhMDEgKyBiMjEgKiBhMTEgKyBiMjIgKiBhMjE7XG4gIG91dFs4XSA9IGIyMCAqIGEwMiArIGIyMSAqIGExMiArIGIyMiAqIGEyMjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBUcmFuc2xhdGUgYSBtYXQzIGJ5IHRoZSBnaXZlbiB2ZWN0b3JcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIG1hdHJpeCB0byB0cmFuc2xhdGVcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IHYgdmVjdG9yIHRvIHRyYW5zbGF0ZSBieVxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKG91dCwgYSwgdikge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTEwID0gYVszXSxcbiAgICAgIGExMSA9IGFbNF0sXG4gICAgICBhMTIgPSBhWzVdLFxuICAgICAgYTIwID0gYVs2XSxcbiAgICAgIGEyMSA9IGFbN10sXG4gICAgICBhMjIgPSBhWzhdLFxuICAgICAgeCA9IHZbMF0sXG4gICAgICB5ID0gdlsxXTtcbiAgb3V0WzBdID0gYTAwO1xuICBvdXRbMV0gPSBhMDE7XG4gIG91dFsyXSA9IGEwMjtcbiAgb3V0WzNdID0gYTEwO1xuICBvdXRbNF0gPSBhMTE7XG4gIG91dFs1XSA9IGExMjtcbiAgb3V0WzZdID0geCAqIGEwMCArIHkgKiBhMTAgKyBhMjA7XG4gIG91dFs3XSA9IHggKiBhMDEgKyB5ICogYTExICsgYTIxO1xuICBvdXRbOF0gPSB4ICogYTAyICsgeSAqIGExMiArIGEyMjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSb3RhdGVzIGEgbWF0MyBieSB0aGUgZ2l2ZW4gYW5nbGVcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZShvdXQsIGEsIHJhZCkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTEwID0gYVszXSxcbiAgICAgIGExMSA9IGFbNF0sXG4gICAgICBhMTIgPSBhWzVdLFxuICAgICAgYTIwID0gYVs2XSxcbiAgICAgIGEyMSA9IGFbN10sXG4gICAgICBhMjIgPSBhWzhdLFxuICAgICAgcyA9IE1hdGguc2luKHJhZCksXG4gICAgICBjID0gTWF0aC5jb3MocmFkKTtcbiAgb3V0WzBdID0gYyAqIGEwMCArIHMgKiBhMTA7XG4gIG91dFsxXSA9IGMgKiBhMDEgKyBzICogYTExO1xuICBvdXRbMl0gPSBjICogYTAyICsgcyAqIGExMjtcbiAgb3V0WzNdID0gYyAqIGExMCAtIHMgKiBhMDA7XG4gIG91dFs0XSA9IGMgKiBhMTEgLSBzICogYTAxO1xuICBvdXRbNV0gPSBjICogYTEyIC0gcyAqIGEwMjtcbiAgb3V0WzZdID0gYTIwO1xuICBvdXRbN10gPSBhMjE7XG4gIG91dFs4XSA9IGEyMjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBTY2FsZXMgdGhlIG1hdDMgYnkgdGhlIGRpbWVuc2lvbnMgaW4gdGhlIGdpdmVuIHZlYzJcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IHYgdGhlIHZlYzIgdG8gc2NhbGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgdikge1xuICB2YXIgeCA9IHZbMF0sXG4gICAgICB5ID0gdlsxXTtcbiAgb3V0WzBdID0geCAqIGFbMF07XG4gIG91dFsxXSA9IHggKiBhWzFdO1xuICBvdXRbMl0gPSB4ICogYVsyXTtcbiAgb3V0WzNdID0geSAqIGFbM107XG4gIG91dFs0XSA9IHkgKiBhWzRdO1xuICBvdXRbNV0gPSB5ICogYVs1XTtcbiAgb3V0WzZdID0gYVs2XTtcbiAgb3V0WzddID0gYVs3XTtcbiAgb3V0WzhdID0gYVs4XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSB2ZWN0b3IgdHJhbnNsYXRpb25cclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQzLmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0My50cmFuc2xhdGUoZGVzdCwgZGVzdCwgdmVjKTtcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgbWF0MyByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21UcmFuc2xhdGlvbihvdXQsIHYpIHtcbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMTtcbiAgb3V0WzVdID0gMDtcbiAgb3V0WzZdID0gdlswXTtcbiAgb3V0WzddID0gdlsxXTtcbiAgb3V0WzhdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBnaXZlbiBhbmdsZVxyXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcclxuICpcclxuICogICAgIG1hdDMuaWRlbnRpdHkoZGVzdCk7XHJcbiAqICAgICBtYXQzLnJvdGF0ZShkZXN0LCBkZXN0LCByYWQpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpLFxuICAgICAgYyA9IE1hdGguY29zKHJhZCk7XG4gIG91dFswXSA9IGM7XG4gIG91dFsxXSA9IHM7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IC1zO1xuICBvdXRbNF0gPSBjO1xuICBvdXRbNV0gPSAwO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHZlY3RvciBzY2FsaW5nXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0My5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDMuc2NhbGUoZGVzdCwgZGVzdCwgdmVjKTtcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgbWF0MyByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gdiBTY2FsaW5nIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVNjYWxpbmcob3V0LCB2KSB7XG4gIG91dFswXSA9IHZbMF07XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IHZbMV07XG4gIG91dFs1XSA9IDA7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ29waWVzIHRoZSB2YWx1ZXMgZnJvbSBhIG1hdDJkIGludG8gYSBtYXQzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyZH0gYSB0aGUgbWF0cml4IHRvIGNvcHlcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKiovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tTWF0MmQob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IGFbMl07XG4gIG91dFs0XSA9IGFbM107XG4gIG91dFs1XSA9IDA7XG4gIG91dFs2XSA9IGFbNF07XG4gIG91dFs3XSA9IGFbNV07XG4gIG91dFs4XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ2FsY3VsYXRlcyBhIDN4MyBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gcXVhdGVybmlvblxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIFF1YXRlcm5pb24gdG8gY3JlYXRlIG1hdHJpeCBmcm9tXHJcbiAqXHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUXVhdChvdXQsIHEpIHtcbiAgdmFyIHggPSBxWzBdLFxuICAgICAgeSA9IHFbMV0sXG4gICAgICB6ID0gcVsyXSxcbiAgICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB5eCA9IHkgKiB4MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgenggPSB6ICogeDI7XG4gIHZhciB6eSA9IHogKiB5MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICBvdXRbMF0gPSAxIC0geXkgLSB6ejtcbiAgb3V0WzNdID0geXggLSB3ejtcbiAgb3V0WzZdID0genggKyB3eTtcbiAgb3V0WzFdID0geXggKyB3ejtcbiAgb3V0WzRdID0gMSAtIHh4IC0geno7XG4gIG91dFs3XSA9IHp5IC0gd3g7XG4gIG91dFsyXSA9IHp4IC0gd3k7XG4gIG91dFs1XSA9IHp5ICsgd3g7XG4gIG91dFs4XSA9IDEgLSB4eCAtIHl5O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgYSAzeDMgbm9ybWFsIG1hdHJpeCAodHJhbnNwb3NlIGludmVyc2UpIGZyb20gdGhlIDR4NCBtYXRyaXhcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgbWF0MyByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBNYXQ0IHRvIGRlcml2ZSB0aGUgbm9ybWFsIG1hdHJpeCBmcm9tXHJcbiAqXHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxGcm9tTWF0NChvdXQsIGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXSxcbiAgICAgIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdLFxuICAgICAgYTExID0gYVs1XSxcbiAgICAgIGExMiA9IGFbNl0sXG4gICAgICBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XSxcbiAgICAgIGEyMSA9IGFbOV0sXG4gICAgICBhMjIgPSBhWzEwXSxcbiAgICAgIGEyMyA9IGFbMTFdO1xuICB2YXIgYTMwID0gYVsxMl0sXG4gICAgICBhMzEgPSBhWzEzXSxcbiAgICAgIGEzMiA9IGFbMTRdLFxuICAgICAgYTMzID0gYVsxNV07XG4gIHZhciBiMDAgPSBhMDAgKiBhMTEgLSBhMDEgKiBhMTA7XG4gIHZhciBiMDEgPSBhMDAgKiBhMTIgLSBhMDIgKiBhMTA7XG4gIHZhciBiMDIgPSBhMDAgKiBhMTMgLSBhMDMgKiBhMTA7XG4gIHZhciBiMDMgPSBhMDEgKiBhMTIgLSBhMDIgKiBhMTE7XG4gIHZhciBiMDQgPSBhMDEgKiBhMTMgLSBhMDMgKiBhMTE7XG4gIHZhciBiMDUgPSBhMDIgKiBhMTMgLSBhMDMgKiBhMTI7XG4gIHZhciBiMDYgPSBhMjAgKiBhMzEgLSBhMjEgKiBhMzA7XG4gIHZhciBiMDcgPSBhMjAgKiBhMzIgLSBhMjIgKiBhMzA7XG4gIHZhciBiMDggPSBhMjAgKiBhMzMgLSBhMjMgKiBhMzA7XG4gIHZhciBiMDkgPSBhMjEgKiBhMzIgLSBhMjIgKiBhMzE7XG4gIHZhciBiMTAgPSBhMjEgKiBhMzMgLSBhMjMgKiBhMzE7XG4gIHZhciBiMTEgPSBhMjIgKiBhMzMgLSBhMjMgKiBhMzI7IC8vIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnRcblxuICB2YXIgZGV0ID0gYjAwICogYjExIC0gYjAxICogYjEwICsgYjAyICogYjA5ICsgYjAzICogYjA4IC0gYjA0ICogYjA3ICsgYjA1ICogYjA2O1xuXG4gIGlmICghZGV0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBkZXQgPSAxLjAgLyBkZXQ7XG4gIG91dFswXSA9IChhMTEgKiBiMTEgLSBhMTIgKiBiMTAgKyBhMTMgKiBiMDkpICogZGV0O1xuICBvdXRbMV0gPSAoYTEyICogYjA4IC0gYTEwICogYjExIC0gYTEzICogYjA3KSAqIGRldDtcbiAgb3V0WzJdID0gKGExMCAqIGIxMCAtIGExMSAqIGIwOCArIGExMyAqIGIwNikgKiBkZXQ7XG4gIG91dFszXSA9IChhMDIgKiBiMTAgLSBhMDEgKiBiMTEgLSBhMDMgKiBiMDkpICogZGV0O1xuICBvdXRbNF0gPSAoYTAwICogYjExIC0gYTAyICogYjA4ICsgYTAzICogYjA3KSAqIGRldDtcbiAgb3V0WzVdID0gKGEwMSAqIGIwOCAtIGEwMCAqIGIxMCAtIGEwMyAqIGIwNikgKiBkZXQ7XG4gIG91dFs2XSA9IChhMzEgKiBiMDUgLSBhMzIgKiBiMDQgKyBhMzMgKiBiMDMpICogZGV0O1xuICBvdXRbN10gPSAoYTMyICogYjAyIC0gYTMwICogYjA1IC0gYTMzICogYjAxKSAqIGRldDtcbiAgb3V0WzhdID0gKGEzMCAqIGIwNCAtIGEzMSAqIGIwMiArIGEzMyAqIGIwMCkgKiBkZXQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogR2VuZXJhdGVzIGEgMkQgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cclxuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIFdpZHRoIG9mIHlvdXIgZ2wgY29udGV4dFxyXG4gKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IEhlaWdodCBvZiBnbCBjb250ZXh0XHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9qZWN0aW9uKG91dCwgd2lkdGgsIGhlaWdodCkge1xuICBvdXRbMF0gPSAyIC8gd2lkdGg7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IC0yIC8gaGVpZ2h0O1xuICBvdXRbNV0gPSAwO1xuICBvdXRbNl0gPSAtMTtcbiAgb3V0WzddID0gMTtcbiAgb3V0WzhdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgbWF0M1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSBtYXRyaXggdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwibWF0MyhcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIiwgXCIgKyBhWzRdICsgXCIsIFwiICsgYVs1XSArIFwiLCBcIiArIGFbNl0gKyBcIiwgXCIgKyBhWzddICsgXCIsIFwiICsgYVs4XSArIFwiKVwiO1xufVxuLyoqXHJcbiAqIFJldHVybnMgRnJvYmVuaXVzIG5vcm0gb2YgYSBtYXQzXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBtYXRyaXggdG8gY2FsY3VsYXRlIEZyb2Jlbml1cyBub3JtIG9mXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IEZyb2Jlbml1cyBub3JtXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvYihhKSB7XG4gIHJldHVybiBNYXRoLmh5cG90KGFbMF0sIGFbMV0sIGFbMl0sIGFbM10sIGFbNF0sIGFbNV0sIGFbNl0sIGFbN10sIGFbOF0pO1xufVxuLyoqXHJcbiAqIEFkZHMgdHdvIG1hdDMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgb3V0WzNdID0gYVszXSArIGJbM107XG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdO1xuICBvdXRbNV0gPSBhWzVdICsgYls1XTtcbiAgb3V0WzZdID0gYVs2XSArIGJbNl07XG4gIG91dFs3XSA9IGFbN10gKyBiWzddO1xuICBvdXRbOF0gPSBhWzhdICsgYls4XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBTdWJ0cmFjdHMgbWF0cml4IGIgZnJvbSBtYXRyaXggYVxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xuICBvdXRbM10gPSBhWzNdIC0gYlszXTtcbiAgb3V0WzRdID0gYVs0XSAtIGJbNF07XG4gIG91dFs1XSA9IGFbNV0gLSBiWzVdO1xuICBvdXRbNl0gPSBhWzZdIC0gYls2XTtcbiAgb3V0WzddID0gYVs3XSAtIGJbN107XG4gIG91dFs4XSA9IGFbOF0gLSBiWzhdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIE11bHRpcGx5IGVhY2ggZWxlbWVudCBvZiB0aGUgbWF0cml4IGJ5IGEgc2NhbGFyLlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgbWF0cml4IHRvIHNjYWxlXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgbWF0cml4J3MgZWxlbWVudHMgYnlcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIG91dFsyXSA9IGFbMl0gKiBiO1xuICBvdXRbM10gPSBhWzNdICogYjtcbiAgb3V0WzRdID0gYVs0XSAqIGI7XG4gIG91dFs1XSA9IGFbNV0gKiBiO1xuICBvdXRbNl0gPSBhWzZdICogYjtcbiAgb3V0WzddID0gYVs3XSAqIGI7XG4gIG91dFs4XSA9IGFbOF0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIEFkZHMgdHdvIG1hdDMncyBhZnRlciBtdWx0aXBseWluZyBlYWNoIGVsZW1lbnQgb2YgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYidzIGVsZW1lbnRzIGJ5IGJlZm9yZSBhZGRpbmdcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcbiAgb3V0WzNdID0gYVszXSArIGJbM10gKiBzY2FsZTtcbiAgb3V0WzRdID0gYVs0XSArIGJbNF0gKiBzY2FsZTtcbiAgb3V0WzVdID0gYVs1XSArIGJbNV0gKiBzY2FsZTtcbiAgb3V0WzZdID0gYVs2XSArIGJbNl0gKiBzY2FsZTtcbiAgb3V0WzddID0gYVs3XSArIGJbN10gKiBzY2FsZTtcbiAgb3V0WzhdID0gYVs4XSArIGJbOF0gKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIFRoZSBmaXJzdCBtYXRyaXguXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIFRoZSBzZWNvbmQgbWF0cml4LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl0gJiYgYVszXSA9PT0gYlszXSAmJiBhWzRdID09PSBiWzRdICYmIGFbNV0gPT09IGJbNV0gJiYgYVs2XSA9PT0gYls2XSAmJiBhWzddID09PSBiWzddICYmIGFbOF0gPT09IGJbOF07XG59XG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgbWF0cmljZXMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSBUaGUgZmlyc3QgbWF0cml4LlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYiBUaGUgc2Vjb25kIG1hdHJpeC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl0sXG4gICAgICBhMyA9IGFbM10sXG4gICAgICBhNCA9IGFbNF0sXG4gICAgICBhNSA9IGFbNV0sXG4gICAgICBhNiA9IGFbNl0sXG4gICAgICBhNyA9IGFbN10sXG4gICAgICBhOCA9IGFbOF07XG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV0sXG4gICAgICBiMiA9IGJbMl0sXG4gICAgICBiMyA9IGJbM10sXG4gICAgICBiNCA9IGJbNF0sXG4gICAgICBiNSA9IGJbNV0sXG4gICAgICBiNiA9IGJbNl0sXG4gICAgICBiNyA9IGJbN10sXG4gICAgICBiOCA9IGJbOF07XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKSAmJiBNYXRoLmFicyhhMyAtIGIzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMyksIE1hdGguYWJzKGIzKSkgJiYgTWF0aC5hYnMoYTQgLSBiNCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTQpLCBNYXRoLmFicyhiNCkpICYmIE1hdGguYWJzKGE1IC0gYjUpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE1KSwgTWF0aC5hYnMoYjUpKSAmJiBNYXRoLmFicyhhNiAtIGI2KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNiksIE1hdGguYWJzKGI2KSkgJiYgTWF0aC5hYnMoYTcgLSBiNykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTcpLCBNYXRoLmFicyhiNykpICYmIE1hdGguYWJzKGE4IC0gYjgpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE4KSwgTWF0aC5hYnMoYjgpKTtcbn1cbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDMubXVsdGlwbHl9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDMuc3VidHJhY3R9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDsiLCJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbi8qKlxyXG4gKiAzIERpbWVuc2lvbmFsIFZlY3RvclxyXG4gKiBAbW9kdWxlIHZlYzNcclxuICovXG5cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3LCBlbXB0eSB2ZWMzXHJcbiAqXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBhIG5ldyAzRCB2ZWN0b3JcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcblxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMF0gPSAwO1xuICAgIG91dFsxXSA9IDA7XG4gICAgb3V0WzJdID0gMDtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyB2ZWMzIGluaXRpYWxpemVkIHdpdGggdmFsdWVzIGZyb20gYW4gZXhpc3RpbmcgdmVjdG9yXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjbG9uZVxyXG4gKiBAcmV0dXJucyB7dmVjM30gYSBuZXcgM0QgdmVjdG9yXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgdmVjM1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIGxlbmd0aCBvZlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxlbmd0aChhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHJldHVybiBNYXRoLmh5cG90KHgsIHksIHopO1xufVxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMyBpbml0aWFsaXplZCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcclxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMoeCwgeSwgeikge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIHZlYzMgdG8gYW5vdGhlclxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgc291cmNlIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzIHRvIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIHgsIHksIHopIHtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgb3V0WzJdID0gejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBBZGRzIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogU3VidHJhY3RzIHZlY3RvciBiIGZyb20gdmVjdG9yIGFcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBNdWx0aXBsaWVzIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKiBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICogYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBEaXZpZGVzIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGUob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC8gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAvIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogTWF0aC5jZWlsIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2VpbFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2VpbChvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5jZWlsKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLmNlaWwoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguY2VpbChhWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBNYXRoLmZsb29yIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gZmxvb3JcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZsb29yKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmZsb29yKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLmZsb29yKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLmZsb29yKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJldHVybnMgdGhlIG1pbmltdW0gb2YgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1pbihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5taW4oYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWluKGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1pbihhWzJdLCBiWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBtYXhpbXVtIG9mIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtYXgob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IE1hdGgubWF4KGFbMF0sIGJbMF0pO1xuICBvdXRbMV0gPSBNYXRoLm1heChhWzFdLCBiWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5tYXgoYVsyXSwgYlsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogTWF0aC5yb3VuZCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIHJvdW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3VuZChvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5yb3VuZChhWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5yb3VuZChhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5yb3VuZChhWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBTY2FsZXMgYSB2ZWMzIGJ5IGEgc2NhbGFyIG51bWJlclxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHNjYWxlXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgdmVjdG9yIGJ5XHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGI7XG4gIG91dFsxXSA9IGFbMV0gKiBiO1xuICBvdXRbMl0gPSBhWzJdICogYjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBBZGRzIHR3byB2ZWMzJ3MgYWZ0ZXIgc2NhbGluZyB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWVcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIgYnkgYmVmb3JlIGFkZGluZ1xyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGVBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3RhbmNlKGEsIGIpIHtcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcbiAgdmFyIHkgPSBiWzFdIC0gYVsxXTtcbiAgdmFyIHogPSBiWzJdIC0gYVsyXTtcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSwgeik7XG59XG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjMydzXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZShhLCBiKSB7XG4gIHZhciB4ID0gYlswXSAtIGFbMF07XG4gIHZhciB5ID0gYlsxXSAtIGFbMV07XG4gIHZhciB6ID0gYlsyXSAtIGFbMl07XG4gIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHo7XG59XG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBsZW5ndGggb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjYWxjdWxhdGUgc3F1YXJlZCBsZW5ndGggb2ZcclxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBsZW5ndGggb2YgYVxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWRMZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6O1xufVxuLyoqXHJcbiAqIE5lZ2F0ZXMgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBuZWdhdGVcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5lZ2F0ZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gLWFbMF07XG4gIG91dFsxXSA9IC1hWzFdO1xuICBvdXRbMl0gPSAtYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBpbnZlcnNlIG9mIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gaW52ZXJ0XHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnNlKG91dCwgYSkge1xuICBvdXRbMF0gPSAxLjAgLyBhWzBdO1xuICBvdXRbMV0gPSAxLjAgLyBhWzFdO1xuICBvdXRbMl0gPSAxLjAgLyBhWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIE5vcm1hbGl6ZSBhIHZlYzNcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIG5vcm1hbGl6ZVxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKG91dCwgYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICB2YXIgbGVuID0geCAqIHggKyB5ICogeSArIHogKiB6O1xuXG4gIGlmIChsZW4gPiAwKSB7XG4gICAgLy9UT0RPOiBldmFsdWF0ZSB1c2Ugb2YgZ2xtX2ludnNxcnQgaGVyZT9cbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gIH1cblxuICBvdXRbMF0gPSBhWzBdICogbGVuO1xuICBvdXRbMV0gPSBhWzFdICogbGVuO1xuICBvdXRbMl0gPSBhWzJdICogbGVuO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGRvdCBwcm9kdWN0IG9mIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRvdCBwcm9kdWN0IG9mIGEgYW5kIGJcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkb3QoYSwgYikge1xuICByZXR1cm4gYVswXSAqIGJbMF0gKyBhWzFdICogYlsxXSArIGFbMl0gKiBiWzJdO1xufVxuLyoqXHJcbiAqIENvbXB1dGVzIHRoZSBjcm9zcyBwcm9kdWN0IG9mIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcm9zcyhvdXQsIGEsIGIpIHtcbiAgdmFyIGF4ID0gYVswXSxcbiAgICAgIGF5ID0gYVsxXSxcbiAgICAgIGF6ID0gYVsyXTtcbiAgdmFyIGJ4ID0gYlswXSxcbiAgICAgIGJ5ID0gYlsxXSxcbiAgICAgIGJ6ID0gYlsyXTtcbiAgb3V0WzBdID0gYXkgKiBieiAtIGF6ICogYnk7XG4gIG91dFsxXSA9IGF6ICogYnggLSBheCAqIGJ6O1xuICBvdXRbMl0gPSBheCAqIGJ5IC0gYXkgKiBieDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBQZXJmb3JtcyBhIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGVycChvdXQsIGEsIGIsIHQpIHtcbiAgdmFyIGF4ID0gYVswXTtcbiAgdmFyIGF5ID0gYVsxXTtcbiAgdmFyIGF6ID0gYVsyXTtcbiAgb3V0WzBdID0gYXggKyB0ICogKGJbMF0gLSBheCk7XG4gIG91dFsxXSA9IGF5ICsgdCAqIChiWzFdIC0gYXkpO1xuICBvdXRbMl0gPSBheiArIHQgKiAoYlsyXSAtIGF6KTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBQZXJmb3JtcyBhIGhlcm1pdGUgaW50ZXJwb2xhdGlvbiB3aXRoIHR3byBjb250cm9sIHBvaW50c1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGMgdGhlIHRoaXJkIG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGQgdGhlIGZvdXJ0aCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGhlcm1pdGUob3V0LCBhLCBiLCBjLCBkLCB0KSB7XG4gIHZhciBmYWN0b3JUaW1lczIgPSB0ICogdDtcbiAgdmFyIGZhY3RvcjEgPSBmYWN0b3JUaW1lczIgKiAoMiAqIHQgLSAzKSArIDE7XG4gIHZhciBmYWN0b3IyID0gZmFjdG9yVGltZXMyICogKHQgLSAyKSArIHQ7XG4gIHZhciBmYWN0b3IzID0gZmFjdG9yVGltZXMyICogKHQgLSAxKTtcbiAgdmFyIGZhY3RvcjQgPSBmYWN0b3JUaW1lczIgKiAoMyAtIDIgKiB0KTtcbiAgb3V0WzBdID0gYVswXSAqIGZhY3RvcjEgKyBiWzBdICogZmFjdG9yMiArIGNbMF0gKiBmYWN0b3IzICsgZFswXSAqIGZhY3RvcjQ7XG4gIG91dFsxXSA9IGFbMV0gKiBmYWN0b3IxICsgYlsxXSAqIGZhY3RvcjIgKyBjWzFdICogZmFjdG9yMyArIGRbMV0gKiBmYWN0b3I0O1xuICBvdXRbMl0gPSBhWzJdICogZmFjdG9yMSArIGJbMl0gKiBmYWN0b3IyICsgY1syXSAqIGZhY3RvcjMgKyBkWzJdICogZmFjdG9yNDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBQZXJmb3JtcyBhIGJlemllciBpbnRlcnBvbGF0aW9uIHdpdGggdHdvIGNvbnRyb2wgcG9pbnRzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYyB0aGUgdGhpcmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZCB0aGUgZm91cnRoIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYmV6aWVyKG91dCwgYSwgYiwgYywgZCwgdCkge1xuICB2YXIgaW52ZXJzZUZhY3RvciA9IDEgLSB0O1xuICB2YXIgaW52ZXJzZUZhY3RvclRpbWVzVHdvID0gaW52ZXJzZUZhY3RvciAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3JUaW1lczIgPSB0ICogdDtcbiAgdmFyIGZhY3RvcjEgPSBpbnZlcnNlRmFjdG9yVGltZXNUd28gKiBpbnZlcnNlRmFjdG9yO1xuICB2YXIgZmFjdG9yMiA9IDMgKiB0ICogaW52ZXJzZUZhY3RvclRpbWVzVHdvO1xuICB2YXIgZmFjdG9yMyA9IDMgKiBmYWN0b3JUaW1lczIgKiBpbnZlcnNlRmFjdG9yO1xuICB2YXIgZmFjdG9yNCA9IGZhY3RvclRpbWVzMiAqIHQ7XG4gIG91dFswXSA9IGFbMF0gKiBmYWN0b3IxICsgYlswXSAqIGZhY3RvcjIgKyBjWzBdICogZmFjdG9yMyArIGRbMF0gKiBmYWN0b3I0O1xuICBvdXRbMV0gPSBhWzFdICogZmFjdG9yMSArIGJbMV0gKiBmYWN0b3IyICsgY1sxXSAqIGZhY3RvcjMgKyBkWzFdICogZmFjdG9yNDtcbiAgb3V0WzJdID0gYVsyXSAqIGZhY3RvcjEgKyBiWzJdICogZmFjdG9yMiArIGNbMl0gKiBmYWN0b3IzICsgZFsyXSAqIGZhY3RvcjQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogR2VuZXJhdGVzIGEgcmFuZG9tIHZlY3RvciB3aXRoIHRoZSBnaXZlbiBzY2FsZVxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlXSBMZW5ndGggb2YgdGhlIHJlc3VsdGluZyB2ZWN0b3IuIElmIG9tbWl0dGVkLCBhIHVuaXQgdmVjdG9yIHdpbGwgYmUgcmV0dXJuZWRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbShvdXQsIHNjYWxlKSB7XG4gIHNjYWxlID0gc2NhbGUgfHwgMS4wO1xuICB2YXIgciA9IGdsTWF0cml4LlJBTkRPTSgpICogMi4wICogTWF0aC5QSTtcbiAgdmFyIHogPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIuMCAtIDEuMDtcbiAgdmFyIHpTY2FsZSA9IE1hdGguc3FydCgxLjAgLSB6ICogeikgKiBzY2FsZTtcbiAgb3V0WzBdID0gTWF0aC5jb3MocikgKiB6U2NhbGU7XG4gIG91dFsxXSA9IE1hdGguc2luKHIpICogelNjYWxlO1xuICBvdXRbMl0gPSB6ICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogVHJhbnNmb3JtcyB0aGUgdmVjMyB3aXRoIGEgbWF0NC5cclxuICogNHRoIHZlY3RvciBjb21wb25lbnQgaXMgaW1wbGljaXRseSAnMSdcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IG0gbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQ0KG91dCwgYSwgbSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdO1xuICB2YXIgdyA9IG1bM10gKiB4ICsgbVs3XSAqIHkgKyBtWzExXSAqIHogKyBtWzE1XTtcbiAgdyA9IHcgfHwgMS4wO1xuICBvdXRbMF0gPSAobVswXSAqIHggKyBtWzRdICogeSArIG1bOF0gKiB6ICsgbVsxMl0pIC8gdztcbiAgb3V0WzFdID0gKG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzldICogeiArIG1bMTNdKSAvIHc7XG4gIG91dFsyXSA9IChtWzJdICogeCArIG1bNl0gKiB5ICsgbVsxMF0gKiB6ICsgbVsxNF0pIC8gdztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBtYXQzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gbSB0aGUgM3gzIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0MyhvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXTtcbiAgb3V0WzBdID0geCAqIG1bMF0gKyB5ICogbVszXSArIHogKiBtWzZdO1xuICBvdXRbMV0gPSB4ICogbVsxXSArIHkgKiBtWzRdICsgeiAqIG1bN107XG4gIG91dFsyXSA9IHggKiBtWzJdICsgeSAqIG1bNV0gKyB6ICogbVs4XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBxdWF0XHJcbiAqIENhbiBhbHNvIGJlIHVzZWQgZm9yIGR1YWwgcXVhdGVybmlvbnMuIChNdWx0aXBseSBpdCB3aXRoIHRoZSByZWFsIHBhcnQpXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIHF1YXRlcm5pb24gdG8gdHJhbnNmb3JtIHdpdGhcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybVF1YXQob3V0LCBhLCBxKSB7XG4gIC8vIGJlbmNobWFya3M6IGh0dHBzOi8vanNwZXJmLmNvbS9xdWF0ZXJuaW9uLXRyYW5zZm9ybS12ZWMzLWltcGxlbWVudGF0aW9ucy1maXhlZFxuICB2YXIgcXggPSBxWzBdLFxuICAgICAgcXkgPSBxWzFdLFxuICAgICAgcXogPSBxWzJdLFxuICAgICAgcXcgPSBxWzNdO1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdOyAvLyB2YXIgcXZlYyA9IFtxeCwgcXksIHF6XTtcbiAgLy8gdmFyIHV2ID0gdmVjMy5jcm9zcyhbXSwgcXZlYywgYSk7XG5cbiAgdmFyIHV2eCA9IHF5ICogeiAtIHF6ICogeSxcbiAgICAgIHV2eSA9IHF6ICogeCAtIHF4ICogeixcbiAgICAgIHV2eiA9IHF4ICogeSAtIHF5ICogeDsgLy8gdmFyIHV1diA9IHZlYzMuY3Jvc3MoW10sIHF2ZWMsIHV2KTtcblxuICB2YXIgdXV2eCA9IHF5ICogdXZ6IC0gcXogKiB1dnksXG4gICAgICB1dXZ5ID0gcXogKiB1dnggLSBxeCAqIHV2eixcbiAgICAgIHV1dnogPSBxeCAqIHV2eSAtIHF5ICogdXZ4OyAvLyB2ZWMzLnNjYWxlKHV2LCB1diwgMiAqIHcpO1xuXG4gIHZhciB3MiA9IHF3ICogMjtcbiAgdXZ4ICo9IHcyO1xuICB1dnkgKj0gdzI7XG4gIHV2eiAqPSB3MjsgLy8gdmVjMy5zY2FsZSh1dXYsIHV1diwgMik7XG5cbiAgdXV2eCAqPSAyO1xuICB1dXZ5ICo9IDI7XG4gIHV1dnogKj0gMjsgLy8gcmV0dXJuIHZlYzMuYWRkKG91dCwgYSwgdmVjMy5hZGQob3V0LCB1diwgdXV2KSk7XG5cbiAgb3V0WzBdID0geCArIHV2eCArIHV1dng7XG4gIG91dFsxXSA9IHkgKyB1dnkgKyB1dXZ5O1xuICBvdXRbMl0gPSB6ICsgdXZ6ICsgdXV2ejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSb3RhdGUgYSAzRCB2ZWN0b3IgYXJvdW5kIHRoZSB4LWF4aXNcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSB2ZWMzIHBvaW50IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgb3JpZ2luIG9mIHRoZSByb3RhdGlvblxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVYKG91dCwgYSwgYiwgcmFkKSB7XG4gIHZhciBwID0gW10sXG4gICAgICByID0gW107IC8vVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cblxuICBwWzBdID0gYVswXSAtIGJbMF07XG4gIHBbMV0gPSBhWzFdIC0gYlsxXTtcbiAgcFsyXSA9IGFbMl0gLSBiWzJdOyAvL3BlcmZvcm0gcm90YXRpb25cblxuICByWzBdID0gcFswXTtcbiAgclsxXSA9IHBbMV0gKiBNYXRoLmNvcyhyYWQpIC0gcFsyXSAqIE1hdGguc2luKHJhZCk7XG4gIHJbMl0gPSBwWzFdICogTWF0aC5zaW4ocmFkKSArIHBbMl0gKiBNYXRoLmNvcyhyYWQpOyAvL3RyYW5zbGF0ZSB0byBjb3JyZWN0IHBvc2l0aW9uXG5cbiAgb3V0WzBdID0gclswXSArIGJbMF07XG4gIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSByWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSb3RhdGUgYSAzRCB2ZWN0b3IgYXJvdW5kIHRoZSB5LWF4aXNcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSB2ZWMzIHBvaW50IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgb3JpZ2luIG9mIHRoZSByb3RhdGlvblxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVZKG91dCwgYSwgYiwgcmFkKSB7XG4gIHZhciBwID0gW10sXG4gICAgICByID0gW107IC8vVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cblxuICBwWzBdID0gYVswXSAtIGJbMF07XG4gIHBbMV0gPSBhWzFdIC0gYlsxXTtcbiAgcFsyXSA9IGFbMl0gLSBiWzJdOyAvL3BlcmZvcm0gcm90YXRpb25cblxuICByWzBdID0gcFsyXSAqIE1hdGguc2luKHJhZCkgKyBwWzBdICogTWF0aC5jb3MocmFkKTtcbiAgclsxXSA9IHBbMV07XG4gIHJbMl0gPSBwWzJdICogTWF0aC5jb3MocmFkKSAtIHBbMF0gKiBNYXRoLnNpbihyYWQpOyAvL3RyYW5zbGF0ZSB0byBjb3JyZWN0IHBvc2l0aW9uXG5cbiAgb3V0WzBdID0gclswXSArIGJbMF07XG4gIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSByWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSb3RhdGUgYSAzRCB2ZWN0b3IgYXJvdW5kIHRoZSB6LWF4aXNcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSB2ZWMzIHBvaW50IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgb3JpZ2luIG9mIHRoZSByb3RhdGlvblxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVaKG91dCwgYSwgYiwgcmFkKSB7XG4gIHZhciBwID0gW10sXG4gICAgICByID0gW107IC8vVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cblxuICBwWzBdID0gYVswXSAtIGJbMF07XG4gIHBbMV0gPSBhWzFdIC0gYlsxXTtcbiAgcFsyXSA9IGFbMl0gLSBiWzJdOyAvL3BlcmZvcm0gcm90YXRpb25cblxuICByWzBdID0gcFswXSAqIE1hdGguY29zKHJhZCkgLSBwWzFdICogTWF0aC5zaW4ocmFkKTtcbiAgclsxXSA9IHBbMF0gKiBNYXRoLnNpbihyYWQpICsgcFsxXSAqIE1hdGguY29zKHJhZCk7XG4gIHJbMl0gPSBwWzJdOyAvL3RyYW5zbGF0ZSB0byBjb3JyZWN0IHBvc2l0aW9uXG5cbiAgb3V0WzBdID0gclswXSArIGJbMF07XG4gIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSByWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBHZXQgdGhlIGFuZ2xlIGJldHdlZW4gdHdvIDNEIHZlY3RvcnNcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBhbmdsZSBpbiByYWRpYW5zXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYW5nbGUoYSwgYikge1xuICB2YXIgYXggPSBhWzBdLFxuICAgICAgYXkgPSBhWzFdLFxuICAgICAgYXogPSBhWzJdLFxuICAgICAgYnggPSBiWzBdLFxuICAgICAgYnkgPSBiWzFdLFxuICAgICAgYnogPSBiWzJdLFxuICAgICAgbWFnMSA9IE1hdGguc3FydChheCAqIGF4ICsgYXkgKiBheSArIGF6ICogYXopLFxuICAgICAgbWFnMiA9IE1hdGguc3FydChieCAqIGJ4ICsgYnkgKiBieSArIGJ6ICogYnopLFxuICAgICAgbWFnID0gbWFnMSAqIG1hZzIsXG4gICAgICBjb3NpbmUgPSBtYWcgJiYgZG90KGEsIGIpIC8gbWFnO1xuICByZXR1cm4gTWF0aC5hY29zKE1hdGgubWluKE1hdGgubWF4KGNvc2luZSwgLTEpLCAxKSk7XG59XG4vKipcclxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMyB0byB6ZXJvXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB6ZXJvKG91dCkge1xuICBvdXRbMF0gPSAwLjA7XG4gIG91dFsxXSA9IDAuMDtcbiAgb3V0WzJdID0gMC4wO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB2ZWN0b3JcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xyXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XG4gIHJldHVybiBcInZlYzMoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiLCBcIiArIGFbMl0gKyBcIilcIjtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIGZpcnN0IHZlY3Rvci5cclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdO1xufVxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3QgdmVjdG9yLlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIHZlY3Rvci5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXTtcbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXTtcbiAgcmV0dXJuIE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJiBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiYgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpO1xufVxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5zdWJ0cmFjdH1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIHN1YiA9IHN1YnRyYWN0O1xuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5tdWx0aXBseX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5kaXZpZGV9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBkaXYgPSBkaXZpZGU7XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmRpc3RhbmNlfVxyXG4gKiBAZnVuY3Rpb25cclxuICovXG5cbmV4cG9ydCB2YXIgZGlzdCA9IGRpc3RhbmNlO1xuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5zcXVhcmVkRGlzdGFuY2V9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBzcXJEaXN0ID0gc3F1YXJlZERpc3RhbmNlO1xuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5sZW5ndGh9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBsZW4gPSBsZW5ndGg7XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnNxdWFyZWRMZW5ndGh9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBzcXJMZW4gPSBzcXVhcmVkTGVuZ3RoO1xuLyoqXHJcbiAqIFBlcmZvcm0gc29tZSBvcGVyYXRpb24gb3ZlciBhbiBhcnJheSBvZiB2ZWMzcy5cclxuICpcclxuICogQHBhcmFtIHtBcnJheX0gYSB0aGUgYXJyYXkgb2YgdmVjdG9ycyB0byBpdGVyYXRlIG92ZXJcclxuICogQHBhcmFtIHtOdW1iZXJ9IHN0cmlkZSBOdW1iZXIgb2YgZWxlbWVudHMgYmV0d2VlbiB0aGUgc3RhcnQgb2YgZWFjaCB2ZWMzLiBJZiAwIGFzc3VtZXMgdGlnaHRseSBwYWNrZWRcclxuICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gc2tpcCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheVxyXG4gKiBAcGFyYW0ge051bWJlcn0gY291bnQgTnVtYmVyIG9mIHZlYzNzIHRvIGl0ZXJhdGUgb3Zlci4gSWYgMCBpdGVyYXRlcyBvdmVyIGVudGlyZSBhcnJheVxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHZlY3RvciBpbiB0aGUgYXJyYXlcclxuICogQHBhcmFtIHtPYmplY3R9IFthcmddIGFkZGl0aW9uYWwgYXJndW1lbnQgdG8gcGFzcyB0byBmblxyXG4gKiBAcmV0dXJucyB7QXJyYXl9IGFcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIGZvckVhY2ggPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB2ZWMgPSBjcmVhdGUoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhLCBzdHJpZGUsIG9mZnNldCwgY291bnQsIGZuLCBhcmcpIHtcbiAgICB2YXIgaSwgbDtcblxuICAgIGlmICghc3RyaWRlKSB7XG4gICAgICBzdHJpZGUgPSAzO1xuICAgIH1cblxuICAgIGlmICghb2Zmc2V0KSB7XG4gICAgICBvZmZzZXQgPSAwO1xuICAgIH1cblxuICAgIGlmIChjb3VudCkge1xuICAgICAgbCA9IE1hdGgubWluKGNvdW50ICogc3RyaWRlICsgb2Zmc2V0LCBhLmxlbmd0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGwgPSBhLmxlbmd0aDtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBsOyBpICs9IHN0cmlkZSkge1xuICAgICAgdmVjWzBdID0gYVtpXTtcbiAgICAgIHZlY1sxXSA9IGFbaSArIDFdO1xuICAgICAgdmVjWzJdID0gYVtpICsgMl07XG4gICAgICBmbih2ZWMsIHZlYywgYXJnKTtcbiAgICAgIGFbaV0gPSB2ZWNbMF07XG4gICAgICBhW2kgKyAxXSA9IHZlY1sxXTtcbiAgICAgIGFbaSArIDJdID0gdmVjWzJdO1xuICAgIH1cblxuICAgIHJldHVybiBhO1xuICB9O1xufSgpOyIsImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuLyoqXHJcbiAqIDQgRGltZW5zaW9uYWwgVmVjdG9yXHJcbiAqIEBtb2R1bGUgdmVjNFxyXG4gKi9cblxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcsIGVtcHR5IHZlYzRcclxuICpcclxuICogQHJldHVybnMge3ZlYzR9IGEgbmV3IDREIHZlY3RvclxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO1xuXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xuICAgIG91dFswXSA9IDA7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICAgIG91dFszXSA9IDA7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgdmVjNCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHZlY3RvclxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gY2xvbmVcclxuICogQHJldHVybnMge3ZlYzR9IGEgbmV3IDREIHZlY3RvclxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGEpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgdmVjNCBpbml0aWFsaXplZCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHcgVyBjb21wb25lbnRcclxuICogQHJldHVybnMge3ZlYzR9IGEgbmV3IDREIHZlY3RvclxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMoeCwgeSwgeiwgdykge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIG91dFszXSA9IHc7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIHZlYzQgdG8gYW5vdGhlclxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgc291cmNlIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0IHRvIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHcgVyBjb21wb25lbnRcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIHgsIHksIHosIHcpIHtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgb3V0WzJdID0gejtcbiAgb3V0WzNdID0gdztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBBZGRzIHR3byB2ZWM0J3NcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gIG91dFszXSA9IGFbM10gKyBiWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFN1YnRyYWN0cyB2ZWN0b3IgYiBmcm9tIHZlY3RvciBhXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XG4gIG91dFszXSA9IGFbM10gLSBiWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIE11bHRpcGxpZXMgdHdvIHZlYzQnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYlswXTtcbiAgb3V0WzFdID0gYVsxXSAqIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKiBiWzJdO1xuICBvdXRbM10gPSBhWzNdICogYlszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBEaXZpZGVzIHR3byB2ZWM0J3NcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGUob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC8gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAvIGJbMl07XG4gIG91dFszXSA9IGFbM10gLyBiWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIE1hdGguY2VpbCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzRcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIGNlaWxcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNlaWwob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGguY2VpbChhWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5jZWlsKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLmNlaWwoYVsyXSk7XG4gIG91dFszXSA9IE1hdGguY2VpbChhWzNdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBNYXRoLmZsb29yIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gZmxvb3JcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZsb29yKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmZsb29yKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLmZsb29yKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLmZsb29yKGFbMl0pO1xuICBvdXRbM10gPSBNYXRoLmZsb29yKGFbM10pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJldHVybnMgdGhlIG1pbmltdW0gb2YgdHdvIHZlYzQnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1pbihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5taW4oYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWluKGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1pbihhWzJdLCBiWzJdKTtcbiAgb3V0WzNdID0gTWF0aC5taW4oYVszXSwgYlszXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogUmV0dXJucyB0aGUgbWF4aW11bSBvZiB0d28gdmVjNCdzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWF4KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBNYXRoLm1heChhWzBdLCBiWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5tYXgoYVsxXSwgYlsxXSk7XG4gIG91dFsyXSA9IE1hdGgubWF4KGFbMl0sIGJbMl0pO1xuICBvdXRbM10gPSBNYXRoLm1heChhWzNdLCBiWzNdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBNYXRoLnJvdW5kIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gcm91bmRcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLnJvdW5kKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLnJvdW5kKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLnJvdW5kKGFbMl0pO1xuICBvdXRbM10gPSBNYXRoLnJvdW5kKGFbM10pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFNjYWxlcyBhIHZlYzQgYnkgYSBzY2FsYXIgbnVtYmVyXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSB2ZWN0b3IgYnlcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIG91dFsyXSA9IGFbMl0gKiBiO1xuICBvdXRbM10gPSBhWzNdICogYjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBBZGRzIHR3byB2ZWM0J3MgYWZ0ZXIgc2NhbGluZyB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWVcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIgYnkgYmVmb3JlIGFkZGluZ1xyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGVBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xuICBvdXRbM10gPSBhWzNdICsgYlszXSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWM0J3NcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3RhbmNlKGEsIGIpIHtcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcbiAgdmFyIHkgPSBiWzFdIC0gYVsxXTtcbiAgdmFyIHogPSBiWzJdIC0gYVsyXTtcbiAgdmFyIHcgPSBiWzNdIC0gYVszXTtcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSwgeiwgdyk7XG59XG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjNCdzXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZShhLCBiKSB7XG4gIHZhciB4ID0gYlswXSAtIGFbMF07XG4gIHZhciB5ID0gYlsxXSAtIGFbMV07XG4gIHZhciB6ID0gYlsyXSAtIGFbMl07XG4gIHZhciB3ID0gYlszXSAtIGFbM107XG4gIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHogKyB3ICogdztcbn1cbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBsZW5ndGggb2YgYSB2ZWM0XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGxlbmd0aCBvZiBhXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGVuZ3RoKGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgdmFyIHcgPSBhWzNdO1xuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5LCB6LCB3KTtcbn1cbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHZlYzRcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBzcXVhcmVkIGxlbmd0aCBvZlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZExlbmd0aChhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHZhciB3ID0gYVszXTtcbiAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3O1xufVxuLyoqXHJcbiAqIE5lZ2F0ZXMgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0XHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBuZWdhdGVcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5lZ2F0ZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gLWFbMF07XG4gIG91dFsxXSA9IC1hWzFdO1xuICBvdXRbMl0gPSAtYVsyXTtcbiAgb3V0WzNdID0gLWFbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogUmV0dXJucyB0aGUgaW52ZXJzZSBvZiB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzRcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIGludmVydFxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJzZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gMS4wIC8gYVswXTtcbiAgb3V0WzFdID0gMS4wIC8gYVsxXTtcbiAgb3V0WzJdID0gMS4wIC8gYVsyXTtcbiAgb3V0WzNdID0gMS4wIC8gYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBOb3JtYWxpemUgYSB2ZWM0XHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBub3JtYWxpemVcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShvdXQsIGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgdmFyIHcgPSBhWzNdO1xuICB2YXIgbGVuID0geCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHc7XG5cbiAgaWYgKGxlbiA+IDApIHtcbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gIH1cblxuICBvdXRbMF0gPSB4ICogbGVuO1xuICBvdXRbMV0gPSB5ICogbGVuO1xuICBvdXRbMl0gPSB6ICogbGVuO1xuICBvdXRbM10gPSB3ICogbGVuO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGRvdCBwcm9kdWN0IG9mIHR3byB2ZWM0J3NcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRvdCBwcm9kdWN0IG9mIGEgYW5kIGJcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkb3QoYSwgYikge1xuICByZXR1cm4gYVswXSAqIGJbMF0gKyBhWzFdICogYlsxXSArIGFbMl0gKiBiWzJdICsgYVszXSAqIGJbM107XG59XG4vKipcclxuICogUmV0dXJucyB0aGUgY3Jvc3MtcHJvZHVjdCBvZiB0aHJlZSB2ZWN0b3JzIGluIGEgNC1kaW1lbnNpb25hbCBzcGFjZVxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gcmVzdWx0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBVIHRoZSBmaXJzdCB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IFYgdGhlIHNlY29uZCB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IFcgdGhlIHRoaXJkIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7dmVjNH0gcmVzdWx0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3Jvc3Mob3V0LCB1LCB2LCB3KSB7XG4gIHZhciBBID0gdlswXSAqIHdbMV0gLSB2WzFdICogd1swXSxcbiAgICAgIEIgPSB2WzBdICogd1syXSAtIHZbMl0gKiB3WzBdLFxuICAgICAgQyA9IHZbMF0gKiB3WzNdIC0gdlszXSAqIHdbMF0sXG4gICAgICBEID0gdlsxXSAqIHdbMl0gLSB2WzJdICogd1sxXSxcbiAgICAgIEUgPSB2WzFdICogd1szXSAtIHZbM10gKiB3WzFdLFxuICAgICAgRiA9IHZbMl0gKiB3WzNdIC0gdlszXSAqIHdbMl07XG4gIHZhciBHID0gdVswXTtcbiAgdmFyIEggPSB1WzFdO1xuICB2YXIgSSA9IHVbMl07XG4gIHZhciBKID0gdVszXTtcbiAgb3V0WzBdID0gSCAqIEYgLSBJICogRSArIEogKiBEO1xuICBvdXRbMV0gPSAtKEcgKiBGKSArIEkgKiBDIC0gSiAqIEI7XG4gIG91dFsyXSA9IEcgKiBFIC0gSCAqIEMgKyBKICogQTtcbiAgb3V0WzNdID0gLShHICogRCkgKyBIICogQiAtIEkgKiBBO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjNCdzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsZXJwKG91dCwgYSwgYiwgdCkge1xuICB2YXIgYXggPSBhWzBdO1xuICB2YXIgYXkgPSBhWzFdO1xuICB2YXIgYXogPSBhWzJdO1xuICB2YXIgYXcgPSBhWzNdO1xuICBvdXRbMF0gPSBheCArIHQgKiAoYlswXSAtIGF4KTtcbiAgb3V0WzFdID0gYXkgKyB0ICogKGJbMV0gLSBheSk7XG4gIG91dFsyXSA9IGF6ICsgdCAqIChiWzJdIC0gYXopO1xuICBvdXRbM10gPSBhdyArIHQgKiAoYlszXSAtIGF3KTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSByYW5kb20gdmVjdG9yIHdpdGggdGhlIGdpdmVuIHNjYWxlXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbc2NhbGVdIExlbmd0aCBvZiB0aGUgcmVzdWx0aW5nIHZlY3Rvci4gSWYgb21taXR0ZWQsIGEgdW5pdCB2ZWN0b3Igd2lsbCBiZSByZXR1cm5lZFxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCwgc2NhbGUpIHtcbiAgc2NhbGUgPSBzY2FsZSB8fCAxLjA7IC8vIE1hcnNhZ2xpYSwgR2VvcmdlLiBDaG9vc2luZyBhIFBvaW50IGZyb20gdGhlIFN1cmZhY2Ugb2YgYVxuICAvLyBTcGhlcmUuIEFubi4gTWF0aC4gU3RhdGlzdC4gNDMgKDE5NzIpLCBuby4gMiwgNjQ1LS02NDYuXG4gIC8vIGh0dHA6Ly9wcm9qZWN0ZXVjbGlkLm9yZy9ldWNsaWQuYW9tcy8xMTc3NjkyNjQ0O1xuXG4gIHZhciB2MSwgdjIsIHYzLCB2NDtcbiAgdmFyIHMxLCBzMjtcblxuICBkbyB7XG4gICAgdjEgPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIgLSAxO1xuICAgIHYyID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyIC0gMTtcbiAgICBzMSA9IHYxICogdjEgKyB2MiAqIHYyO1xuICB9IHdoaWxlIChzMSA+PSAxKTtcblxuICBkbyB7XG4gICAgdjMgPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIgLSAxO1xuICAgIHY0ID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyIC0gMTtcbiAgICBzMiA9IHYzICogdjMgKyB2NCAqIHY0O1xuICB9IHdoaWxlIChzMiA+PSAxKTtcblxuICB2YXIgZCA9IE1hdGguc3FydCgoMSAtIHMxKSAvIHMyKTtcbiAgb3V0WzBdID0gc2NhbGUgKiB2MTtcbiAgb3V0WzFdID0gc2NhbGUgKiB2MjtcbiAgb3V0WzJdID0gc2NhbGUgKiB2MyAqIGQ7XG4gIG91dFszXSA9IHNjYWxlICogdjQgKiBkO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzQgd2l0aCBhIG1hdDQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBtIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0NChvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXSxcbiAgICAgIHcgPSBhWzNdO1xuICBvdXRbMF0gPSBtWzBdICogeCArIG1bNF0gKiB5ICsgbVs4XSAqIHogKyBtWzEyXSAqIHc7XG4gIG91dFsxXSA9IG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzldICogeiArIG1bMTNdICogdztcbiAgb3V0WzJdID0gbVsyXSAqIHggKyBtWzZdICogeSArIG1bMTBdICogeiArIG1bMTRdICogdztcbiAgb3V0WzNdID0gbVszXSAqIHggKyBtWzddICogeSArIG1bMTFdICogeiArIG1bMTVdICogdztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWM0IHdpdGggYSBxdWF0XHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIHF1YXRlcm5pb24gdG8gdHJhbnNmb3JtIHdpdGhcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybVF1YXQob3V0LCBhLCBxKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl07XG4gIHZhciBxeCA9IHFbMF0sXG4gICAgICBxeSA9IHFbMV0sXG4gICAgICBxeiA9IHFbMl0sXG4gICAgICBxdyA9IHFbM107IC8vIGNhbGN1bGF0ZSBxdWF0ICogdmVjXG5cbiAgdmFyIGl4ID0gcXcgKiB4ICsgcXkgKiB6IC0gcXogKiB5O1xuICB2YXIgaXkgPSBxdyAqIHkgKyBxeiAqIHggLSBxeCAqIHo7XG4gIHZhciBpeiA9IHF3ICogeiArIHF4ICogeSAtIHF5ICogeDtcbiAgdmFyIGl3ID0gLXF4ICogeCAtIHF5ICogeSAtIHF6ICogejsgLy8gY2FsY3VsYXRlIHJlc3VsdCAqIGludmVyc2UgcXVhdFxuXG4gIG91dFswXSA9IGl4ICogcXcgKyBpdyAqIC1xeCArIGl5ICogLXF6IC0gaXogKiAtcXk7XG4gIG91dFsxXSA9IGl5ICogcXcgKyBpdyAqIC1xeSArIGl6ICogLXF4IC0gaXggKiAtcXo7XG4gIG91dFsyXSA9IGl6ICogcXcgKyBpdyAqIC1xeiArIGl4ICogLXF5IC0gaXkgKiAtcXg7XG4gIG91dFszXSA9IGFbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNCB0byB6ZXJvXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB6ZXJvKG91dCkge1xuICBvdXRbMF0gPSAwLjA7XG4gIG91dFsxXSA9IDAuMDtcbiAgb3V0WzJdID0gMC4wO1xuICBvdXRbM10gPSAwLjA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIHZlY3RvclxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmVjdG9yXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwidmVjNChcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIilcIjtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgVGhlIGZpcnN0IHZlY3Rvci5cclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM107XG59XG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIFRoZSBmaXJzdCB2ZWN0b3IuXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgICAgYTEgPSBhWzFdLFxuICAgICAgYTIgPSBhWzJdLFxuICAgICAgYTMgPSBhWzNdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgICAgYjEgPSBiWzFdLFxuICAgICAgYjIgPSBiWzJdLFxuICAgICAgYjMgPSBiWzNdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSkgJiYgTWF0aC5hYnMoYTMgLSBiMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTMpLCBNYXRoLmFicyhiMykpO1xufVxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5zdWJ0cmFjdH1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIHN1YiA9IHN1YnRyYWN0O1xuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5tdWx0aXBseX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5kaXZpZGV9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBkaXYgPSBkaXZpZGU7XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LmRpc3RhbmNlfVxyXG4gKiBAZnVuY3Rpb25cclxuICovXG5cbmV4cG9ydCB2YXIgZGlzdCA9IGRpc3RhbmNlO1xuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5zcXVhcmVkRGlzdGFuY2V9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBzcXJEaXN0ID0gc3F1YXJlZERpc3RhbmNlO1xuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5sZW5ndGh9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBsZW4gPSBsZW5ndGg7XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LnNxdWFyZWRMZW5ndGh9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBzcXJMZW4gPSBzcXVhcmVkTGVuZ3RoO1xuLyoqXHJcbiAqIFBlcmZvcm0gc29tZSBvcGVyYXRpb24gb3ZlciBhbiBhcnJheSBvZiB2ZWM0cy5cclxuICpcclxuICogQHBhcmFtIHtBcnJheX0gYSB0aGUgYXJyYXkgb2YgdmVjdG9ycyB0byBpdGVyYXRlIG92ZXJcclxuICogQHBhcmFtIHtOdW1iZXJ9IHN0cmlkZSBOdW1iZXIgb2YgZWxlbWVudHMgYmV0d2VlbiB0aGUgc3RhcnQgb2YgZWFjaCB2ZWM0LiBJZiAwIGFzc3VtZXMgdGlnaHRseSBwYWNrZWRcclxuICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gc2tpcCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheVxyXG4gKiBAcGFyYW0ge051bWJlcn0gY291bnQgTnVtYmVyIG9mIHZlYzRzIHRvIGl0ZXJhdGUgb3Zlci4gSWYgMCBpdGVyYXRlcyBvdmVyIGVudGlyZSBhcnJheVxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHZlY3RvciBpbiB0aGUgYXJyYXlcclxuICogQHBhcmFtIHtPYmplY3R9IFthcmddIGFkZGl0aW9uYWwgYXJndW1lbnQgdG8gcGFzcyB0byBmblxyXG4gKiBAcmV0dXJucyB7QXJyYXl9IGFcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIGZvckVhY2ggPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB2ZWMgPSBjcmVhdGUoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhLCBzdHJpZGUsIG9mZnNldCwgY291bnQsIGZuLCBhcmcpIHtcbiAgICB2YXIgaSwgbDtcblxuICAgIGlmICghc3RyaWRlKSB7XG4gICAgICBzdHJpZGUgPSA0O1xuICAgIH1cblxuICAgIGlmICghb2Zmc2V0KSB7XG4gICAgICBvZmZzZXQgPSAwO1xuICAgIH1cblxuICAgIGlmIChjb3VudCkge1xuICAgICAgbCA9IE1hdGgubWluKGNvdW50ICogc3RyaWRlICsgb2Zmc2V0LCBhLmxlbmd0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGwgPSBhLmxlbmd0aDtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBsOyBpICs9IHN0cmlkZSkge1xuICAgICAgdmVjWzBdID0gYVtpXTtcbiAgICAgIHZlY1sxXSA9IGFbaSArIDFdO1xuICAgICAgdmVjWzJdID0gYVtpICsgMl07XG4gICAgICB2ZWNbM10gPSBhW2kgKyAzXTtcbiAgICAgIGZuKHZlYywgdmVjLCBhcmcpO1xuICAgICAgYVtpXSA9IHZlY1swXTtcbiAgICAgIGFbaSArIDFdID0gdmVjWzFdO1xuICAgICAgYVtpICsgMl0gPSB2ZWNbMl07XG4gICAgICBhW2kgKyAzXSA9IHZlY1szXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbiAgfTtcbn0oKTsiLCJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbmltcG9ydCAqIGFzIG1hdDMgZnJvbSBcIi4vbWF0My5qc1wiO1xuaW1wb3J0ICogYXMgdmVjMyBmcm9tIFwiLi92ZWMzLmpzXCI7XG5pbXBvcnQgKiBhcyB2ZWM0IGZyb20gXCIuL3ZlYzQuanNcIjtcbi8qKlxyXG4gKiBRdWF0ZXJuaW9uXHJcbiAqIEBtb2R1bGUgcXVhdFxyXG4gKi9cblxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgaWRlbnRpdHkgcXVhdFxyXG4gKlxyXG4gKiBAcmV0dXJucyB7cXVhdH0gYSBuZXcgcXVhdGVybmlvblxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO1xuXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xuICAgIG91dFswXSA9IDA7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICB9XG5cbiAgb3V0WzNdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBTZXQgYSBxdWF0IHRvIHRoZSBpZGVudGl0eSBxdWF0ZXJuaW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkob3V0KSB7XG4gIG91dFswXSA9IDA7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogU2V0cyBhIHF1YXQgZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYW5kIHJvdGF0aW9uIGF4aXMsXHJcbiAqIHRoZW4gcmV0dXJucyBpdC5cclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBheGlzIHRoZSBheGlzIGFyb3VuZCB3aGljaCB0byByb3RhdGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgaW4gcmFkaWFuc1xyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEF4aXNBbmdsZShvdXQsIGF4aXMsIHJhZCkge1xuICByYWQgPSByYWQgKiAwLjU7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgb3V0WzBdID0gcyAqIGF4aXNbMF07XG4gIG91dFsxXSA9IHMgKiBheGlzWzFdO1xuICBvdXRbMl0gPSBzICogYXhpc1syXTtcbiAgb3V0WzNdID0gTWF0aC5jb3MocmFkKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBHZXRzIHRoZSByb3RhdGlvbiBheGlzIGFuZCBhbmdsZSBmb3IgYSBnaXZlblxyXG4gKiAgcXVhdGVybmlvbi4gSWYgYSBxdWF0ZXJuaW9uIGlzIGNyZWF0ZWQgd2l0aFxyXG4gKiAgc2V0QXhpc0FuZ2xlLCB0aGlzIG1ldGhvZCB3aWxsIHJldHVybiB0aGUgc2FtZVxyXG4gKiAgdmFsdWVzIGFzIHByb3ZpZGllZCBpbiB0aGUgb3JpZ2luYWwgcGFyYW1ldGVyIGxpc3RcclxuICogIE9SIGZ1bmN0aW9uYWxseSBlcXVpdmFsZW50IHZhbHVlcy5cclxuICogRXhhbXBsZTogVGhlIHF1YXRlcm5pb24gZm9ybWVkIGJ5IGF4aXMgWzAsIDAsIDFdIGFuZFxyXG4gKiAgYW5nbGUgLTkwIGlzIHRoZSBzYW1lIGFzIHRoZSBxdWF0ZXJuaW9uIGZvcm1lZCBieVxyXG4gKiAgWzAsIDAsIDFdIGFuZCAyNzAuIFRoaXMgbWV0aG9kIGZhdm9ycyB0aGUgbGF0dGVyLlxyXG4gKiBAcGFyYW0gIHt2ZWMzfSBvdXRfYXhpcyAgVmVjdG9yIHJlY2VpdmluZyB0aGUgYXhpcyBvZiByb3RhdGlvblxyXG4gKiBAcGFyYW0gIHtSZWFkb25seVF1YXR9IHEgICAgIFF1YXRlcm5pb24gdG8gYmUgZGVjb21wb3NlZFxyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9ICAgICBBbmdsZSwgaW4gcmFkaWFucywgb2YgdGhlIHJvdGF0aW9uXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXhpc0FuZ2xlKG91dF9heGlzLCBxKSB7XG4gIHZhciByYWQgPSBNYXRoLmFjb3MocVszXSkgKiAyLjA7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkIC8gMi4wKTtcblxuICBpZiAocyA+IGdsTWF0cml4LkVQU0lMT04pIHtcbiAgICBvdXRfYXhpc1swXSA9IHFbMF0gLyBzO1xuICAgIG91dF9heGlzWzFdID0gcVsxXSAvIHM7XG4gICAgb3V0X2F4aXNbMl0gPSBxWzJdIC8gcztcbiAgfSBlbHNlIHtcbiAgICAvLyBJZiBzIGlzIHplcm8sIHJldHVybiBhbnkgYXhpcyAobm8gcm90YXRpb24gLSBheGlzIGRvZXMgbm90IG1hdHRlcilcbiAgICBvdXRfYXhpc1swXSA9IDE7XG4gICAgb3V0X2F4aXNbMV0gPSAwO1xuICAgIG91dF9heGlzWzJdID0gMDtcbiAgfVxuXG4gIHJldHVybiByYWQ7XG59XG4vKipcclxuICogR2V0cyB0aGUgYW5ndWxhciBkaXN0YW5jZSBiZXR3ZWVuIHR3byB1bml0IHF1YXRlcm5pb25zXHJcbiAqXHJcbiAqIEBwYXJhbSAge1JlYWRvbmx5UXVhdH0gYSAgICAgT3JpZ2luIHVuaXQgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0gIHtSZWFkb25seVF1YXR9IGIgICAgIERlc3RpbmF0aW9uIHVuaXQgcXVhdGVybmlvblxyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9ICAgICBBbmdsZSwgaW4gcmFkaWFucywgYmV0d2VlbiB0aGUgdHdvIHF1YXRlcm5pb25zXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QW5nbGUoYSwgYikge1xuICB2YXIgZG90cHJvZHVjdCA9IGRvdChhLCBiKTtcbiAgcmV0dXJuIE1hdGguYWNvcygyICogZG90cHJvZHVjdCAqIGRvdHByb2R1Y3QgLSAxKTtcbn1cbi8qKlxyXG4gKiBNdWx0aXBsaWVzIHR3byBxdWF0J3NcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIHZhciBheCA9IGFbMF0sXG4gICAgICBheSA9IGFbMV0sXG4gICAgICBheiA9IGFbMl0sXG4gICAgICBhdyA9IGFbM107XG4gIHZhciBieCA9IGJbMF0sXG4gICAgICBieSA9IGJbMV0sXG4gICAgICBieiA9IGJbMl0sXG4gICAgICBidyA9IGJbM107XG4gIG91dFswXSA9IGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnk7XG4gIG91dFsxXSA9IGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYno7XG4gIG91dFsyXSA9IGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYng7XG4gIG91dFszXSA9IGF3ICogYncgLSBheCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYno7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogUm90YXRlcyBhIHF1YXRlcm5pb24gYnkgdGhlIGdpdmVuIGFuZ2xlIGFib3V0IHRoZSBYIGF4aXNcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgcXVhdCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkIGFuZ2xlIChpbiByYWRpYW5zKSB0byByb3RhdGVcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCByYWQpIHtcbiAgcmFkICo9IDAuNTtcbiAgdmFyIGF4ID0gYVswXSxcbiAgICAgIGF5ID0gYVsxXSxcbiAgICAgIGF6ID0gYVsyXSxcbiAgICAgIGF3ID0gYVszXTtcbiAgdmFyIGJ4ID0gTWF0aC5zaW4ocmFkKSxcbiAgICAgIGJ3ID0gTWF0aC5jb3MocmFkKTtcbiAgb3V0WzBdID0gYXggKiBidyArIGF3ICogYng7XG4gIG91dFsxXSA9IGF5ICogYncgKyBheiAqIGJ4O1xuICBvdXRbMl0gPSBheiAqIGJ3IC0gYXkgKiBieDtcbiAgb3V0WzNdID0gYXcgKiBidyAtIGF4ICogYng7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogUm90YXRlcyBhIHF1YXRlcm5pb24gYnkgdGhlIGdpdmVuIGFuZ2xlIGFib3V0IHRoZSBZIGF4aXNcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgcXVhdCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkIGFuZ2xlIChpbiByYWRpYW5zKSB0byByb3RhdGVcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVkob3V0LCBhLCByYWQpIHtcbiAgcmFkICo9IDAuNTtcbiAgdmFyIGF4ID0gYVswXSxcbiAgICAgIGF5ID0gYVsxXSxcbiAgICAgIGF6ID0gYVsyXSxcbiAgICAgIGF3ID0gYVszXTtcbiAgdmFyIGJ5ID0gTWF0aC5zaW4ocmFkKSxcbiAgICAgIGJ3ID0gTWF0aC5jb3MocmFkKTtcbiAgb3V0WzBdID0gYXggKiBidyAtIGF6ICogYnk7XG4gIG91dFsxXSA9IGF5ICogYncgKyBhdyAqIGJ5O1xuICBvdXRbMl0gPSBheiAqIGJ3ICsgYXggKiBieTtcbiAgb3V0WzNdID0gYXcgKiBidyAtIGF5ICogYnk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogUm90YXRlcyBhIHF1YXRlcm5pb24gYnkgdGhlIGdpdmVuIGFuZ2xlIGFib3V0IHRoZSBaIGF4aXNcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgcXVhdCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkIGFuZ2xlIChpbiByYWRpYW5zKSB0byByb3RhdGVcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVoob3V0LCBhLCByYWQpIHtcbiAgcmFkICo9IDAuNTtcbiAgdmFyIGF4ID0gYVswXSxcbiAgICAgIGF5ID0gYVsxXSxcbiAgICAgIGF6ID0gYVsyXSxcbiAgICAgIGF3ID0gYVszXTtcbiAgdmFyIGJ6ID0gTWF0aC5zaW4ocmFkKSxcbiAgICAgIGJ3ID0gTWF0aC5jb3MocmFkKTtcbiAgb3V0WzBdID0gYXggKiBidyArIGF5ICogYno7XG4gIG91dFsxXSA9IGF5ICogYncgLSBheCAqIGJ6O1xuICBvdXRbMl0gPSBheiAqIGJ3ICsgYXcgKiBiejtcbiAgb3V0WzNdID0gYXcgKiBidyAtIGF6ICogYno7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgVyBjb21wb25lbnQgb2YgYSBxdWF0IGZyb20gdGhlIFgsIFksIGFuZCBaIGNvbXBvbmVudHMuXHJcbiAqIEFzc3VtZXMgdGhhdCBxdWF0ZXJuaW9uIGlzIDEgdW5pdCBpbiBsZW5ndGguXHJcbiAqIEFueSBleGlzdGluZyBXIGNvbXBvbmVudCB3aWxsIGJlIGlnbm9yZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIGNhbGN1bGF0ZSBXIGNvbXBvbmVudCBvZlxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlVyhvdXQsIGEpIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXTtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgb3V0WzJdID0gejtcbiAgb3V0WzNdID0gTWF0aC5zcXJ0KE1hdGguYWJzKDEuMCAtIHggKiB4IC0geSAqIHkgLSB6ICogeikpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENhbGN1bGF0ZSB0aGUgZXhwb25lbnRpYWwgb2YgYSB1bml0IHF1YXRlcm5pb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIGNhbGN1bGF0ZSB0aGUgZXhwb25lbnRpYWwgb2ZcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4cChvdXQsIGEpIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXSxcbiAgICAgIHcgPSBhWzNdO1xuICB2YXIgciA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xuICB2YXIgZXQgPSBNYXRoLmV4cCh3KTtcbiAgdmFyIHMgPSByID4gMCA/IGV0ICogTWF0aC5zaW4ocikgLyByIDogMDtcbiAgb3V0WzBdID0geCAqIHM7XG4gIG91dFsxXSA9IHkgKiBzO1xuICBvdXRbMl0gPSB6ICogcztcbiAgb3V0WzNdID0gZXQgKiBNYXRoLmNvcyhyKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDYWxjdWxhdGUgdGhlIG5hdHVyYWwgbG9nYXJpdGhtIG9mIGEgdW5pdCBxdWF0ZXJuaW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byBjYWxjdWxhdGUgdGhlIGV4cG9uZW50aWFsIG9mXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsbihvdXQsIGEpIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXSxcbiAgICAgIHcgPSBhWzNdO1xuICB2YXIgciA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xuICB2YXIgdCA9IHIgPiAwID8gTWF0aC5hdGFuMihyLCB3KSAvIHIgOiAwO1xuICBvdXRbMF0gPSB4ICogdDtcbiAgb3V0WzFdID0geSAqIHQ7XG4gIG91dFsyXSA9IHogKiB0O1xuICBvdXRbM10gPSAwLjUgKiBNYXRoLmxvZyh4ICogeCArIHkgKiB5ICsgeiAqIHogKyB3ICogdyk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ2FsY3VsYXRlIHRoZSBzY2FsYXIgcG93ZXIgb2YgYSB1bml0IHF1YXRlcm5pb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIGNhbGN1bGF0ZSB0aGUgZXhwb25lbnRpYWwgb2ZcclxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSBxdWF0ZXJuaW9uIGJ5XHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBwb3cob3V0LCBhLCBiKSB7XG4gIGxuKG91dCwgYSk7XG4gIHNjYWxlKG91dCwgb3V0LCBiKTtcbiAgZXhwKG91dCwgb3V0KTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBQZXJmb3JtcyBhIHNwaGVyaWNhbCBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byBxdWF0XHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2xlcnAob3V0LCBhLCBiLCB0KSB7XG4gIC8vIGJlbmNobWFya3M6XG4gIC8vICAgIGh0dHA6Ly9qc3BlcmYuY29tL3F1YXRlcm5pb24tc2xlcnAtaW1wbGVtZW50YXRpb25zXG4gIHZhciBheCA9IGFbMF0sXG4gICAgICBheSA9IGFbMV0sXG4gICAgICBheiA9IGFbMl0sXG4gICAgICBhdyA9IGFbM107XG4gIHZhciBieCA9IGJbMF0sXG4gICAgICBieSA9IGJbMV0sXG4gICAgICBieiA9IGJbMl0sXG4gICAgICBidyA9IGJbM107XG4gIHZhciBvbWVnYSwgY29zb20sIHNpbm9tLCBzY2FsZTAsIHNjYWxlMTsgLy8gY2FsYyBjb3NpbmVcblxuICBjb3NvbSA9IGF4ICogYnggKyBheSAqIGJ5ICsgYXogKiBieiArIGF3ICogYnc7IC8vIGFkanVzdCBzaWducyAoaWYgbmVjZXNzYXJ5KVxuXG4gIGlmIChjb3NvbSA8IDAuMCkge1xuICAgIGNvc29tID0gLWNvc29tO1xuICAgIGJ4ID0gLWJ4O1xuICAgIGJ5ID0gLWJ5O1xuICAgIGJ6ID0gLWJ6O1xuICAgIGJ3ID0gLWJ3O1xuICB9IC8vIGNhbGN1bGF0ZSBjb2VmZmljaWVudHNcblxuXG4gIGlmICgxLjAgLSBjb3NvbSA+IGdsTWF0cml4LkVQU0lMT04pIHtcbiAgICAvLyBzdGFuZGFyZCBjYXNlIChzbGVycClcbiAgICBvbWVnYSA9IE1hdGguYWNvcyhjb3NvbSk7XG4gICAgc2lub20gPSBNYXRoLnNpbihvbWVnYSk7XG4gICAgc2NhbGUwID0gTWF0aC5zaW4oKDEuMCAtIHQpICogb21lZ2EpIC8gc2lub207XG4gICAgc2NhbGUxID0gTWF0aC5zaW4odCAqIG9tZWdhKSAvIHNpbm9tO1xuICB9IGVsc2Uge1xuICAgIC8vIFwiZnJvbVwiIGFuZCBcInRvXCIgcXVhdGVybmlvbnMgYXJlIHZlcnkgY2xvc2VcbiAgICAvLyAgLi4uIHNvIHdlIGNhbiBkbyBhIGxpbmVhciBpbnRlcnBvbGF0aW9uXG4gICAgc2NhbGUwID0gMS4wIC0gdDtcbiAgICBzY2FsZTEgPSB0O1xuICB9IC8vIGNhbGN1bGF0ZSBmaW5hbCB2YWx1ZXNcblxuXG4gIG91dFswXSA9IHNjYWxlMCAqIGF4ICsgc2NhbGUxICogYng7XG4gIG91dFsxXSA9IHNjYWxlMCAqIGF5ICsgc2NhbGUxICogYnk7XG4gIG91dFsyXSA9IHNjYWxlMCAqIGF6ICsgc2NhbGUxICogYno7XG4gIG91dFszXSA9IHNjYWxlMCAqIGF3ICsgc2NhbGUxICogYnc7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogR2VuZXJhdGVzIGEgcmFuZG9tIHVuaXQgcXVhdGVybmlvblxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbShvdXQpIHtcbiAgLy8gSW1wbGVtZW50YXRpb24gb2YgaHR0cDovL3BsYW5uaW5nLmNzLnVpdWMuZWR1L25vZGUxOTguaHRtbFxuICAvLyBUT0RPOiBDYWxsaW5nIHJhbmRvbSAzIHRpbWVzIGlzIHByb2JhYmx5IG5vdCB0aGUgZmFzdGVzdCBzb2x1dGlvblxuICB2YXIgdTEgPSBnbE1hdHJpeC5SQU5ET00oKTtcbiAgdmFyIHUyID0gZ2xNYXRyaXguUkFORE9NKCk7XG4gIHZhciB1MyA9IGdsTWF0cml4LlJBTkRPTSgpO1xuICB2YXIgc3FydDFNaW51c1UxID0gTWF0aC5zcXJ0KDEgLSB1MSk7XG4gIHZhciBzcXJ0VTEgPSBNYXRoLnNxcnQodTEpO1xuICBvdXRbMF0gPSBzcXJ0MU1pbnVzVTEgKiBNYXRoLnNpbigyLjAgKiBNYXRoLlBJICogdTIpO1xuICBvdXRbMV0gPSBzcXJ0MU1pbnVzVTEgKiBNYXRoLmNvcygyLjAgKiBNYXRoLlBJICogdTIpO1xuICBvdXRbMl0gPSBzcXJ0VTEgKiBNYXRoLnNpbigyLjAgKiBNYXRoLlBJICogdTMpO1xuICBvdXRbM10gPSBzcXJ0VTEgKiBNYXRoLmNvcygyLjAgKiBNYXRoLlBJICogdTMpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGludmVyc2Ugb2YgYSBxdWF0XHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIGNhbGN1bGF0ZSBpbnZlcnNlIG9mXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnQob3V0LCBhKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl0sXG4gICAgICBhMyA9IGFbM107XG4gIHZhciBkb3QgPSBhMCAqIGEwICsgYTEgKiBhMSArIGEyICogYTIgKyBhMyAqIGEzO1xuICB2YXIgaW52RG90ID0gZG90ID8gMS4wIC8gZG90IDogMDsgLy8gVE9ETzogV291bGQgYmUgZmFzdGVyIHRvIHJldHVybiBbMCwwLDAsMF0gaW1tZWRpYXRlbHkgaWYgZG90ID09IDBcblxuICBvdXRbMF0gPSAtYTAgKiBpbnZEb3Q7XG4gIG91dFsxXSA9IC1hMSAqIGludkRvdDtcbiAgb3V0WzJdID0gLWEyICogaW52RG90O1xuICBvdXRbM10gPSBhMyAqIGludkRvdDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBjb25qdWdhdGUgb2YgYSBxdWF0XHJcbiAqIElmIHRoZSBxdWF0ZXJuaW9uIGlzIG5vcm1hbGl6ZWQsIHRoaXMgZnVuY3Rpb24gaXMgZmFzdGVyIHRoYW4gcXVhdC5pbnZlcnNlIGFuZCBwcm9kdWNlcyB0aGUgc2FtZSByZXN1bHQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIGNhbGN1bGF0ZSBjb25qdWdhdGUgb2ZcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbmp1Z2F0ZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gLWFbMF07XG4gIG91dFsxXSA9IC1hWzFdO1xuICBvdXRbMl0gPSAtYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDcmVhdGVzIGEgcXVhdGVybmlvbiBmcm9tIHRoZSBnaXZlbiAzeDMgcm90YXRpb24gbWF0cml4LlxyXG4gKlxyXG4gKiBOT1RFOiBUaGUgcmVzdWx0YW50IHF1YXRlcm5pb24gaXMgbm90IG5vcm1hbGl6ZWQsIHNvIHlvdSBzaG91bGQgYmUgc3VyZVxyXG4gKiB0byByZW5vcm1hbGl6ZSB0aGUgcXVhdGVybmlvbiB5b3Vyc2VsZiB3aGVyZSBuZWNlc3NhcnkuXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gbSByb3RhdGlvbiBtYXRyaXhcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKiBAZnVuY3Rpb25cclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tTWF0MyhvdXQsIG0pIHtcbiAgLy8gQWxnb3JpdGhtIGluIEtlbiBTaG9lbWFrZSdzIGFydGljbGUgaW4gMTk4NyBTSUdHUkFQSCBjb3Vyc2Ugbm90ZXNcbiAgLy8gYXJ0aWNsZSBcIlF1YXRlcm5pb24gQ2FsY3VsdXMgYW5kIEZhc3QgQW5pbWF0aW9uXCIuXG4gIHZhciBmVHJhY2UgPSBtWzBdICsgbVs0XSArIG1bOF07XG4gIHZhciBmUm9vdDtcblxuICBpZiAoZlRyYWNlID4gMC4wKSB7XG4gICAgLy8gfHd8ID4gMS8yLCBtYXkgYXMgd2VsbCBjaG9vc2UgdyA+IDEvMlxuICAgIGZSb290ID0gTWF0aC5zcXJ0KGZUcmFjZSArIDEuMCk7IC8vIDJ3XG5cbiAgICBvdXRbM10gPSAwLjUgKiBmUm9vdDtcbiAgICBmUm9vdCA9IDAuNSAvIGZSb290OyAvLyAxLyg0dylcblxuICAgIG91dFswXSA9IChtWzVdIC0gbVs3XSkgKiBmUm9vdDtcbiAgICBvdXRbMV0gPSAobVs2XSAtIG1bMl0pICogZlJvb3Q7XG4gICAgb3V0WzJdID0gKG1bMV0gLSBtWzNdKSAqIGZSb290O1xuICB9IGVsc2Uge1xuICAgIC8vIHx3fCA8PSAxLzJcbiAgICB2YXIgaSA9IDA7XG4gICAgaWYgKG1bNF0gPiBtWzBdKSBpID0gMTtcbiAgICBpZiAobVs4XSA+IG1baSAqIDMgKyBpXSkgaSA9IDI7XG4gICAgdmFyIGogPSAoaSArIDEpICUgMztcbiAgICB2YXIgayA9IChpICsgMikgJSAzO1xuICAgIGZSb290ID0gTWF0aC5zcXJ0KG1baSAqIDMgKyBpXSAtIG1baiAqIDMgKyBqXSAtIG1bayAqIDMgKyBrXSArIDEuMCk7XG4gICAgb3V0W2ldID0gMC41ICogZlJvb3Q7XG4gICAgZlJvb3QgPSAwLjUgLyBmUm9vdDtcbiAgICBvdXRbM10gPSAobVtqICogMyArIGtdIC0gbVtrICogMyArIGpdKSAqIGZSb290O1xuICAgIG91dFtqXSA9IChtW2ogKiAzICsgaV0gKyBtW2kgKiAzICsgal0pICogZlJvb3Q7XG4gICAgb3V0W2tdID0gKG1bayAqIDMgKyBpXSArIG1baSAqIDMgKyBrXSkgKiBmUm9vdDtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIHF1YXRlcm5pb24gZnJvbSB0aGUgZ2l2ZW4gZXVsZXIgYW5nbGUgeCwgeSwgei5cclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7eH0gQW5nbGUgdG8gcm90YXRlIGFyb3VuZCBYIGF4aXMgaW4gZGVncmVlcy5cclxuICogQHBhcmFtIHt5fSBBbmdsZSB0byByb3RhdGUgYXJvdW5kIFkgYXhpcyBpbiBkZWdyZWVzLlxyXG4gKiBAcGFyYW0ge3p9IEFuZ2xlIHRvIHJvdGF0ZSBhcm91bmQgWiBheGlzIGluIGRlZ3JlZXMuXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbUV1bGVyKG91dCwgeCwgeSwgeikge1xuICB2YXIgaGFsZlRvUmFkID0gMC41ICogTWF0aC5QSSAvIDE4MC4wO1xuICB4ICo9IGhhbGZUb1JhZDtcbiAgeSAqPSBoYWxmVG9SYWQ7XG4gIHogKj0gaGFsZlRvUmFkO1xuICB2YXIgc3ggPSBNYXRoLnNpbih4KTtcbiAgdmFyIGN4ID0gTWF0aC5jb3MoeCk7XG4gIHZhciBzeSA9IE1hdGguc2luKHkpO1xuICB2YXIgY3kgPSBNYXRoLmNvcyh5KTtcbiAgdmFyIHN6ID0gTWF0aC5zaW4oeik7XG4gIHZhciBjeiA9IE1hdGguY29zKHopO1xuICBvdXRbMF0gPSBzeCAqIGN5ICogY3ogLSBjeCAqIHN5ICogc3o7XG4gIG91dFsxXSA9IGN4ICogc3kgKiBjeiArIHN4ICogY3kgKiBzejtcbiAgb3V0WzJdID0gY3ggKiBjeSAqIHN6IC0gc3ggKiBzeSAqIGN6O1xuICBvdXRbM10gPSBjeCAqIGN5ICogY3ogKyBzeCAqIHN5ICogc3o7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIHF1YXRlbmlvblxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmVjdG9yXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwicXVhdChcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIilcIjtcbn1cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IHF1YXQgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyBxdWF0ZXJuaW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXRlcm5pb24gdG8gY2xvbmVcclxuICogQHJldHVybnMge3F1YXR9IGEgbmV3IHF1YXRlcm5pb25cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIGNsb25lID0gdmVjNC5jbG9uZTtcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IHF1YXQgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB6IFogY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB3IFcgY29tcG9uZW50XHJcbiAqIEByZXR1cm5zIHtxdWF0fSBhIG5ldyBxdWF0ZXJuaW9uXHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBmcm9tVmFsdWVzID0gdmVjNC5mcm9tVmFsdWVzO1xuLyoqXHJcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSBxdWF0IHRvIGFub3RoZXJcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBzb3VyY2UgcXVhdGVybmlvblxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBjb3B5ID0gdmVjNC5jb3B5O1xuLyoqXHJcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHF1YXQgdG8gdGhlIGdpdmVuIHZhbHVlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHcgVyBjb21wb25lbnRcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKiBAZnVuY3Rpb25cclxuICovXG5cbmV4cG9ydCB2YXIgc2V0ID0gdmVjNC5zZXQ7XG4vKipcclxuICogQWRkcyB0d28gcXVhdCdzXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKiBAZnVuY3Rpb25cclxuICovXG5cbmV4cG9ydCB2YXIgYWRkID0gdmVjNC5hZGQ7XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayBxdWF0Lm11bHRpcGx5fVxyXG4gKiBAZnVuY3Rpb25cclxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcclxuICogU2NhbGVzIGEgcXVhdCBieSBhIHNjYWxhciBudW1iZXJcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIHZlY3RvciB0byBzY2FsZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHZlY3RvciBieVxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBzY2FsZSA9IHZlYzQuc2NhbGU7XG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHF1YXQnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxyXG4gKiBAZnVuY3Rpb25cclxuICovXG5cbmV4cG9ydCB2YXIgZG90ID0gdmVjNC5kb3Q7XG4vKipcclxuICogUGVyZm9ybXMgYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byBxdWF0J3NcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIGxlcnAgPSB2ZWM0LmxlcnA7XG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgcXVhdFxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIGxlbmd0aCBvZlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxyXG4gKi9cblxuZXhwb3J0IHZhciBsZW5ndGggPSB2ZWM0Lmxlbmd0aDtcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHF1YXQubGVuZ3RofVxyXG4gKiBAZnVuY3Rpb25cclxuICovXG5cbmV4cG9ydCB2YXIgbGVuID0gbGVuZ3RoO1xuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIGEgcXVhdFxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIHNxdWFyZWQgbGVuZ3RoIG9mXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgbGVuZ3RoIG9mIGFcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIHNxdWFyZWRMZW5ndGggPSB2ZWM0LnNxdWFyZWRMZW5ndGg7XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayBxdWF0LnNxdWFyZWRMZW5ndGh9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBzcXJMZW4gPSBzcXVhcmVkTGVuZ3RoO1xuLyoqXHJcbiAqIE5vcm1hbGl6ZSBhIHF1YXRcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXRlcm5pb24gdG8gbm9ybWFsaXplXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIG5vcm1hbGl6ZSA9IHZlYzQubm9ybWFsaXplO1xuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHF1YXRlcm5pb25zIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgVGhlIGZpcnN0IHF1YXRlcm5pb24uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIFRoZSBzZWNvbmQgcXVhdGVybmlvbi5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xuXG5leHBvcnQgdmFyIGV4YWN0RXF1YWxzID0gdmVjNC5leGFjdEVxdWFscztcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBxdWF0ZXJuaW9ucyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIFRoZSBmaXJzdCB2ZWN0b3IuXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXG5cbmV4cG9ydCB2YXIgZXF1YWxzID0gdmVjNC5lcXVhbHM7XG4vKipcclxuICogU2V0cyBhIHF1YXRlcm5pb24gdG8gcmVwcmVzZW50IHRoZSBzaG9ydGVzdCByb3RhdGlvbiBmcm9tIG9uZVxyXG4gKiB2ZWN0b3IgdG8gYW5vdGhlci5cclxuICpcclxuICogQm90aCB2ZWN0b3JzIGFyZSBhc3N1bWVkIHRvIGJlIHVuaXQgbGVuZ3RoLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb24uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBpbml0aWFsIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgZGVzdGluYXRpb24gdmVjdG9yXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXG5cbmV4cG9ydCB2YXIgcm90YXRpb25UbyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHRtcHZlYzMgPSB2ZWMzLmNyZWF0ZSgpO1xuICB2YXIgeFVuaXRWZWMzID0gdmVjMy5mcm9tVmFsdWVzKDEsIDAsIDApO1xuICB2YXIgeVVuaXRWZWMzID0gdmVjMy5mcm9tVmFsdWVzKDAsIDEsIDApO1xuICByZXR1cm4gZnVuY3Rpb24gKG91dCwgYSwgYikge1xuICAgIHZhciBkb3QgPSB2ZWMzLmRvdChhLCBiKTtcblxuICAgIGlmIChkb3QgPCAtMC45OTk5OTkpIHtcbiAgICAgIHZlYzMuY3Jvc3ModG1wdmVjMywgeFVuaXRWZWMzLCBhKTtcbiAgICAgIGlmICh2ZWMzLmxlbih0bXB2ZWMzKSA8IDAuMDAwMDAxKSB2ZWMzLmNyb3NzKHRtcHZlYzMsIHlVbml0VmVjMywgYSk7XG4gICAgICB2ZWMzLm5vcm1hbGl6ZSh0bXB2ZWMzLCB0bXB2ZWMzKTtcbiAgICAgIHNldEF4aXNBbmdsZShvdXQsIHRtcHZlYzMsIE1hdGguUEkpO1xuICAgICAgcmV0dXJuIG91dDtcbiAgICB9IGVsc2UgaWYgKGRvdCA+IDAuOTk5OTk5KSB7XG4gICAgICBvdXRbMF0gPSAwO1xuICAgICAgb3V0WzFdID0gMDtcbiAgICAgIG91dFsyXSA9IDA7XG4gICAgICBvdXRbM10gPSAxO1xuICAgICAgcmV0dXJuIG91dDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmVjMy5jcm9zcyh0bXB2ZWMzLCBhLCBiKTtcbiAgICAgIG91dFswXSA9IHRtcHZlYzNbMF07XG4gICAgICBvdXRbMV0gPSB0bXB2ZWMzWzFdO1xuICAgICAgb3V0WzJdID0gdG1wdmVjM1syXTtcbiAgICAgIG91dFszXSA9IDEgKyBkb3Q7XG4gICAgICByZXR1cm4gbm9ybWFsaXplKG91dCwgb3V0KTtcbiAgICB9XG4gIH07XG59KCk7XG4vKipcclxuICogUGVyZm9ybXMgYSBzcGhlcmljYWwgbGluZWFyIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYyB0aGUgdGhpcmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gZCB0aGUgZm91cnRoIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgdmFyIHNxbGVycCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHRlbXAxID0gY3JlYXRlKCk7XG4gIHZhciB0ZW1wMiA9IGNyZWF0ZSgpO1xuICByZXR1cm4gZnVuY3Rpb24gKG91dCwgYSwgYiwgYywgZCwgdCkge1xuICAgIHNsZXJwKHRlbXAxLCBhLCBkLCB0KTtcbiAgICBzbGVycCh0ZW1wMiwgYiwgYywgdCk7XG4gICAgc2xlcnAob3V0LCB0ZW1wMSwgdGVtcDIsIDIgKiB0ICogKDEgLSB0KSk7XG4gICAgcmV0dXJuIG91dDtcbiAgfTtcbn0oKTtcbi8qKlxyXG4gKiBTZXRzIHRoZSBzcGVjaWZpZWQgcXVhdGVybmlvbiB3aXRoIHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSBnaXZlblxyXG4gKiBheGVzLiBFYWNoIGF4aXMgaXMgYSB2ZWMzIGFuZCBpcyBleHBlY3RlZCB0byBiZSB1bml0IGxlbmd0aCBhbmRcclxuICogcGVycGVuZGljdWxhciB0byBhbGwgb3RoZXIgc3BlY2lmaWVkIGF4ZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2aWV3ICB0aGUgdmVjdG9yIHJlcHJlc2VudGluZyB0aGUgdmlld2luZyBkaXJlY3Rpb25cclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHJpZ2h0IHRoZSB2ZWN0b3IgcmVwcmVzZW50aW5nIHRoZSBsb2NhbCBcInJpZ2h0XCIgZGlyZWN0aW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB1cCAgICB0aGUgdmVjdG9yIHJlcHJlc2VudGluZyB0aGUgbG9jYWwgXCJ1cFwiIGRpcmVjdGlvblxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgdmFyIHNldEF4ZXMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBtYXRyID0gbWF0My5jcmVhdGUoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChvdXQsIHZpZXcsIHJpZ2h0LCB1cCkge1xuICAgIG1hdHJbMF0gPSByaWdodFswXTtcbiAgICBtYXRyWzNdID0gcmlnaHRbMV07XG4gICAgbWF0cls2XSA9IHJpZ2h0WzJdO1xuICAgIG1hdHJbMV0gPSB1cFswXTtcbiAgICBtYXRyWzRdID0gdXBbMV07XG4gICAgbWF0cls3XSA9IHVwWzJdO1xuICAgIG1hdHJbMl0gPSAtdmlld1swXTtcbiAgICBtYXRyWzVdID0gLXZpZXdbMV07XG4gICAgbWF0cls4XSA9IC12aWV3WzJdO1xuICAgIHJldHVybiBub3JtYWxpemUob3V0LCBmcm9tTWF0MyhvdXQsIG1hdHIpKTtcbiAgfTtcbn0oKTsiLCJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbi8qKlxyXG4gKiAyIERpbWVuc2lvbmFsIFZlY3RvclxyXG4gKiBAbW9kdWxlIHZlYzJcclxuICovXG5cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3LCBlbXB0eSB2ZWMyXHJcbiAqXHJcbiAqIEByZXR1cm5zIHt2ZWMyfSBhIG5ldyAyRCB2ZWN0b3JcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgyKTtcblxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMF0gPSAwO1xuICAgIG91dFsxXSA9IDA7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMiBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHZlY3RvclxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB2ZWN0b3IgdG8gY2xvbmVcclxuICogQHJldHVybnMge3ZlYzJ9IGEgbmV3IDJEIHZlY3RvclxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGEpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDIpO1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMiBpbml0aWFsaXplZCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcclxuICogQHJldHVybnMge3ZlYzJ9IGEgbmV3IDJEIHZlY3RvclxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMoeCwgeSkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMik7XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIHZlYzIgdG8gYW5vdGhlclxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgc291cmNlIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMyIHRvIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcclxuICogQHJldHVybnMge3ZlYzJ9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIHgsIHkpIHtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBBZGRzIHR3byB2ZWMyJ3NcclxuICpcclxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBTdWJ0cmFjdHMgdmVjdG9yIGIgZnJvbSB2ZWN0b3IgYVxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzJ9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogTXVsdGlwbGllcyB0d28gdmVjMidzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICogYlsxXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBEaXZpZGVzIHR3byB2ZWMyJ3NcclxuICpcclxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGUob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC8gYlsxXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBNYXRoLmNlaWwgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMyXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHZlY3RvciB0byBjZWlsXHJcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjZWlsKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmNlaWwoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguY2VpbChhWzFdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBNYXRoLmZsb29yIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMlxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB2ZWN0b3IgdG8gZmxvb3JcclxuICogQHJldHVybnMge3ZlYzJ9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZsb29yKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmZsb29yKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLmZsb29yKGFbMV0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJldHVybnMgdGhlIG1pbmltdW0gb2YgdHdvIHZlYzInc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzJ9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1pbihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5taW4oYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWluKGFbMV0sIGJbMV0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJldHVybnMgdGhlIG1heGltdW0gb2YgdHdvIHZlYzInc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzJ9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1heChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5tYXgoYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWF4KGFbMV0sIGJbMV0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIE1hdGgucm91bmQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMyXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHZlY3RvciB0byByb3VuZFxyXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm91bmQob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGgucm91bmQoYVswXSk7XG4gIG91dFsxXSA9IE1hdGgucm91bmQoYVsxXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogU2NhbGVzIGEgdmVjMiBieSBhIHNjYWxhciBudW1iZXJcclxuICpcclxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIHZlY3RvciB0byBzY2FsZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHZlY3RvciBieVxyXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBBZGRzIHR3byB2ZWMyJ3MgYWZ0ZXIgc2NhbGluZyB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWVcclxuICpcclxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIgYnkgYmVmb3JlIGFkZGluZ1xyXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGVBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMyJ3NcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3RhbmNlKGEsIGIpIHtcbiAgdmFyIHggPSBiWzBdIC0gYVswXSxcbiAgICAgIHkgPSBiWzFdIC0gYVsxXTtcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSk7XG59XG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjMidzXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZShhLCBiKSB7XG4gIHZhciB4ID0gYlswXSAtIGFbMF0sXG4gICAgICB5ID0gYlsxXSAtIGFbMV07XG4gIHJldHVybiB4ICogeCArIHkgKiB5O1xufVxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiBhIHZlYzJcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBsZW5ndGggb2ZcclxuICogQHJldHVybnMge051bWJlcn0gbGVuZ3RoIG9mIGFcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXTtcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSk7XG59XG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBsZW5ndGggb2YgYSB2ZWMyXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHZlY3RvciB0byBjYWxjdWxhdGUgc3F1YXJlZCBsZW5ndGggb2ZcclxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBsZW5ndGggb2YgYVxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWRMZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXTtcbiAgcmV0dXJuIHggKiB4ICsgeSAqIHk7XG59XG4vKipcclxuICogTmVnYXRlcyB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzJcclxuICpcclxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdmVjdG9yIHRvIG5lZ2F0ZVxyXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbmVnYXRlKG91dCwgYSkge1xuICBvdXRbMF0gPSAtYVswXTtcbiAgb3V0WzFdID0gLWFbMV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogUmV0dXJucyB0aGUgaW52ZXJzZSBvZiB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzJcclxuICpcclxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdmVjdG9yIHRvIGludmVydFxyXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJzZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gMS4wIC8gYVswXTtcbiAgb3V0WzFdID0gMS4wIC8gYVsxXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBOb3JtYWxpemUgYSB2ZWMyXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHZlY3RvciB0byBub3JtYWxpemVcclxuICogQHJldHVybnMge3ZlYzJ9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShvdXQsIGEpIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV07XG4gIHZhciBsZW4gPSB4ICogeCArIHkgKiB5O1xuXG4gIGlmIChsZW4gPiAwKSB7XG4gICAgLy9UT0RPOiBldmFsdWF0ZSB1c2Ugb2YgZ2xtX2ludnNxcnQgaGVyZT9cbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gIH1cblxuICBvdXRbMF0gPSBhWzBdICogbGVuO1xuICBvdXRbMV0gPSBhWzFdICogbGVuO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGRvdCBwcm9kdWN0IG9mIHR3byB2ZWMyJ3NcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRvdCBwcm9kdWN0IG9mIGEgYW5kIGJcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkb3QoYSwgYikge1xuICByZXR1cm4gYVswXSAqIGJbMF0gKyBhWzFdICogYlsxXTtcbn1cbi8qKlxyXG4gKiBDb21wdXRlcyB0aGUgY3Jvc3MgcHJvZHVjdCBvZiB0d28gdmVjMidzXHJcbiAqIE5vdGUgdGhhdCB0aGUgY3Jvc3MgcHJvZHVjdCBtdXN0IGJ5IGRlZmluaXRpb24gcHJvZHVjZSBhIDNEIHZlY3RvclxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyb3NzKG91dCwgYSwgYikge1xuICB2YXIgeiA9IGFbMF0gKiBiWzFdIC0gYVsxXSAqIGJbMF07XG4gIG91dFswXSA9IG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IHo7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogUGVyZm9ybXMgYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byB2ZWMyJ3NcclxuICpcclxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcclxuICogQHJldHVybnMge3ZlYzJ9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxlcnAob3V0LCBhLCBiLCB0KSB7XG4gIHZhciBheCA9IGFbMF0sXG4gICAgICBheSA9IGFbMV07XG4gIG91dFswXSA9IGF4ICsgdCAqIChiWzBdIC0gYXgpO1xuICBvdXRbMV0gPSBheSArIHQgKiAoYlsxXSAtIGF5KTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSByYW5kb20gdmVjdG9yIHdpdGggdGhlIGdpdmVuIHNjYWxlXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbc2NhbGVdIExlbmd0aCBvZiB0aGUgcmVzdWx0aW5nIHZlY3Rvci4gSWYgb21taXR0ZWQsIGEgdW5pdCB2ZWN0b3Igd2lsbCBiZSByZXR1cm5lZFxyXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCwgc2NhbGUpIHtcbiAgc2NhbGUgPSBzY2FsZSB8fCAxLjA7XG4gIHZhciByID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyLjAgKiBNYXRoLlBJO1xuICBvdXRbMF0gPSBNYXRoLmNvcyhyKSAqIHNjYWxlO1xuICBvdXRbMV0gPSBNYXRoLnNpbihyKSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzIgd2l0aCBhIG1hdDJcclxuICpcclxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cclxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IG0gbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXHJcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQyKG91dCwgYSwgbSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXTtcbiAgb3V0WzBdID0gbVswXSAqIHggKyBtWzJdICogeTtcbiAgb3V0WzFdID0gbVsxXSAqIHggKyBtWzNdICogeTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMyIHdpdGggYSBtYXQyZFxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0MmR9IG0gbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXHJcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQyZChvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV07XG4gIG91dFswXSA9IG1bMF0gKiB4ICsgbVsyXSAqIHkgKyBtWzRdO1xuICBvdXRbMV0gPSBtWzFdICogeCArIG1bM10gKiB5ICsgbVs1XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMyIHdpdGggYSBtYXQzXHJcbiAqIDNyZCB2ZWN0b3IgY29tcG9uZW50IGlzIGltcGxpY2l0bHkgJzEnXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBtIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxyXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0MyhvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV07XG4gIG91dFswXSA9IG1bMF0gKiB4ICsgbVszXSAqIHkgKyBtWzZdO1xuICBvdXRbMV0gPSBtWzFdICogeCArIG1bNF0gKiB5ICsgbVs3XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMyIHdpdGggYSBtYXQ0XHJcbiAqIDNyZCB2ZWN0b3IgY29tcG9uZW50IGlzIGltcGxpY2l0bHkgJzAnXHJcbiAqIDR0aCB2ZWN0b3IgY29tcG9uZW50IGlzIGltcGxpY2l0bHkgJzEnXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBtIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxyXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0NChvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIG91dFswXSA9IG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzEyXTtcbiAgb3V0WzFdID0gbVsxXSAqIHggKyBtWzVdICogeSArIG1bMTNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJvdGF0ZSBhIDJEIHZlY3RvclxyXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzJcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgVGhlIHZlYzIgcG9pbnQgdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcclxuICogQHJldHVybnMge3ZlYzJ9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZShvdXQsIGEsIGIsIHJhZCkge1xuICAvL1RyYW5zbGF0ZSBwb2ludCB0byB0aGUgb3JpZ2luXG4gIHZhciBwMCA9IGFbMF0gLSBiWzBdLFxuICAgICAgcDEgPSBhWzFdIC0gYlsxXSxcbiAgICAgIHNpbkMgPSBNYXRoLnNpbihyYWQpLFxuICAgICAgY29zQyA9IE1hdGguY29zKHJhZCk7IC8vcGVyZm9ybSByb3RhdGlvbiBhbmQgdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cblxuICBvdXRbMF0gPSBwMCAqIGNvc0MgLSBwMSAqIHNpbkMgKyBiWzBdO1xuICBvdXRbMV0gPSBwMCAqIHNpbkMgKyBwMSAqIGNvc0MgKyBiWzFdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIEdldCB0aGUgYW5nbGUgYmV0d2VlbiB0d28gMkQgdmVjdG9yc1xyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSBUaGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiBUaGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gVGhlIGFuZ2xlIGluIHJhZGlhbnNcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhbmdsZShhLCBiKSB7XG4gIHZhciB4MSA9IGFbMF0sXG4gICAgICB5MSA9IGFbMV0sXG4gICAgICB4MiA9IGJbMF0sXG4gICAgICB5MiA9IGJbMV0sXG4gICAgICAvLyBtYWcgaXMgdGhlIHByb2R1Y3Qgb2YgdGhlIG1hZ25pdHVkZXMgb2YgYSBhbmQgYlxuICBtYWcgPSBNYXRoLnNxcnQoeDEgKiB4MSArIHkxICogeTEpICogTWF0aC5zcXJ0KHgyICogeDIgKyB5MiAqIHkyKSxcbiAgICAgIC8vIG1hZyAmJi4uIHNob3J0IGNpcmN1aXRzIGlmIG1hZyA9PSAwXG4gIGNvc2luZSA9IG1hZyAmJiAoeDEgKiB4MiArIHkxICogeTIpIC8gbWFnOyAvLyBNYXRoLm1pbihNYXRoLm1heChjb3NpbmUsIC0xKSwgMSkgY2xhbXBzIHRoZSBjb3NpbmUgYmV0d2VlbiAtMSBhbmQgMVxuXG4gIHJldHVybiBNYXRoLmFjb3MoTWF0aC5taW4oTWF0aC5tYXgoY29zaW5lLCAtMSksIDEpKTtcbn1cbi8qKlxyXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMyIHRvIHplcm9cclxuICpcclxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHJldHVybnMge3ZlYzJ9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHplcm8ob3V0KSB7XG4gIG91dFswXSA9IDAuMDtcbiAgb3V0WzFdID0gMC4wO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB2ZWN0b3JcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdmVjdG9yIHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xyXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XG4gIHJldHVybiBcInZlYzIoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiKVwiO1xufVxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgZXhhY3RseSBoYXZlIHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSBUaGUgZmlyc3QgdmVjdG9yLlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiBUaGUgc2Vjb25kIHZlY3Rvci5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdO1xufVxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSBUaGUgZmlyc3QgdmVjdG9yLlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiBUaGUgc2Vjb25kIHZlY3Rvci5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXTtcbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXTtcbiAgcmV0dXJuIE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJiBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSk7XG59XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMyLmxlbmd0aH1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIGxlbiA9IGxlbmd0aDtcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzIuc3VidHJhY3R9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDtcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzIubXVsdGlwbHl9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzIuZGl2aWRlfVxyXG4gKiBAZnVuY3Rpb25cclxuICovXG5cbmV4cG9ydCB2YXIgZGl2ID0gZGl2aWRlO1xuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMi5kaXN0YW5jZX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIGRpc3QgPSBkaXN0YW5jZTtcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzIuc3F1YXJlZERpc3RhbmNlfVxyXG4gKiBAZnVuY3Rpb25cclxuICovXG5cbmV4cG9ydCB2YXIgc3FyRGlzdCA9IHNxdWFyZWREaXN0YW5jZTtcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzIuc3F1YXJlZExlbmd0aH1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XG4vKipcclxuICogUGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvdmVyIGFuIGFycmF5IG9mIHZlYzJzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0FycmF5fSBhIHRoZSBhcnJheSBvZiB2ZWN0b3JzIHRvIGl0ZXJhdGUgb3ZlclxyXG4gKiBAcGFyYW0ge051bWJlcn0gc3RyaWRlIE51bWJlciBvZiBlbGVtZW50cyBiZXR3ZWVuIHRoZSBzdGFydCBvZiBlYWNoIHZlYzIuIElmIDAgYXNzdW1lcyB0aWdodGx5IHBhY2tlZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0IE51bWJlciBvZiBlbGVtZW50cyB0byBza2lwIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFycmF5XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb3VudCBOdW1iZXIgb2YgdmVjMnMgdG8gaXRlcmF0ZSBvdmVyLiBJZiAwIGl0ZXJhdGVzIG92ZXIgZW50aXJlIGFycmF5XHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdmVjdG9yIGluIHRoZSBhcnJheVxyXG4gKiBAcGFyYW0ge09iamVjdH0gW2FyZ10gYWRkaXRpb25hbCBhcmd1bWVudCB0byBwYXNzIHRvIGZuXHJcbiAqIEByZXR1cm5zIHtBcnJheX0gYVxyXG4gKiBAZnVuY3Rpb25cclxuICovXG5cbmV4cG9ydCB2YXIgZm9yRWFjaCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHZlYyA9IGNyZWF0ZSgpO1xuICByZXR1cm4gZnVuY3Rpb24gKGEsIHN0cmlkZSwgb2Zmc2V0LCBjb3VudCwgZm4sIGFyZykge1xuICAgIHZhciBpLCBsO1xuXG4gICAgaWYgKCFzdHJpZGUpIHtcbiAgICAgIHN0cmlkZSA9IDI7XG4gICAgfVxuXG4gICAgaWYgKCFvZmZzZXQpIHtcbiAgICAgIG9mZnNldCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGNvdW50KSB7XG4gICAgICBsID0gTWF0aC5taW4oY291bnQgKiBzdHJpZGUgKyBvZmZzZXQsIGEubGVuZ3RoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbCA9IGEubGVuZ3RoO1xuICAgIH1cblxuICAgIGZvciAoaSA9IG9mZnNldDsgaSA8IGw7IGkgKz0gc3RyaWRlKSB7XG4gICAgICB2ZWNbMF0gPSBhW2ldO1xuICAgICAgdmVjWzFdID0gYVtpICsgMV07XG4gICAgICBmbih2ZWMsIHZlYywgYXJnKTtcbiAgICAgIGFbaV0gPSB2ZWNbMF07XG4gICAgICBhW2kgKyAxXSA9IHZlY1sxXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbiAgfTtcbn0oKTsiLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1taXhlZC1vcGVyYXRvcnMgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLWJpdHdpc2UgKi9cbmltcG9ydCB7IHZlYzMgfSBmcm9tICcuLi90aGlyZHBhcnR5L2dsLW1hdHJpeC9pbmRleCc7XG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmNsYXNzIEdLVXRpbHMge1xuICAvKipcbiAgICogQGRlc2NyaXB0aW9uIENvbXB1dGUgYXhpcyBhbmdsZXMgZm9yIHBvc2l0b25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge251bWJlcn0geCAtIHggcG9zaXRpb25cbiAgICogQHBhcmFtIHtudW1iZXJ9IHogLSB6IHBvc2l0aW9uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBzdGF0aWMgcmFkaWFuc0ZvclBvc2l0aW9uKHgsIHopIHtcbiAgICBpZiAoeiA+IDApIHtcbiAgICAgIGlmICh4ID49IDApIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYXRhbih4IC8geik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAyICogTWF0aC5QSSArIE1hdGguYXRhbih4IC8geik7XG4gICAgfVxuICAgIGlmICh6IDwgMCkge1xuICAgICAgcmV0dXJuIE1hdGguUEkgKyBNYXRoLmF0YW4oeCAvIHopO1xuICAgIH1cblxuICAgIGlmICh4ID4gMCkge1xuICAgICAgcmV0dXJuIE1hdGguUEkgLyAyLjA7XG4gICAgfVxuXG4gICAgcmV0dXJuICgzICogTWF0aC5QSSkgLyAyLjA7XG4gIH1cblxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uIENvbnZlcnQgd29ybGRzcGFjZSBbeCx5LHpdIHRvIGxhdCBsb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge0FycmF5fSBwb3MgLSB3b3JsZHNwYWNlIGNvb3JkaW5hdGVzIFt4LHksel1cbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG4gIHN0YXRpYyBsYXRMb25Gcm9tV29ybGQocG9zKSB7XG4gICAgY29uc3Qgbm9ybWFsID0gdmVjMy5jcmVhdGUoKTtcbiAgICB2ZWMzLm5vcm1hbGl6ZShub3JtYWwsIHBvcyk7XG5cbiAgICBjb25zdCBsYXRSYWQgPSBNYXRoLmFzaW4obm9ybWFsWzFdKTtcbiAgICBjb25zdCBsb25SYWQgPSB0aGlzLnJhZGlhbnNGb3JQb3NpdGlvbihub3JtYWxbMF0sIG5vcm1hbFsyXSk7XG5cbiAgICBjb25zdCBsYXREZWcgPSAobGF0UmFkICogMTgwLjApIC8gTWF0aC5QSTtcbiAgICBsZXQgbG9uRGVnID0gKGxvblJhZCAqIDE4MC4wKSAvIE1hdGguUEk7XG4gICAgd2hpbGUgKGxvbkRlZyA+IDE4MC4wKSB7XG4gICAgICBsb25EZWcgLT0gMzYwLjA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGxhdDogbGF0RGVnLFxuICAgICAgbG9uOiBsb25EZWcsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVzY3JpcHRpb24gQ29tcHV0ZXMgZ3JlYXQgY2lyY2xlIGRpc3RhbmNlIGJldHdlZW4gMiBsYXQgbG9uIGNvb3Jkc1xuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwMCAtIHtsYXQ6IH5+LCBsb246IH5+fVxuICAgKiBAcGFyYW0ge09iamVjdH0gcDEgLSB7bGF0OiB+fiwgbG9uOiB+fn1cbiAgICogQHJldHVybnNcbiAgICovXG4gIHN0YXRpYyBkaXN0YW5jZUJldHdlZW5Qb2ludHMocDAsIHAxKSB7XG4gICAgY29uc3QgZGVncmVlc1RvUmFkaWFucyA9IChkZWdyZWVzKSA9PiBkZWdyZWVzICogKE1hdGguUEkgLyAxODApO1xuXG4gICAgY29uc3QgUiA9IDYzNzE7IC8vIGttXG4gICAgY29uc3QgcGhpMSA9IGRlZ3JlZXNUb1JhZGlhbnMocDAubGF0KTsgLy8gcGhpLCBsYW1iZGEgaW4gcmFkaWFuc1xuICAgIGNvbnN0IHBoaTIgPSBkZWdyZWVzVG9SYWRpYW5zKHAxLmxhdCk7XG4gICAgY29uc3QgZGVsdGFQaGkgPSBkZWdyZWVzVG9SYWRpYW5zKChwMS5sYXQgLSBwMC5sYXQpKTtcbiAgICBjb25zdCBkZWx0YUxhbWJkYSA9IGRlZ3JlZXNUb1JhZGlhbnMoKHAxLmxvbiAtIHAwLmxvbikpO1xuXG4gICAgY29uc3QgYSA9IE1hdGguc2luKGRlbHRhUGhpIC8gMikgKiBNYXRoLnNpbihkZWx0YVBoaSAvIDIpXG4gICAgICAgICAgICAgICsgTWF0aC5jb3MocGhpMSkgKiBNYXRoLmNvcyhwaGkyKVxuICAgICAgICAgICAgICAqIE1hdGguc2luKGRlbHRhTGFtYmRhIC8gMikgKiBNYXRoLnNpbihkZWx0YUxhbWJkYSAvIDIpO1xuICAgIGNvbnN0IGMgPSAyICogTWF0aC5hdGFuMihNYXRoLnNxcnQoYSksIE1hdGguc3FydCgxIC0gYSkpO1xuXG4gICAgY29uc3QgZCA9IFIgKiBjOyAvLyBpbiBrbVxuXG4gICAgcmV0dXJuIGQ7XG4gIH1cblxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uIENvbnZlcnQgbGF0IGxvbiBhbHQgdG8gd29ybGRzcGFjZVxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsYXQgLSBsYXRpdHVkZSBpbiBkZWdyZWVzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsb24gLSBsb25naXR1ZGUgaW4gZGVncmVlc1xuICAgKiBAcGFyYW0ge251bWJlcn0gYWx0IC0gYWx0aXR1ZGUgZnJvbSBzdXJmYWNlIG9mIGdsb2JlIGluIGVhcnRoIHJhZGl1cyAoc3VyZmFjZSA9IDApXG4gICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICovXG4gIHN0YXRpYyB3b3JsZEZyb21MYXRMb24obGF0LCBsb24sIGFsdCkge1xuICAgIGNvbnN0IGFsdGl0dWRlID0gYWx0IHx8IDAuMDtcblxuICAgIGNvbnN0IGxhdFJhZCA9IChsYXQgKiBNYXRoLlBJKSAvIDE4MC4wO1xuICAgIGNvbnN0IGxuZ1JhZCA9IChsb24gKiBNYXRoLlBJKSAvIDE4MC4wO1xuXG4gICAgY29uc3QgcmFkaXVzID0gTWF0aC5jb3MobGF0UmFkKTtcbiAgICBjb25zdCB5ID0gTWF0aC5zaW4obGF0UmFkKTtcbiAgICBjb25zdCB4ID0gTWF0aC5zaW4obG5nUmFkKSAqIHJhZGl1cztcbiAgICBjb25zdCB6ID0gTWF0aC5jb3MobG5nUmFkKSAqIHJhZGl1cztcblxuICAgIGNvbnN0IHBvcyA9IHZlYzMuZnJvbVZhbHVlcyh4LCB5LCB6KTtcblxuICAgIGNvbnN0IG5vcm0gPSB2ZWMzLmNyZWF0ZSgpO1xuICAgIHZlYzMubm9ybWFsaXplKG5vcm0sIHBvcyk7XG5cbiAgICBjb25zdCBhZGQgPSB2ZWMzLnNjYWxlKG5vcm0sIG5vcm0sIGFsdGl0dWRlKTtcblxuICAgIHZlYzMuYWRkKHBvcywgcG9zLCBhZGQpO1xuICAgIHJldHVybiBwb3M7XG4gIH1cblxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uIENvbnZlcnQgaGV4IGNvbG9yIHRvIFJHQiBhcnJheVxuICAgKiBAcGFyYW0ge1N0cmluZ30gaCAtIENvbG9yIEhleCBDb2RlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gbm9ybWFsaXplIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgbm9ybWFsaXplZCB0byBbMCwxXVxuICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAqL1xuICBzdGF0aWMgaGV4VG9SR0IoaCwgbm9ybWFsaXplKSB7XG4gICAgbGV0IHIgPSAwO1xuICAgIGxldCBnID0gMDtcbiAgICBsZXQgYiA9IDA7XG5cbiAgICBjb25zdCBub3JtID0gbm9ybWFsaXplICE9PSBmYWxzZTtcblxuICAgIGlmIChoLmxlbmd0aCA9PT0gNCkge1xuICAgICAgciA9IGAweCR7aFsxXX0ke2hbMV19YDtcbiAgICAgIGcgPSBgMHgke2hbMl19JHtoWzJdfWA7XG4gICAgICBiID0gYDB4JHtoWzNdfSR7aFszXX1gO1xuICAgIH0gZWxzZSBpZiAoaC5sZW5ndGggPT09IDcpIHtcbiAgICAgIHIgPSBgMHgke2hbMV19JHtoWzJdfWA7XG4gICAgICBnID0gYDB4JHtoWzNdfSR7aFs0XX1gO1xuICAgICAgYiA9IGAweCR7aFs1XX0ke2hbNl19YDtcbiAgICB9XG5cbiAgICBpZiAobm9ybSkge1xuICAgICAgciAvPSAyNTU7XG4gICAgICBnIC89IDI1NTtcbiAgICAgIGIgLz0gMjU1O1xuICAgIH0gZWxzZSB7XG4gICAgICByID0gcGFyc2VJbnQociwgMTYpO1xuICAgICAgZyA9IHBhcnNlSW50KGcsIDE2KTtcbiAgICAgIGIgPSBwYXJzZUludChiLCAxNik7XG4gICAgfVxuXG4gICAgcmV0dXJuIFtyLCBnLCBiXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVzY3JpcHRpb24gQ29udmVydCBoZXggKyBhbHBoYSB0byBSR0JBXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBoIC0gQ29sb3IgaGV4IGNvZGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGEgLSBBbHBoYSB2YWx1ZSBbMCwxXVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG5vcm1hbGl6ZSAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIG5vcm1hbGl6ZWQgdG8gWzAsMV1cbiAgICogQHJldHVybnMge0FycmF5fVxuICAgKi9cbiAgc3RhdGljIGhleFRvUkdCQShoLCBhLCBub3JtYWxpemUpIHtcbiAgICBjb25zdCByZ2IgPSB0aGlzLmhleFRvUkdCKGgsIG5vcm1hbGl6ZSk7XG4gICAgY29uc3QgYWxwaGEgPSAobm9ybWFsaXplICE9PSBmYWxzZSkgPyBhIDogYSAqIDI1NTtcbiAgICByZXR1cm4gW3JnYlswXSwgcmdiWzFdLCByZ2JbMl0sIGFscGhhXTtcbiAgfVxuXG4gIHN0YXRpYyBpc1N1YlNldChhLCBiKSB7XG4gICAgcmV0dXJuIGEuZXZlcnkoKGVsKSA9PiAoYi5maW5kKChlKSA9PiBlID09PSBlbCkgIT09IHVuZGVmaW5lZCkpO1xuICB9XG5cbiAgLyoqXG4gKiBBIGxpbmVhciBpbnRlcnBvbGF0b3IgZm9yIGhleGFkZWNpbWFsIGNvbG9yc1xuICogQHBhcmFtIHtTdHJpbmd9IGFcbiAqIEBwYXJhbSB7U3RyaW5nfSBiXG4gKiBAcGFyYW0ge051bWJlcn0gYW1vdW50XG4gKiBAZXhhbXBsZVxuICogLy8gcmV0dXJucyAjN0Y3RjdGXG4gKiBsZXJwQ29sb3IoJyMwMDAwMDAnLCAnI2ZmZmZmZicsIDAuNSlcbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKi9cbiAgc3RhdGljIGxlcnBDb2xvcihhLCBiLCBhbW91bnQpIHtcbiAgICBjb25zdCBhaCA9IHBhcnNlSW50KGEucmVwbGFjZSgvIy9nLCAnJyksIDE2KTtcbiAgICBjb25zdCBhciA9IGFoID4+IDE2OyBjb25zdCBhZyA9IGFoID4+IDggJiAweGZmOyBjb25zdCBhYiA9IGFoICYgMHhmZjtcbiAgICBjb25zdCBiaCA9IHBhcnNlSW50KGIucmVwbGFjZSgvIy9nLCAnJyksIDE2KTtcbiAgICBjb25zdCBiciA9IGJoID4+IDE2OyBjb25zdCBiZyA9IGJoID4+IDggJiAweGZmOyBjb25zdCBiYiA9IGJoICYgMHhmZjtcbiAgICBjb25zdCByciA9IGFyICsgYW1vdW50ICogKGJyIC0gYXIpO1xuICAgIGNvbnN0IHJnID0gYWcgKyBhbW91bnQgKiAoYmcgLSBhZyk7XG4gICAgY29uc3QgcmIgPSBhYiArIGFtb3VudCAqIChiYiAtIGFiKTtcblxuICAgIHJldHVybiBgIyR7KCgxIDw8IDI0KSArIChyciA8PCAxNikgKyAocmcgPDwgOCkgKyByYiB8IDApLnRvU3RyaW5nKDE2KS5zbGljZSgxKX1gO1xuICB9XG59XG5cbmV4cG9ydCB7IEdLVXRpbHMgfTtcbiIsInZhciBCZXppZXIgPVxuLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcblxuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cblxuXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cblx0LyoqXG5cdCAgQSBqYXZhc2NyaXB0IEJlemllciBjdXJ2ZSBsaWJyYXJ5IGJ5IFBvbWF4LlxuXG5cdCAgQmFzZWQgb24gaHR0cDovL3BvbWF4LmdpdGh1Yi5pby9iZXppZXJpbmZvXG5cblx0ICBUaGlzIGNvZGUgaXMgTUlUIGxpY2Vuc2VkLlxuXHQqKi9cblx0KGZ1bmN0aW9uICgpIHtcblx0ICBcInVzZSBzdHJpY3RcIjtcblxuXHQgIC8vIG1hdGgtaW5saW5pbmcuXG5cblx0ICB2YXIgYWJzID0gTWF0aC5hYnMsXG5cdCAgICAgIG1pbiA9IE1hdGgubWluLFxuXHQgICAgICBtYXggPSBNYXRoLm1heCxcblx0ICAgICAgY29zID0gTWF0aC5jb3MsXG5cdCAgICAgIHNpbiA9IE1hdGguc2luLFxuXHQgICAgICBhY29zID0gTWF0aC5hY29zLFxuXHQgICAgICBzcXJ0ID0gTWF0aC5zcXJ0LFxuXHQgICAgICBwaSA9IE1hdGguUEksXG5cblx0ICAvLyBhIHplcm8gY29vcmRpbmF0ZSwgd2hpY2ggaXMgc3VycHJpc2luZ2x5IHVzZWZ1bFxuXHQgIFpFUk8gPSB7IHg6IDAsIHk6IDAsIHo6IDAgfTtcblxuXHQgIC8vIHF1aXRlIG5lZWRlZFxuXHQgIHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cblx0ICAvLyBvbmx5IHVzZWQgZm9yIG91dGxpbmVzIGF0bS5cblx0ICB2YXIgUG9seUJlemllciA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cblx0ICAvKipcblx0ICAgKiBCZXppZXIgY3VydmUgY29uc3RydWN0b3IuIFRoZSBjb25zdHJ1Y3RvciBhcmd1bWVudCBjYW4gYmUgb25lIG9mIHRocmVlIHRoaW5nczpcblx0ICAgKlxuXHQgICAqIDEuIGFycmF5LzQgb2Yge3g6Li4uLCB5Oi4uLiwgejouLi59LCB6IG9wdGlvbmFsXG5cdCAgICogMi4gbnVtZXJpY2FsIGFycmF5Lzggb3JkZXJlZCB4MSx5MSx4Mix5Mix4Myx5Myx4NCx5NFxuXHQgICAqIDMuIG51bWVyaWNhbCBhcnJheS8xMiBvcmRlcmVkIHgxLHkxLHoxLHgyLHkyLHoyLHgzLHkzLHozLHg0LHk0LHo0XG5cdCAgICpcblx0ICAgKi9cblx0ICB2YXIgQmV6aWVyID0gZnVuY3Rpb24gQmV6aWVyKGNvb3Jkcykge1xuXHQgICAgdmFyIGFyZ3MgPSBjb29yZHMgJiYgY29vcmRzLmZvckVhY2ggPyBjb29yZHMgOiBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cdCAgICB2YXIgY29vcmRsZW4gPSBmYWxzZTtcblx0ICAgIGlmIChfdHlwZW9mKGFyZ3NbMF0pID09PSBcIm9iamVjdFwiKSB7XG5cdCAgICAgIGNvb3JkbGVuID0gYXJncy5sZW5ndGg7XG5cdCAgICAgIHZhciBuZXdhcmdzID0gW107XG5cdCAgICAgIGFyZ3MuZm9yRWFjaChmdW5jdGlvbiAocG9pbnQpIHtcblx0ICAgICAgICBbXCJ4XCIsIFwieVwiLCBcInpcIl0uZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuXHQgICAgICAgICAgaWYgKHR5cGVvZiBwb2ludFtkXSAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHQgICAgICAgICAgICBuZXdhcmdzLnB1c2gocG9pbnRbZF0pO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9KTtcblx0ICAgICAgYXJncyA9IG5ld2FyZ3M7XG5cdCAgICB9XG5cdCAgICB2YXIgaGlnaGVyID0gZmFsc2U7XG5cdCAgICB2YXIgbGVuID0gYXJncy5sZW5ndGg7XG5cdCAgICBpZiAoY29vcmRsZW4pIHtcblx0ICAgICAgaWYgKGNvb3JkbGVuID4gNCkge1xuXHQgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICE9PSAxKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPbmx5IG5ldyBCZXppZXIocG9pbnRbXSkgaXMgYWNjZXB0ZWQgZm9yIDR0aCBhbmQgaGlnaGVyIG9yZGVyIGN1cnZlc1wiKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaGlnaGVyID0gdHJ1ZTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaWYgKGxlbiAhPT0gNiAmJiBsZW4gIT09IDggJiYgbGVuICE9PSA5ICYmIGxlbiAhPT0gMTIpIHtcblx0ICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAhPT0gMSkge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT25seSBuZXcgQmV6aWVyKHBvaW50W10pIGlzIGFjY2VwdGVkIGZvciA0dGggYW5kIGhpZ2hlciBvcmRlciBjdXJ2ZXNcIik7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICB2YXIgXzNkID0gIWhpZ2hlciAmJiAobGVuID09PSA5IHx8IGxlbiA9PT0gMTIpIHx8IGNvb3JkcyAmJiBjb29yZHNbMF0gJiYgdHlwZW9mIGNvb3Jkc1swXS56ICE9PSBcInVuZGVmaW5lZFwiO1xuXHQgICAgdGhpcy5fM2QgPSBfM2Q7XG5cdCAgICB2YXIgcG9pbnRzID0gW107XG5cdCAgICBmb3IgKHZhciBpZHggPSAwLCBzdGVwID0gXzNkID8gMyA6IDI7IGlkeCA8IGxlbjsgaWR4ICs9IHN0ZXApIHtcblx0ICAgICAgdmFyIHBvaW50ID0ge1xuXHQgICAgICAgIHg6IGFyZ3NbaWR4XSxcblx0ICAgICAgICB5OiBhcmdzW2lkeCArIDFdXG5cdCAgICAgIH07XG5cdCAgICAgIGlmIChfM2QpIHtcblx0ICAgICAgICBwb2ludC56ID0gYXJnc1tpZHggKyAyXTtcblx0ICAgICAgfVxuXHQgICAgICBwb2ludHMucHVzaChwb2ludCk7XG5cdCAgICB9XG5cdCAgICB0aGlzLm9yZGVyID0gcG9pbnRzLmxlbmd0aCAtIDE7XG5cdCAgICB0aGlzLnBvaW50cyA9IHBvaW50cztcblx0ICAgIHZhciBkaW1zID0gW1wieFwiLCBcInlcIl07XG5cdCAgICBpZiAoXzNkKSBkaW1zLnB1c2goXCJ6XCIpO1xuXHQgICAgdGhpcy5kaW1zID0gZGltcztcblx0ICAgIHRoaXMuZGltbGVuID0gZGltcy5sZW5ndGg7XG5cblx0ICAgIChmdW5jdGlvbiAoY3VydmUpIHtcblx0ICAgICAgdmFyIG9yZGVyID0gY3VydmUub3JkZXI7XG5cdCAgICAgIHZhciBwb2ludHMgPSBjdXJ2ZS5wb2ludHM7XG5cdCAgICAgIHZhciBhID0gdXRpbHMuYWxpZ24ocG9pbnRzLCB7IHAxOiBwb2ludHNbMF0sIHAyOiBwb2ludHNbb3JkZXJdIH0pO1xuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBpZiAoYWJzKGFbaV0ueSkgPiAwLjAwMDEpIHtcblx0ICAgICAgICAgIGN1cnZlLl9saW5lYXIgPSBmYWxzZTtcblx0ICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgY3VydmUuX2xpbmVhciA9IHRydWU7XG5cdCAgICB9KSh0aGlzKTtcblxuXHQgICAgdGhpcy5fdDEgPSAwO1xuXHQgICAgdGhpcy5fdDIgPSAxO1xuXHQgICAgdGhpcy51cGRhdGUoKTtcblx0ICB9O1xuXG5cdCAgdmFyIHN2Z1RvQmV6aWVycyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cblx0ICAvKipcblx0ICAgKiB0dXJuIGFuIHN2ZyA8cGF0aD4gZCBhdHRyaWJ1dGUgaW50byBhIHNlcXVlbmNlIG9mIEJlemllciBzZWdtZW50cy5cblx0ICAgKi9cblx0ICBCZXppZXIuU1ZHdG9CZXppZXJzID0gZnVuY3Rpb24gKGQpIHtcblx0ICAgIHJldHVybiBzdmdUb0JlemllcnMoQmV6aWVyLCBkKTtcblx0ICB9O1xuXG5cdCAgZnVuY3Rpb24gZ2V0QUJDKG4sIFMsIEIsIEUsIHQpIHtcblx0ICAgIGlmICh0eXBlb2YgdCA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHQgICAgICB0ID0gMC41O1xuXHQgICAgfVxuXHQgICAgdmFyIHUgPSB1dGlscy5wcm9qZWN0aW9ucmF0aW8odCwgbiksXG5cdCAgICAgICAgdW0gPSAxIC0gdSxcblx0ICAgICAgICBDID0ge1xuXHQgICAgICB4OiB1ICogUy54ICsgdW0gKiBFLngsXG5cdCAgICAgIHk6IHUgKiBTLnkgKyB1bSAqIEUueVxuXHQgICAgfSxcblx0ICAgICAgICBzID0gdXRpbHMuYWJjcmF0aW8odCwgbiksXG5cdCAgICAgICAgQSA9IHtcblx0ICAgICAgeDogQi54ICsgKEIueCAtIEMueCkgLyBzLFxuXHQgICAgICB5OiBCLnkgKyAoQi55IC0gQy55KSAvIHNcblx0ICAgIH07XG5cdCAgICByZXR1cm4geyBBOiBBLCBCOiBCLCBDOiBDIH07XG5cdCAgfVxuXG5cdCAgQmV6aWVyLnF1YWRyYXRpY0Zyb21Qb2ludHMgPSBmdW5jdGlvbiAocDEsIHAyLCBwMywgdCkge1xuXHQgICAgaWYgKHR5cGVvZiB0ID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdCAgICAgIHQgPSAwLjU7XG5cdCAgICB9XG5cdCAgICAvLyBzaG9ydGN1dHMsIGFsdGhvdWdoIHRoZXkncmUgcmVhbGx5IGR1bWJcblx0ICAgIGlmICh0ID09PSAwKSB7XG5cdCAgICAgIHJldHVybiBuZXcgQmV6aWVyKHAyLCBwMiwgcDMpO1xuXHQgICAgfVxuXHQgICAgaWYgKHQgPT09IDEpIHtcblx0ICAgICAgcmV0dXJuIG5ldyBCZXppZXIocDEsIHAyLCBwMik7XG5cdCAgICB9XG5cdCAgICAvLyByZWFsIGZpdHRpbmcuXG5cdCAgICB2YXIgYWJjID0gZ2V0QUJDKDIsIHAxLCBwMiwgcDMsIHQpO1xuXHQgICAgcmV0dXJuIG5ldyBCZXppZXIocDEsIGFiYy5BLCBwMyk7XG5cdCAgfTtcblxuXHQgIEJlemllci5jdWJpY0Zyb21Qb2ludHMgPSBmdW5jdGlvbiAoUywgQiwgRSwgdCwgZDEpIHtcblx0ICAgIGlmICh0eXBlb2YgdCA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHQgICAgICB0ID0gMC41O1xuXHQgICAgfVxuXHQgICAgdmFyIGFiYyA9IGdldEFCQygzLCBTLCBCLCBFLCB0KTtcblx0ICAgIGlmICh0eXBlb2YgZDEgPT09IFwidW5kZWZpbmVkXCIpIHtcblx0ICAgICAgZDEgPSB1dGlscy5kaXN0KEIsIGFiYy5DKTtcblx0ICAgIH1cblx0ICAgIHZhciBkMiA9IGQxICogKDEgLSB0KSAvIHQ7XG5cblx0ICAgIHZhciBzZWxlbiA9IHV0aWxzLmRpc3QoUywgRSksXG5cdCAgICAgICAgbHggPSAoRS54IC0gUy54KSAvIHNlbGVuLFxuXHQgICAgICAgIGx5ID0gKEUueSAtIFMueSkgLyBzZWxlbixcblx0ICAgICAgICBieDEgPSBkMSAqIGx4LFxuXHQgICAgICAgIGJ5MSA9IGQxICogbHksXG5cdCAgICAgICAgYngyID0gZDIgKiBseCxcblx0ICAgICAgICBieTIgPSBkMiAqIGx5O1xuXHQgICAgLy8gZGVyaXZhdGlvbiBvZiBuZXcgaHVsbCBjb29yZGluYXRlc1xuXHQgICAgdmFyIGUxID0geyB4OiBCLnggLSBieDEsIHk6IEIueSAtIGJ5MSB9LFxuXHQgICAgICAgIGUyID0geyB4OiBCLnggKyBieDIsIHk6IEIueSArIGJ5MiB9LFxuXHQgICAgICAgIEEgPSBhYmMuQSxcblx0ICAgICAgICB2MSA9IHsgeDogQS54ICsgKGUxLnggLSBBLngpIC8gKDEgLSB0KSwgeTogQS55ICsgKGUxLnkgLSBBLnkpIC8gKDEgLSB0KSB9LFxuXHQgICAgICAgIHYyID0geyB4OiBBLnggKyAoZTIueCAtIEEueCkgLyB0LCB5OiBBLnkgKyAoZTIueSAtIEEueSkgLyB0IH0sXG5cdCAgICAgICAgbmMxID0geyB4OiBTLnggKyAodjEueCAtIFMueCkgLyB0LCB5OiBTLnkgKyAodjEueSAtIFMueSkgLyB0IH0sXG5cdCAgICAgICAgbmMyID0ge1xuXHQgICAgICB4OiBFLnggKyAodjIueCAtIEUueCkgLyAoMSAtIHQpLFxuXHQgICAgICB5OiBFLnkgKyAodjIueSAtIEUueSkgLyAoMSAtIHQpXG5cdCAgICB9O1xuXHQgICAgLy8gLi4uZG9uZVxuXHQgICAgcmV0dXJuIG5ldyBCZXppZXIoUywgbmMxLCBuYzIsIEUpO1xuXHQgIH07XG5cblx0ICB2YXIgZ2V0VXRpbHMgPSBmdW5jdGlvbiBnZXRVdGlscygpIHtcblx0ICAgIHJldHVybiB1dGlscztcblx0ICB9O1xuXG5cdCAgQmV6aWVyLmdldFV0aWxzID0gZ2V0VXRpbHM7XG5cblx0ICBCZXppZXIuUG9seUJlemllciA9IFBvbHlCZXppZXI7XG5cblx0ICBCZXppZXIucHJvdG90eXBlID0ge1xuXHQgICAgZ2V0VXRpbHM6IGdldFV0aWxzLFxuXHQgICAgdmFsdWVPZjogZnVuY3Rpb24gdmFsdWVPZigpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTtcblx0ICAgIH0sXG5cdCAgICB0b1N0cmluZzogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdCAgICAgIHJldHVybiB1dGlscy5wb2ludHNUb1N0cmluZyh0aGlzLnBvaW50cyk7XG5cdCAgICB9LFxuXHQgICAgdG9TVkc6IGZ1bmN0aW9uIHRvU1ZHKHJlbGF0aXZlKSB7XG5cdCAgICAgIGlmICh0aGlzLl8zZCkgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB2YXIgcCA9IHRoaXMucG9pbnRzLFxuXHQgICAgICAgICAgeCA9IHBbMF0ueCxcblx0ICAgICAgICAgIHkgPSBwWzBdLnksXG5cdCAgICAgICAgICBzID0gW1wiTVwiLCB4LCB5LCB0aGlzLm9yZGVyID09PSAyID8gXCJRXCIgOiBcIkNcIl07XG5cdCAgICAgIGZvciAodmFyIGkgPSAxLCBsYXN0ID0gcC5sZW5ndGg7IGkgPCBsYXN0OyBpKyspIHtcblx0ICAgICAgICBzLnB1c2gocFtpXS54KTtcblx0ICAgICAgICBzLnB1c2gocFtpXS55KTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcy5qb2luKFwiIFwiKTtcblx0ICAgIH0sXG5cdCAgICBzZXRSYXRpb3M6IGZ1bmN0aW9uIHNldFJhdGlvcyhyYXRpb3MpIHtcblx0ICAgICAgaWYgKHJhdGlvcy5sZW5ndGggIT09IHRoaXMucG9pbnRzLmxlbmd0aCkge1xuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcihcImluY29ycmVjdCBudW1iZXIgb2YgcmF0aW8gdmFsdWVzXCIpO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMucmF0aW9zID0gcmF0aW9zO1xuXHQgICAgICB0aGlzLl9sdXQgPSBbXTsgLy8gIGludmFsaWRhdGUgYW55IHByZWNvbXB1dGVkIExVVFxuXHQgICAgfSxcblx0ICAgIHZlcmlmeTogZnVuY3Rpb24gdmVyaWZ5KCkge1xuXHQgICAgICB2YXIgcHJpbnQgPSB0aGlzLmNvb3JkRGlnZXN0KCk7XG5cdCAgICAgIGlmIChwcmludCAhPT0gdGhpcy5fcHJpbnQpIHtcblx0ICAgICAgICB0aGlzLl9wcmludCA9IHByaW50O1xuXHQgICAgICAgIHRoaXMudXBkYXRlKCk7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBjb29yZERpZ2VzdDogZnVuY3Rpb24gY29vcmREaWdlc3QoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnBvaW50cy5tYXAoZnVuY3Rpb24gKGMsIHBvcykge1xuXHQgICAgICAgIHJldHVybiAnJyArIHBvcyArIGMueCArIGMueSArIChjLnogPyBjLnogOiAwKTtcblx0ICAgICAgfSkuam9pbignJyk7XG5cdCAgICB9LFxuXHQgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUobmV3cHJpbnQpIHtcblx0ICAgICAgLy8gaW52YWxpZGF0ZSBhbnkgcHJlY29tcHV0ZWQgTFVUXG5cdCAgICAgIHRoaXMuX2x1dCA9IFtdO1xuXHQgICAgICB0aGlzLmRwb2ludHMgPSB1dGlscy5kZXJpdmUodGhpcy5wb2ludHMsIHRoaXMuXzNkKTtcblx0ICAgICAgdGhpcy5jb21wdXRlZGlyZWN0aW9uKCk7XG5cdCAgICB9LFxuXHQgICAgY29tcHV0ZWRpcmVjdGlvbjogZnVuY3Rpb24gY29tcHV0ZWRpcmVjdGlvbigpIHtcblx0ICAgICAgdmFyIHBvaW50cyA9IHRoaXMucG9pbnRzO1xuXHQgICAgICB2YXIgYW5nbGUgPSB1dGlscy5hbmdsZShwb2ludHNbMF0sIHBvaW50c1t0aGlzLm9yZGVyXSwgcG9pbnRzWzFdKTtcblx0ICAgICAgdGhpcy5jbG9ja3dpc2UgPSBhbmdsZSA+IDA7XG5cdCAgICB9LFxuXHQgICAgbGVuZ3RoOiBmdW5jdGlvbiBsZW5ndGgoKSB7XG5cdCAgICAgIHJldHVybiB1dGlscy5sZW5ndGgodGhpcy5kZXJpdmF0aXZlLmJpbmQodGhpcykpO1xuXHQgICAgfSxcblx0ICAgIF9sdXQ6IFtdLFxuXHQgICAgZ2V0TFVUOiBmdW5jdGlvbiBnZXRMVVQoc3RlcHMpIHtcblx0ICAgICAgdGhpcy52ZXJpZnkoKTtcblx0ICAgICAgc3RlcHMgPSBzdGVwcyB8fCAxMDA7XG5cdCAgICAgIGlmICh0aGlzLl9sdXQubGVuZ3RoID09PSBzdGVwcykge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9sdXQ7XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5fbHV0ID0gW107XG5cdCAgICAgIC8vIFdlIHdhbnQgYSByYW5nZSBmcm9tIDAgdG8gMSBpbmNsdXNpdmUsIHNvXG5cdCAgICAgIC8vIHdlIGRlY3JlbWVudCBhbmQgdGhlbiB1c2UgPD0gcmF0aGVyIHRoYW4gPDpcblx0ICAgICAgc3RlcHMtLTtcblx0ICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPD0gc3RlcHM7IHQrKykge1xuXHQgICAgICAgIHRoaXMuX2x1dC5wdXNoKHRoaXMuY29tcHV0ZSh0IC8gc3RlcHMpKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gdGhpcy5fbHV0O1xuXHQgICAgfSxcblx0ICAgIG9uOiBmdW5jdGlvbiBvbihwb2ludCwgZXJyb3IpIHtcblx0ICAgICAgZXJyb3IgPSBlcnJvciB8fCA1O1xuXHQgICAgICB2YXIgbHV0ID0gdGhpcy5nZXRMVVQoKSxcblx0ICAgICAgICAgIGhpdHMgPSBbXSxcblx0ICAgICAgICAgIGMsXG5cdCAgICAgICAgICB0ID0gMDtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsdXQubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBjID0gbHV0W2ldO1xuXHQgICAgICAgIGlmICh1dGlscy5kaXN0KGMsIHBvaW50KSA8IGVycm9yKSB7XG5cdCAgICAgICAgICBoaXRzLnB1c2goYyk7XG5cdCAgICAgICAgICB0ICs9IGkgLyBsdXQubGVuZ3RoO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICBpZiAoIWhpdHMubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cdCAgICAgIHJldHVybiB0IC89IGhpdHMubGVuZ3RoO1xuXHQgICAgfSxcblx0ICAgIHByb2plY3Q6IGZ1bmN0aW9uIHByb2plY3QocG9pbnQpIHtcblx0ICAgICAgLy8gc3RlcCAxOiBjb2Fyc2UgY2hlY2tcblx0ICAgICAgdmFyIExVVCA9IHRoaXMuZ2V0TFVUKCksXG5cdCAgICAgICAgICBsID0gTFVULmxlbmd0aCAtIDEsXG5cdCAgICAgICAgICBjbG9zZXN0ID0gdXRpbHMuY2xvc2VzdChMVVQsIHBvaW50KSxcblx0ICAgICAgICAgIG1kaXN0ID0gY2xvc2VzdC5tZGlzdCxcblx0ICAgICAgICAgIG1wb3MgPSBjbG9zZXN0Lm1wb3M7XG5cblx0ICAgICAgLy8gc3RlcCAyOiBmaW5lIGNoZWNrXG5cdCAgICAgIHZhciBmdCxcblx0ICAgICAgICAgIHQsXG5cdCAgICAgICAgICBwLFxuXHQgICAgICAgICAgZCxcblx0ICAgICAgICAgIHQxID0gKG1wb3MgLSAxKSAvIGwsXG5cdCAgICAgICAgICB0MiA9IChtcG9zICsgMSkgLyBsLFxuXHQgICAgICAgICAgc3RlcCA9IDAuMSAvIGw7XG5cdCAgICAgIG1kaXN0ICs9IDE7XG5cdCAgICAgIGZvciAodCA9IHQxLCBmdCA9IHQ7IHQgPCB0MiArIHN0ZXA7IHQgKz0gc3RlcCkge1xuXHQgICAgICAgIHAgPSB0aGlzLmNvbXB1dGUodCk7XG5cdCAgICAgICAgZCA9IHV0aWxzLmRpc3QocG9pbnQsIHApO1xuXHQgICAgICAgIGlmIChkIDwgbWRpc3QpIHtcblx0ICAgICAgICAgIG1kaXN0ID0gZDtcblx0ICAgICAgICAgIGZ0ID0gdDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcCA9IHRoaXMuY29tcHV0ZShmdCk7XG5cdCAgICAgIHAudCA9IGZ0O1xuXHQgICAgICBwLmQgPSBtZGlzdDtcblx0ICAgICAgcmV0dXJuIHA7XG5cdCAgICB9LFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQodCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5jb21wdXRlKHQpO1xuXHQgICAgfSxcblx0ICAgIHBvaW50OiBmdW5jdGlvbiBwb2ludChpZHgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMucG9pbnRzW2lkeF07XG5cdCAgICB9LFxuXHQgICAgY29tcHV0ZTogZnVuY3Rpb24gY29tcHV0ZSh0KSB7XG5cdCAgICAgIGlmICh0aGlzLnJhdGlvcykgcmV0dXJuIHV0aWxzLmNvbXB1dGVXaXRoUmF0aW9zKHQsIHRoaXMucG9pbnRzLCB0aGlzLnJhdGlvcywgdGhpcy5fM2QpO1xuXHQgICAgICByZXR1cm4gdXRpbHMuY29tcHV0ZSh0LCB0aGlzLnBvaW50cywgdGhpcy5fM2QsIHRoaXMucmF0aW9zKTtcblx0ICAgIH0sXG5cdCAgICByYWlzZTogZnVuY3Rpb24gcmFpc2UoKSB7XG5cdCAgICAgIHZhciBwID0gdGhpcy5wb2ludHMsXG5cdCAgICAgICAgICBucCA9IFtwWzBdXSxcblx0ICAgICAgICAgIGksXG5cdCAgICAgICAgICBrID0gcC5sZW5ndGgsXG5cdCAgICAgICAgICBwaSxcblx0ICAgICAgICAgIHBpbTtcblx0ICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBrOyBpKyspIHtcblx0ICAgICAgICBwaSA9IHBbaV07XG5cdCAgICAgICAgcGltID0gcFtpIC0gMV07XG5cdCAgICAgICAgbnBbaV0gPSB7XG5cdCAgICAgICAgICB4OiAoayAtIGkpIC8gayAqIHBpLnggKyBpIC8gayAqIHBpbS54LFxuXHQgICAgICAgICAgeTogKGsgLSBpKSAvIGsgKiBwaS55ICsgaSAvIGsgKiBwaW0ueVxuXHQgICAgICAgIH07XG5cdCAgICAgIH1cblx0ICAgICAgbnBba10gPSBwW2sgLSAxXTtcblx0ICAgICAgcmV0dXJuIG5ldyBCZXppZXIobnApO1xuXHQgICAgfSxcblx0ICAgIGRlcml2YXRpdmU6IGZ1bmN0aW9uIGRlcml2YXRpdmUodCkge1xuXHQgICAgICB2YXIgbXQgPSAxIC0gdCxcblx0ICAgICAgICAgIGEsXG5cdCAgICAgICAgICBiLFxuXHQgICAgICAgICAgYyA9IDAsXG5cdCAgICAgICAgICBwID0gdGhpcy5kcG9pbnRzWzBdO1xuXHQgICAgICBpZiAodGhpcy5vcmRlciA9PT0gMikge1xuXHQgICAgICAgIHAgPSBbcFswXSwgcFsxXSwgWkVST107XG5cdCAgICAgICAgYSA9IG10O1xuXHQgICAgICAgIGIgPSB0O1xuXHQgICAgICB9XG5cdCAgICAgIGlmICh0aGlzLm9yZGVyID09PSAzKSB7XG5cdCAgICAgICAgYSA9IG10ICogbXQ7XG5cdCAgICAgICAgYiA9IG10ICogdCAqIDI7XG5cdCAgICAgICAgYyA9IHQgKiB0O1xuXHQgICAgICB9XG5cdCAgICAgIHZhciByZXQgPSB7XG5cdCAgICAgICAgeDogYSAqIHBbMF0ueCArIGIgKiBwWzFdLnggKyBjICogcFsyXS54LFxuXHQgICAgICAgIHk6IGEgKiBwWzBdLnkgKyBiICogcFsxXS55ICsgYyAqIHBbMl0ueVxuXHQgICAgICB9O1xuXHQgICAgICBpZiAodGhpcy5fM2QpIHtcblx0ICAgICAgICByZXQueiA9IGEgKiBwWzBdLnogKyBiICogcFsxXS56ICsgYyAqIHBbMl0uejtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcmV0O1xuXHQgICAgfSxcblx0ICAgIGN1cnZhdHVyZTogZnVuY3Rpb24gY3VydmF0dXJlKHQpIHtcblx0ICAgICAgcmV0dXJuIHV0aWxzLmN1cnZhdHVyZSh0LCB0aGlzLnBvaW50cywgdGhpcy5fM2QpO1xuXHQgICAgfSxcblx0ICAgIGluZmxlY3Rpb25zOiBmdW5jdGlvbiBpbmZsZWN0aW9ucygpIHtcblx0ICAgICAgcmV0dXJuIHV0aWxzLmluZmxlY3Rpb25zKHRoaXMucG9pbnRzKTtcblx0ICAgIH0sXG5cdCAgICBub3JtYWw6IGZ1bmN0aW9uIG5vcm1hbCh0KSB7XG5cdCAgICAgIHJldHVybiB0aGlzLl8zZCA/IHRoaXMuX19ub3JtYWwzKHQpIDogdGhpcy5fX25vcm1hbDIodCk7XG5cdCAgICB9LFxuXHQgICAgX19ub3JtYWwyOiBmdW5jdGlvbiBfX25vcm1hbDIodCkge1xuXHQgICAgICB2YXIgZCA9IHRoaXMuZGVyaXZhdGl2ZSh0KTtcblx0ICAgICAgdmFyIHEgPSBzcXJ0KGQueCAqIGQueCArIGQueSAqIGQueSk7XG5cdCAgICAgIHJldHVybiB7IHg6IC1kLnkgLyBxLCB5OiBkLnggLyBxIH07XG5cdCAgICB9LFxuXHQgICAgX19ub3JtYWwzOiBmdW5jdGlvbiBfX25vcm1hbDModCkge1xuXHQgICAgICAvLyBzZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNTQ1MzE1OVxuXHQgICAgICB2YXIgcjEgPSB0aGlzLmRlcml2YXRpdmUodCksXG5cdCAgICAgICAgICByMiA9IHRoaXMuZGVyaXZhdGl2ZSh0ICsgMC4wMSksXG5cdCAgICAgICAgICBxMSA9IHNxcnQocjEueCAqIHIxLnggKyByMS55ICogcjEueSArIHIxLnogKiByMS56KSxcblx0ICAgICAgICAgIHEyID0gc3FydChyMi54ICogcjIueCArIHIyLnkgKiByMi55ICsgcjIueiAqIHIyLnopO1xuXHQgICAgICByMS54IC89IHExO1xuXHQgICAgICByMS55IC89IHExO1xuXHQgICAgICByMS56IC89IHExO1xuXHQgICAgICByMi54IC89IHEyO1xuXHQgICAgICByMi55IC89IHEyO1xuXHQgICAgICByMi56IC89IHEyO1xuXHQgICAgICAvLyBjcm9zcyBwcm9kdWN0XG5cdCAgICAgIHZhciBjID0ge1xuXHQgICAgICAgIHg6IHIyLnkgKiByMS56IC0gcjIueiAqIHIxLnksXG5cdCAgICAgICAgeTogcjIueiAqIHIxLnggLSByMi54ICogcjEueixcblx0ICAgICAgICB6OiByMi54ICogcjEueSAtIHIyLnkgKiByMS54XG5cdCAgICAgIH07XG5cdCAgICAgIHZhciBtID0gc3FydChjLnggKiBjLnggKyBjLnkgKiBjLnkgKyBjLnogKiBjLnopO1xuXHQgICAgICBjLnggLz0gbTtcblx0ICAgICAgYy55IC89IG07XG5cdCAgICAgIGMueiAvPSBtO1xuXHQgICAgICAvLyByb3RhdGlvbiBtYXRyaXhcblx0ICAgICAgdmFyIFIgPSBbYy54ICogYy54LCBjLnggKiBjLnkgLSBjLnosIGMueCAqIGMueiArIGMueSwgYy54ICogYy55ICsgYy56LCBjLnkgKiBjLnksIGMueSAqIGMueiAtIGMueCwgYy54ICogYy56IC0gYy55LCBjLnkgKiBjLnogKyBjLngsIGMueiAqIGMuel07XG5cdCAgICAgIC8vIG5vcm1hbCB2ZWN0b3I6XG5cdCAgICAgIHZhciBuID0ge1xuXHQgICAgICAgIHg6IFJbMF0gKiByMS54ICsgUlsxXSAqIHIxLnkgKyBSWzJdICogcjEueixcblx0ICAgICAgICB5OiBSWzNdICogcjEueCArIFJbNF0gKiByMS55ICsgUls1XSAqIHIxLnosXG5cdCAgICAgICAgejogUls2XSAqIHIxLnggKyBSWzddICogcjEueSArIFJbOF0gKiByMS56XG5cdCAgICAgIH07XG5cdCAgICAgIHJldHVybiBuO1xuXHQgICAgfSxcblx0ICAgIGh1bGw6IGZ1bmN0aW9uIGh1bGwodCkge1xuXHQgICAgICB2YXIgcCA9IHRoaXMucG9pbnRzLFxuXHQgICAgICAgICAgX3AgPSBbXSxcblx0ICAgICAgICAgIHB0LFxuXHQgICAgICAgICAgcSA9IFtdLFxuXHQgICAgICAgICAgaWR4ID0gMCxcblx0ICAgICAgICAgIGkgPSAwLFxuXHQgICAgICAgICAgbCA9IDA7XG5cdCAgICAgIHFbaWR4KytdID0gcFswXTtcblx0ICAgICAgcVtpZHgrK10gPSBwWzFdO1xuXHQgICAgICBxW2lkeCsrXSA9IHBbMl07XG5cdCAgICAgIGlmICh0aGlzLm9yZGVyID09PSAzKSB7XG5cdCAgICAgICAgcVtpZHgrK10gPSBwWzNdO1xuXHQgICAgICB9XG5cdCAgICAgIC8vIHdlIGxlcnAgYmV0d2VlbiBhbGwgcG9pbnRzIGF0IGVhY2ggaXRlcmF0aW9uLCB1bnRpbCB3ZSBoYXZlIDEgcG9pbnQgbGVmdC5cblx0ICAgICAgd2hpbGUgKHAubGVuZ3RoID4gMSkge1xuXHQgICAgICAgIF9wID0gW107XG5cdCAgICAgICAgZm9yIChpID0gMCwgbCA9IHAubGVuZ3RoIC0gMTsgaSA8IGw7IGkrKykge1xuXHQgICAgICAgICAgcHQgPSB1dGlscy5sZXJwKHQsIHBbaV0sIHBbaSArIDFdKTtcblx0ICAgICAgICAgIHFbaWR4KytdID0gcHQ7XG5cdCAgICAgICAgICBfcC5wdXNoKHB0KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcCA9IF9wO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBxO1xuXHQgICAgfSxcblx0ICAgIHNwbGl0OiBmdW5jdGlvbiBzcGxpdCh0MSwgdDIpIHtcblx0ICAgICAgLy8gc2hvcnRjdXRzXG5cdCAgICAgIGlmICh0MSA9PT0gMCAmJiAhIXQyKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuc3BsaXQodDIpLmxlZnQ7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHQyID09PSAxKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuc3BsaXQodDEpLnJpZ2h0O1xuXHQgICAgICB9XG5cblx0ICAgICAgLy8gbm8gc2hvcnRjdXQ6IHVzZSBcImRlIENhc3RlbGphdVwiIGl0ZXJhdGlvbi5cblx0ICAgICAgdmFyIHEgPSB0aGlzLmh1bGwodDEpO1xuXHQgICAgICB2YXIgcmVzdWx0ID0ge1xuXHQgICAgICAgIGxlZnQ6IHRoaXMub3JkZXIgPT09IDIgPyBuZXcgQmV6aWVyKFtxWzBdLCBxWzNdLCBxWzVdXSkgOiBuZXcgQmV6aWVyKFtxWzBdLCBxWzRdLCBxWzddLCBxWzldXSksXG5cdCAgICAgICAgcmlnaHQ6IHRoaXMub3JkZXIgPT09IDIgPyBuZXcgQmV6aWVyKFtxWzVdLCBxWzRdLCBxWzJdXSkgOiBuZXcgQmV6aWVyKFtxWzldLCBxWzhdLCBxWzZdLCBxWzNdXSksXG5cdCAgICAgICAgc3BhbjogcVxuXHQgICAgICB9O1xuXG5cdCAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBiaW5kIF90MS9fdDIgaW5mb3JtYXRpb24hXG5cdCAgICAgIHJlc3VsdC5sZWZ0Ll90MSA9IHV0aWxzLm1hcCgwLCAwLCAxLCB0aGlzLl90MSwgdGhpcy5fdDIpO1xuXHQgICAgICByZXN1bHQubGVmdC5fdDIgPSB1dGlscy5tYXAodDEsIDAsIDEsIHRoaXMuX3QxLCB0aGlzLl90Mik7XG5cdCAgICAgIHJlc3VsdC5yaWdodC5fdDEgPSB1dGlscy5tYXAodDEsIDAsIDEsIHRoaXMuX3QxLCB0aGlzLl90Mik7XG5cdCAgICAgIHJlc3VsdC5yaWdodC5fdDIgPSB1dGlscy5tYXAoMSwgMCwgMSwgdGhpcy5fdDEsIHRoaXMuX3QyKTtcblxuXHQgICAgICAvLyBpZiB3ZSBoYXZlIG5vIHQyLCB3ZSdyZSBkb25lXG5cdCAgICAgIGlmICghdDIpIHtcblx0ICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICB9XG5cblx0ICAgICAgLy8gaWYgd2UgaGF2ZSBhIHQyLCBzcGxpdCBhZ2Fpbjpcblx0ICAgICAgdDIgPSB1dGlscy5tYXAodDIsIHQxLCAxLCAwLCAxKTtcblx0ICAgICAgdmFyIHN1YnNwbGl0ID0gcmVzdWx0LnJpZ2h0LnNwbGl0KHQyKTtcblx0ICAgICAgcmV0dXJuIHN1YnNwbGl0LmxlZnQ7XG5cdCAgICB9LFxuXHQgICAgZXh0cmVtYTogZnVuY3Rpb24gZXh0cmVtYSgpIHtcblx0ICAgICAgdmFyIGRpbXMgPSB0aGlzLmRpbXMsXG5cdCAgICAgICAgICByZXN1bHQgPSB7fSxcblx0ICAgICAgICAgIHJvb3RzID0gW10sXG5cdCAgICAgICAgICBwLFxuXHQgICAgICAgICAgbWZuO1xuXHQgICAgICBkaW1zLmZvckVhY2goZnVuY3Rpb24gKGRpbSkge1xuXHQgICAgICAgIG1mbiA9IGZ1bmN0aW9uIG1mbih2KSB7XG5cdCAgICAgICAgICByZXR1cm4gdltkaW1dO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgcCA9IHRoaXMuZHBvaW50c1swXS5tYXAobWZuKTtcblx0ICAgICAgICByZXN1bHRbZGltXSA9IHV0aWxzLmRyb290cyhwKTtcblx0ICAgICAgICBpZiAodGhpcy5vcmRlciA9PT0gMykge1xuXHQgICAgICAgICAgcCA9IHRoaXMuZHBvaW50c1sxXS5tYXAobWZuKTtcblx0ICAgICAgICAgIHJlc3VsdFtkaW1dID0gcmVzdWx0W2RpbV0uY29uY2F0KHV0aWxzLmRyb290cyhwKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJlc3VsdFtkaW1dID0gcmVzdWx0W2RpbV0uZmlsdGVyKGZ1bmN0aW9uICh0KSB7XG5cdCAgICAgICAgICByZXR1cm4gdCA+PSAwICYmIHQgPD0gMTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICByb290cyA9IHJvb3RzLmNvbmNhdChyZXN1bHRbZGltXS5zb3J0KHV0aWxzLm51bWJlclNvcnQpKTtcblx0ICAgICAgfS5iaW5kKHRoaXMpKTtcblx0ICAgICAgcm9vdHMgPSByb290cy5zb3J0KHV0aWxzLm51bWJlclNvcnQpLmZpbHRlcihmdW5jdGlvbiAodiwgaWR4KSB7XG5cdCAgICAgICAgcmV0dXJuIHJvb3RzLmluZGV4T2YodikgPT09IGlkeDtcblx0ICAgICAgfSk7XG5cdCAgICAgIHJlc3VsdC52YWx1ZXMgPSByb290cztcblx0ICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH0sXG5cdCAgICBiYm94OiBmdW5jdGlvbiBiYm94KCkge1xuXHQgICAgICB2YXIgZXh0cmVtYSA9IHRoaXMuZXh0cmVtYSgpLFxuXHQgICAgICAgICAgcmVzdWx0ID0ge307XG5cdCAgICAgIHRoaXMuZGltcy5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG5cdCAgICAgICAgcmVzdWx0W2RdID0gdXRpbHMuZ2V0bWlubWF4KHRoaXMsIGQsIGV4dHJlbWFbZF0pO1xuXHQgICAgICB9LmJpbmQodGhpcykpO1xuXHQgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgfSxcblx0ICAgIG92ZXJsYXBzOiBmdW5jdGlvbiBvdmVybGFwcyhjdXJ2ZSkge1xuXHQgICAgICB2YXIgbGJib3ggPSB0aGlzLmJib3goKSxcblx0ICAgICAgICAgIHRiYm94ID0gY3VydmUuYmJveCgpO1xuXHQgICAgICByZXR1cm4gdXRpbHMuYmJveG92ZXJsYXAobGJib3gsIHRiYm94KTtcblx0ICAgIH0sXG5cdCAgICBvZmZzZXQ6IGZ1bmN0aW9uIG9mZnNldCh0LCBkKSB7XG5cdCAgICAgIGlmICh0eXBlb2YgZCAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHQgICAgICAgIHZhciBjID0gdGhpcy5nZXQodCk7XG5cdCAgICAgICAgdmFyIG4gPSB0aGlzLm5vcm1hbCh0KTtcblx0ICAgICAgICB2YXIgcmV0ID0ge1xuXHQgICAgICAgICAgYzogYyxcblx0ICAgICAgICAgIG46IG4sXG5cdCAgICAgICAgICB4OiBjLnggKyBuLnggKiBkLFxuXHQgICAgICAgICAgeTogYy55ICsgbi55ICogZFxuXHQgICAgICAgIH07XG5cdCAgICAgICAgaWYgKHRoaXMuXzNkKSB7XG5cdCAgICAgICAgICByZXQueiA9IGMueiArIG4ueiAqIGQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHRoaXMuX2xpbmVhcikge1xuXHQgICAgICAgIHZhciBudiA9IHRoaXMubm9ybWFsKDApO1xuXHQgICAgICAgIHZhciBjb29yZHMgPSB0aGlzLnBvaW50cy5tYXAoZnVuY3Rpb24gKHApIHtcblx0ICAgICAgICAgIHZhciByZXQgPSB7XG5cdCAgICAgICAgICAgIHg6IHAueCArIHQgKiBudi54LFxuXHQgICAgICAgICAgICB5OiBwLnkgKyB0ICogbnYueVxuXHQgICAgICAgICAgfTtcblx0ICAgICAgICAgIGlmIChwLnogJiYgbi56KSB7XG5cdCAgICAgICAgICAgIHJldC56ID0gcC56ICsgdCAqIG52Lno7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHJldHVybiBbbmV3IEJlemllcihjb29yZHMpXTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgcmVkdWNlZCA9IHRoaXMucmVkdWNlKCk7XG5cdCAgICAgIHJldHVybiByZWR1Y2VkLm1hcChmdW5jdGlvbiAocykge1xuXHQgICAgICAgIGlmIChzLl9saW5lYXIpIHtcblx0ICAgICAgICAgIHJldHVybiBzLm9mZnNldCh0KVswXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHMuc2NhbGUodCk7XG5cdCAgICAgIH0pO1xuXHQgICAgfSxcblx0ICAgIHNpbXBsZTogZnVuY3Rpb24gc2ltcGxlKCkge1xuXHQgICAgICBpZiAodGhpcy5vcmRlciA9PT0gMykge1xuXHQgICAgICAgIHZhciBhMSA9IHV0aWxzLmFuZ2xlKHRoaXMucG9pbnRzWzBdLCB0aGlzLnBvaW50c1szXSwgdGhpcy5wb2ludHNbMV0pO1xuXHQgICAgICAgIHZhciBhMiA9IHV0aWxzLmFuZ2xlKHRoaXMucG9pbnRzWzBdLCB0aGlzLnBvaW50c1szXSwgdGhpcy5wb2ludHNbMl0pO1xuXHQgICAgICAgIGlmIChhMSA+IDAgJiYgYTIgPCAwIHx8IGExIDwgMCAmJiBhMiA+IDApIHJldHVybiBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgbjEgPSB0aGlzLm5vcm1hbCgwKTtcblx0ICAgICAgdmFyIG4yID0gdGhpcy5ub3JtYWwoMSk7XG5cdCAgICAgIHZhciBzID0gbjEueCAqIG4yLnggKyBuMS55ICogbjIueTtcblx0ICAgICAgaWYgKHRoaXMuXzNkKSB7XG5cdCAgICAgICAgcyArPSBuMS56ICogbjIuejtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgYW5nbGUgPSBhYnMoYWNvcyhzKSk7XG5cdCAgICAgIHJldHVybiBhbmdsZSA8IHBpIC8gMztcblx0ICAgIH0sXG5cdCAgICByZWR1Y2U6IGZ1bmN0aW9uIHJlZHVjZSgpIHtcblx0ICAgICAgdmFyIGksXG5cdCAgICAgICAgICB0MSA9IDAsXG5cdCAgICAgICAgICB0MiA9IDAsXG5cdCAgICAgICAgICBzdGVwID0gMC4wMSxcblx0ICAgICAgICAgIHNlZ21lbnQsXG5cdCAgICAgICAgICBwYXNzMSA9IFtdLFxuXHQgICAgICAgICAgcGFzczIgPSBbXTtcblx0ICAgICAgLy8gZmlyc3QgcGFzczogc3BsaXQgb24gZXh0cmVtYVxuXHQgICAgICB2YXIgZXh0cmVtYSA9IHRoaXMuZXh0cmVtYSgpLnZhbHVlcztcblx0ICAgICAgaWYgKGV4dHJlbWEuaW5kZXhPZigwKSA9PT0gLTEpIHtcblx0ICAgICAgICBleHRyZW1hID0gWzBdLmNvbmNhdChleHRyZW1hKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoZXh0cmVtYS5pbmRleE9mKDEpID09PSAtMSkge1xuXHQgICAgICAgIGV4dHJlbWEucHVzaCgxKTtcblx0ICAgICAgfVxuXG5cdCAgICAgIGZvciAodDEgPSBleHRyZW1hWzBdLCBpID0gMTsgaSA8IGV4dHJlbWEubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB0MiA9IGV4dHJlbWFbaV07XG5cdCAgICAgICAgc2VnbWVudCA9IHRoaXMuc3BsaXQodDEsIHQyKTtcblx0ICAgICAgICBzZWdtZW50Ll90MSA9IHQxO1xuXHQgICAgICAgIHNlZ21lbnQuX3QyID0gdDI7XG5cdCAgICAgICAgcGFzczEucHVzaChzZWdtZW50KTtcblx0ICAgICAgICB0MSA9IHQyO1xuXHQgICAgICB9XG5cblx0ICAgICAgLy8gc2Vjb25kIHBhc3M6IGZ1cnRoZXIgcmVkdWNlIHRoZXNlIHNlZ21lbnRzIHRvIHNpbXBsZSBzZWdtZW50c1xuXHQgICAgICBwYXNzMS5mb3JFYWNoKGZ1bmN0aW9uIChwMSkge1xuXHQgICAgICAgIHQxID0gMDtcblx0ICAgICAgICB0MiA9IDA7XG5cdCAgICAgICAgd2hpbGUgKHQyIDw9IDEpIHtcblx0ICAgICAgICAgIGZvciAodDIgPSB0MSArIHN0ZXA7IHQyIDw9IDEgKyBzdGVwOyB0MiArPSBzdGVwKSB7XG5cdCAgICAgICAgICAgIHNlZ21lbnQgPSBwMS5zcGxpdCh0MSwgdDIpO1xuXHQgICAgICAgICAgICBpZiAoIXNlZ21lbnQuc2ltcGxlKCkpIHtcblx0ICAgICAgICAgICAgICB0MiAtPSBzdGVwO1xuXHQgICAgICAgICAgICAgIGlmIChhYnModDEgLSB0MikgPCBzdGVwKSB7XG5cdCAgICAgICAgICAgICAgICAvLyB3ZSBjYW4gbmV2ZXIgZm9ybSBhIHJlZHVjdGlvblxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICBzZWdtZW50ID0gcDEuc3BsaXQodDEsIHQyKTtcblx0ICAgICAgICAgICAgICBzZWdtZW50Ll90MSA9IHV0aWxzLm1hcCh0MSwgMCwgMSwgcDEuX3QxLCBwMS5fdDIpO1xuXHQgICAgICAgICAgICAgIHNlZ21lbnQuX3QyID0gdXRpbHMubWFwKHQyLCAwLCAxLCBwMS5fdDEsIHAxLl90Mik7XG5cdCAgICAgICAgICAgICAgcGFzczIucHVzaChzZWdtZW50KTtcblx0ICAgICAgICAgICAgICB0MSA9IHQyO1xuXHQgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICh0MSA8IDEpIHtcblx0ICAgICAgICAgIHNlZ21lbnQgPSBwMS5zcGxpdCh0MSwgMSk7XG5cdCAgICAgICAgICBzZWdtZW50Ll90MSA9IHV0aWxzLm1hcCh0MSwgMCwgMSwgcDEuX3QxLCBwMS5fdDIpO1xuXHQgICAgICAgICAgc2VnbWVudC5fdDIgPSBwMS5fdDI7XG5cdCAgICAgICAgICBwYXNzMi5wdXNoKHNlZ21lbnQpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiBwYXNzMjtcblx0ICAgIH0sXG5cdCAgICBzY2FsZTogZnVuY3Rpb24gc2NhbGUoZCkge1xuXHQgICAgICB2YXIgb3JkZXIgPSB0aGlzLm9yZGVyO1xuXHQgICAgICB2YXIgZGlzdGFuY2VGbiA9IGZhbHNlO1xuXHQgICAgICBpZiAodHlwZW9mIGQgPT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgIGRpc3RhbmNlRm4gPSBkO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChkaXN0YW5jZUZuICYmIG9yZGVyID09PSAyKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMucmFpc2UoKS5zY2FsZShkaXN0YW5jZUZuKTtcblx0ICAgICAgfVxuXG5cdCAgICAgIC8vIFRPRE86IGFkZCBzcGVjaWFsIGhhbmRsaW5nIGZvciBkZWdlbmVyYXRlICg9bGluZWFyKSBjdXJ2ZXMuXG5cdCAgICAgIHZhciBjbG9ja3dpc2UgPSB0aGlzLmNsb2Nrd2lzZTtcblx0ICAgICAgdmFyIHIxID0gZGlzdGFuY2VGbiA/IGRpc3RhbmNlRm4oMCkgOiBkO1xuXHQgICAgICB2YXIgcjIgPSBkaXN0YW5jZUZuID8gZGlzdGFuY2VGbigxKSA6IGQ7XG5cdCAgICAgIHZhciB2ID0gW3RoaXMub2Zmc2V0KDAsIDEwKSwgdGhpcy5vZmZzZXQoMSwgMTApXTtcblx0ICAgICAgdmFyIG8gPSB1dGlscy5sbGk0KHZbMF0sIHZbMF0uYywgdlsxXSwgdlsxXS5jKTtcblx0ICAgICAgaWYgKCFvKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IHNjYWxlIHRoaXMgY3VydmUuIFRyeSByZWR1Y2luZyBpdCBmaXJzdC5cIik7XG5cdCAgICAgIH1cblx0ICAgICAgLy8gbW92ZSBhbGwgcG9pbnRzIGJ5IGRpc3RhbmNlICdkJyB3cnQgdGhlIG9yaWdpbiAnbydcblx0ICAgICAgdmFyIHBvaW50cyA9IHRoaXMucG9pbnRzLFxuXHQgICAgICAgICAgbnAgPSBbXTtcblxuXHQgICAgICAvLyBtb3ZlIGVuZCBwb2ludHMgYnkgZml4ZWQgZGlzdGFuY2UgYWxvbmcgbm9ybWFsLlxuXHQgICAgICBbMCwgMV0uZm9yRWFjaChmdW5jdGlvbiAodCkge1xuXHQgICAgICAgIHZhciBwID0gbnBbdCAqIG9yZGVyXSA9IHV0aWxzLmNvcHkocG9pbnRzW3QgKiBvcmRlcl0pO1xuXHQgICAgICAgIHAueCArPSAodCA/IHIyIDogcjEpICogdlt0XS5uLng7XG5cdCAgICAgICAgcC55ICs9ICh0ID8gcjIgOiByMSkgKiB2W3RdLm4ueTtcblx0ICAgICAgfS5iaW5kKHRoaXMpKTtcblxuXHQgICAgICBpZiAoIWRpc3RhbmNlRm4pIHtcblx0ICAgICAgICAvLyBtb3ZlIGNvbnRyb2wgcG9pbnRzIHRvIGxpZSBvbiB0aGUgaW50ZXJzZWN0aW9uIG9mIHRoZSBvZmZzZXRcblx0ICAgICAgICAvLyBkZXJpdmF0aXZlIHZlY3RvciwgYW5kIHRoZSBvcmlnaW4tdGhyb3VnaC1jb250cm9sIHZlY3RvclxuXHQgICAgICAgIFswLCAxXS5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XG5cdCAgICAgICAgICBpZiAodGhpcy5vcmRlciA9PT0gMiAmJiAhIXQpIHJldHVybjtcblx0ICAgICAgICAgIHZhciBwID0gbnBbdCAqIG9yZGVyXTtcblx0ICAgICAgICAgIHZhciBkID0gdGhpcy5kZXJpdmF0aXZlKHQpO1xuXHQgICAgICAgICAgdmFyIHAyID0geyB4OiBwLnggKyBkLngsIHk6IHAueSArIGQueSB9O1xuXHQgICAgICAgICAgbnBbdCArIDFdID0gdXRpbHMubGxpNChwLCBwMiwgbywgcG9pbnRzW3QgKyAxXSk7XG5cdCAgICAgICAgfS5iaW5kKHRoaXMpKTtcblx0ICAgICAgICByZXR1cm4gbmV3IEJlemllcihucCk7XG5cdCAgICAgIH1cblxuXHQgICAgICAvLyBtb3ZlIGNvbnRyb2wgcG9pbnRzIGJ5IFwiaG93ZXZlciBtdWNoIG5lY2Vzc2FyeSB0b1xuXHQgICAgICAvLyBlbnN1cmUgdGhlIGNvcnJlY3QgdGFuZ2VudCB0byBlbmRwb2ludFwiLlxuXHQgICAgICBbMCwgMV0uZm9yRWFjaChmdW5jdGlvbiAodCkge1xuXHQgICAgICAgIGlmICh0aGlzLm9yZGVyID09PSAyICYmICEhdCkgcmV0dXJuO1xuXHQgICAgICAgIHZhciBwID0gcG9pbnRzW3QgKyAxXTtcblx0ICAgICAgICB2YXIgb3YgPSB7XG5cdCAgICAgICAgICB4OiBwLnggLSBvLngsXG5cdCAgICAgICAgICB5OiBwLnkgLSBvLnlcblx0ICAgICAgICB9O1xuXHQgICAgICAgIHZhciByYyA9IGRpc3RhbmNlRm4gPyBkaXN0YW5jZUZuKCh0ICsgMSkgLyBvcmRlcikgOiBkO1xuXHQgICAgICAgIGlmIChkaXN0YW5jZUZuICYmICFjbG9ja3dpc2UpIHJjID0gLXJjO1xuXHQgICAgICAgIHZhciBtID0gc3FydChvdi54ICogb3YueCArIG92LnkgKiBvdi55KTtcblx0ICAgICAgICBvdi54IC89IG07XG5cdCAgICAgICAgb3YueSAvPSBtO1xuXHQgICAgICAgIG5wW3QgKyAxXSA9IHtcblx0ICAgICAgICAgIHg6IHAueCArIHJjICogb3YueCxcblx0ICAgICAgICAgIHk6IHAueSArIHJjICogb3YueVxuXHQgICAgICAgIH07XG5cdCAgICAgIH0uYmluZCh0aGlzKSk7XG5cdCAgICAgIHJldHVybiBuZXcgQmV6aWVyKG5wKTtcblx0ICAgIH0sXG5cdCAgICBvdXRsaW5lOiBmdW5jdGlvbiBvdXRsaW5lKGQxLCBkMiwgZDMsIGQ0KSB7XG5cdCAgICAgIGQyID0gdHlwZW9mIGQyID09PSBcInVuZGVmaW5lZFwiID8gZDEgOiBkMjtcblx0ICAgICAgdmFyIHJlZHVjZWQgPSB0aGlzLnJlZHVjZSgpLFxuXHQgICAgICAgICAgbGVuID0gcmVkdWNlZC5sZW5ndGgsXG5cdCAgICAgICAgICBmY3VydmVzID0gW10sXG5cdCAgICAgICAgICBiY3VydmVzID0gW10sXG5cdCAgICAgICAgICBwLFxuXHQgICAgICAgICAgYWxlbiA9IDAsXG5cdCAgICAgICAgICB0bGVuID0gdGhpcy5sZW5ndGgoKTtcblxuXHQgICAgICB2YXIgZ3JhZHVhdGVkID0gdHlwZW9mIGQzICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBkNCAhPT0gXCJ1bmRlZmluZWRcIjtcblxuXHQgICAgICBmdW5jdGlvbiBsaW5lYXJEaXN0YW5jZUZ1bmN0aW9uKHMsIGUsIHRsZW4sIGFsZW4sIHNsZW4pIHtcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHYpIHtcblx0ICAgICAgICAgIHZhciBmMSA9IGFsZW4gLyB0bGVuLFxuXHQgICAgICAgICAgICAgIGYyID0gKGFsZW4gKyBzbGVuKSAvIHRsZW4sXG5cdCAgICAgICAgICAgICAgZCA9IGUgLSBzO1xuXHQgICAgICAgICAgcmV0dXJuIHV0aWxzLm1hcCh2LCAwLCAxLCBzICsgZjEgKiBkLCBzICsgZjIgKiBkKTtcblx0ICAgICAgICB9O1xuXHQgICAgICB9XG5cblx0ICAgICAgLy8gZm9ybSBjdXJ2ZSBvdWxpbmVzXG5cdCAgICAgIHJlZHVjZWQuZm9yRWFjaChmdW5jdGlvbiAoc2VnbWVudCkge1xuXHQgICAgICAgIHNsZW4gPSBzZWdtZW50Lmxlbmd0aCgpO1xuXHQgICAgICAgIGlmIChncmFkdWF0ZWQpIHtcblx0ICAgICAgICAgIGZjdXJ2ZXMucHVzaChzZWdtZW50LnNjYWxlKGxpbmVhckRpc3RhbmNlRnVuY3Rpb24oZDEsIGQzLCB0bGVuLCBhbGVuLCBzbGVuKSkpO1xuXHQgICAgICAgICAgYmN1cnZlcy5wdXNoKHNlZ21lbnQuc2NhbGUobGluZWFyRGlzdGFuY2VGdW5jdGlvbigtZDIsIC1kNCwgdGxlbiwgYWxlbiwgc2xlbikpKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgZmN1cnZlcy5wdXNoKHNlZ21lbnQuc2NhbGUoZDEpKTtcblx0ICAgICAgICAgIGJjdXJ2ZXMucHVzaChzZWdtZW50LnNjYWxlKC1kMikpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBhbGVuICs9IHNsZW47XG5cdCAgICAgIH0pO1xuXG5cdCAgICAgIC8vIHJldmVyc2UgdGhlIFwicmV0dXJuXCIgb3V0bGluZVxuXHQgICAgICBiY3VydmVzID0gYmN1cnZlcy5tYXAoZnVuY3Rpb24gKHMpIHtcblx0ICAgICAgICBwID0gcy5wb2ludHM7XG5cdCAgICAgICAgaWYgKHBbM10pIHtcblx0ICAgICAgICAgIHMucG9pbnRzID0gW3BbM10sIHBbMl0sIHBbMV0sIHBbMF1dO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBzLnBvaW50cyA9IFtwWzJdLCBwWzFdLCBwWzBdXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHM7XG5cdCAgICAgIH0pLnJldmVyc2UoKTtcblxuXHQgICAgICAvLyBmb3JtIHRoZSBlbmRjYXBzIGFzIGxpbmVzXG5cdCAgICAgIHZhciBmcyA9IGZjdXJ2ZXNbMF0ucG9pbnRzWzBdLFxuXHQgICAgICAgICAgZmUgPSBmY3VydmVzW2xlbiAtIDFdLnBvaW50c1tmY3VydmVzW2xlbiAtIDFdLnBvaW50cy5sZW5ndGggLSAxXSxcblx0ICAgICAgICAgIGJzID0gYmN1cnZlc1tsZW4gLSAxXS5wb2ludHNbYmN1cnZlc1tsZW4gLSAxXS5wb2ludHMubGVuZ3RoIC0gMV0sXG5cdCAgICAgICAgICBiZSA9IGJjdXJ2ZXNbMF0ucG9pbnRzWzBdLFxuXHQgICAgICAgICAgbHMgPSB1dGlscy5tYWtlbGluZShicywgZnMpLFxuXHQgICAgICAgICAgbGUgPSB1dGlscy5tYWtlbGluZShmZSwgYmUpLFxuXHQgICAgICAgICAgc2VnbWVudHMgPSBbbHNdLmNvbmNhdChmY3VydmVzKS5jb25jYXQoW2xlXSkuY29uY2F0KGJjdXJ2ZXMpLFxuXHQgICAgICAgICAgc2xlbiA9IHNlZ21lbnRzLmxlbmd0aDtcblxuXHQgICAgICByZXR1cm4gbmV3IFBvbHlCZXppZXIoc2VnbWVudHMpO1xuXHQgICAgfSxcblx0ICAgIG91dGxpbmVzaGFwZXM6IGZ1bmN0aW9uIG91dGxpbmVzaGFwZXMoZDEsIGQyLCBjdXJ2ZUludGVyc2VjdGlvblRocmVzaG9sZCkge1xuXHQgICAgICBkMiA9IGQyIHx8IGQxO1xuXHQgICAgICB2YXIgb3V0bGluZSA9IHRoaXMub3V0bGluZShkMSwgZDIpLmN1cnZlcztcblx0ICAgICAgdmFyIHNoYXBlcyA9IFtdO1xuXHQgICAgICBmb3IgKHZhciBpID0gMSwgbGVuID0gb3V0bGluZS5sZW5ndGg7IGkgPCBsZW4gLyAyOyBpKyspIHtcblx0ICAgICAgICB2YXIgc2hhcGUgPSB1dGlscy5tYWtlc2hhcGUob3V0bGluZVtpXSwgb3V0bGluZVtsZW4gLSBpXSwgY3VydmVJbnRlcnNlY3Rpb25UaHJlc2hvbGQpO1xuXHQgICAgICAgIHNoYXBlLnN0YXJ0Y2FwLnZpcnR1YWwgPSBpID4gMTtcblx0ICAgICAgICBzaGFwZS5lbmRjYXAudmlydHVhbCA9IGkgPCBsZW4gLyAyIC0gMTtcblx0ICAgICAgICBzaGFwZXMucHVzaChzaGFwZSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHNoYXBlcztcblx0ICAgIH0sXG5cdCAgICBpbnRlcnNlY3RzOiBmdW5jdGlvbiBpbnRlcnNlY3RzKGN1cnZlLCBjdXJ2ZUludGVyc2VjdGlvblRocmVzaG9sZCkge1xuXHQgICAgICBpZiAoIWN1cnZlKSByZXR1cm4gdGhpcy5zZWxmaW50ZXJzZWN0cyhjdXJ2ZUludGVyc2VjdGlvblRocmVzaG9sZCk7XG5cdCAgICAgIGlmIChjdXJ2ZS5wMSAmJiBjdXJ2ZS5wMikge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmxpbmVJbnRlcnNlY3RzKGN1cnZlKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoY3VydmUgaW5zdGFuY2VvZiBCZXppZXIpIHtcblx0ICAgICAgICBjdXJ2ZSA9IGN1cnZlLnJlZHVjZSgpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB0aGlzLmN1cnZlaW50ZXJzZWN0cyh0aGlzLnJlZHVjZSgpLCBjdXJ2ZSwgY3VydmVJbnRlcnNlY3Rpb25UaHJlc2hvbGQpO1xuXHQgICAgfSxcblx0ICAgIGxpbmVJbnRlcnNlY3RzOiBmdW5jdGlvbiBsaW5lSW50ZXJzZWN0cyhsaW5lKSB7XG5cdCAgICAgIHZhciBteCA9IG1pbihsaW5lLnAxLngsIGxpbmUucDIueCksXG5cdCAgICAgICAgICBteSA9IG1pbihsaW5lLnAxLnksIGxpbmUucDIueSksXG5cdCAgICAgICAgICBNWCA9IG1heChsaW5lLnAxLngsIGxpbmUucDIueCksXG5cdCAgICAgICAgICBNWSA9IG1heChsaW5lLnAxLnksIGxpbmUucDIueSksXG5cdCAgICAgICAgICBzZWxmID0gdGhpcztcblx0ICAgICAgcmV0dXJuIHV0aWxzLnJvb3RzKHRoaXMucG9pbnRzLCBsaW5lKS5maWx0ZXIoZnVuY3Rpb24gKHQpIHtcblx0ICAgICAgICB2YXIgcCA9IHNlbGYuZ2V0KHQpO1xuXHQgICAgICAgIHJldHVybiB1dGlscy5iZXR3ZWVuKHAueCwgbXgsIE1YKSAmJiB1dGlscy5iZXR3ZWVuKHAueSwgbXksIE1ZKTtcblx0ICAgICAgfSk7XG5cdCAgICB9LFxuXHQgICAgc2VsZmludGVyc2VjdHM6IGZ1bmN0aW9uIHNlbGZpbnRlcnNlY3RzKGN1cnZlSW50ZXJzZWN0aW9uVGhyZXNob2xkKSB7XG5cdCAgICAgIHZhciByZWR1Y2VkID0gdGhpcy5yZWR1Y2UoKTtcblx0ICAgICAgLy8gXCJzaW1wbGVcIiBjdXJ2ZXMgY2Fubm90IGludGVyc2VjdCB3aXRoIHRoZWlyIGRpcmVjdFxuXHQgICAgICAvLyBuZWlnaGJvdXIsIHNvIGZvciBlYWNoIHNlZ21lbnQgWCB3ZSBjaGVjayB3aGV0aGVyXG5cdCAgICAgIC8vIGl0IGludGVyc2VjdHMgWzA6eC0yXVt4KzI6bGFzdF0uXG5cdCAgICAgIHZhciBpLFxuXHQgICAgICAgICAgbGVuID0gcmVkdWNlZC5sZW5ndGggLSAyLFxuXHQgICAgICAgICAgcmVzdWx0cyA9IFtdLFxuXHQgICAgICAgICAgcmVzdWx0LFxuXHQgICAgICAgICAgbGVmdCxcblx0ICAgICAgICAgIHJpZ2h0O1xuXHQgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgICAgICBsZWZ0ID0gcmVkdWNlZC5zbGljZShpLCBpICsgMSk7XG5cdCAgICAgICAgcmlnaHQgPSByZWR1Y2VkLnNsaWNlKGkgKyAyKTtcblx0ICAgICAgICByZXN1bHQgPSB0aGlzLmN1cnZlaW50ZXJzZWN0cyhsZWZ0LCByaWdodCwgY3VydmVJbnRlcnNlY3Rpb25UaHJlc2hvbGQpO1xuXHQgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLmNvbmNhdChyZXN1bHQpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiByZXN1bHRzO1xuXHQgICAgfSxcblx0ICAgIGN1cnZlaW50ZXJzZWN0czogZnVuY3Rpb24gY3VydmVpbnRlcnNlY3RzKGMxLCBjMiwgY3VydmVJbnRlcnNlY3Rpb25UaHJlc2hvbGQpIHtcblx0ICAgICAgdmFyIHBhaXJzID0gW107XG5cdCAgICAgIC8vIHN0ZXAgMTogcGFpciBvZmYgYW55IG92ZXJsYXBwaW5nIHNlZ21lbnRzXG5cdCAgICAgIGMxLmZvckVhY2goZnVuY3Rpb24gKGwpIHtcblx0ICAgICAgICBjMi5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7XG5cdCAgICAgICAgICBpZiAobC5vdmVybGFwcyhyKSkge1xuXHQgICAgICAgICAgICBwYWlycy5wdXNoKHsgbGVmdDogbCwgcmlnaHQ6IHIgfSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0pO1xuXHQgICAgICAvLyBzdGVwIDI6IGZvciBlYWNoIHBhaXJpbmcsIHJ1biB0aHJvdWdoIHRoZSBjb252ZXJnZW5jZSBhbGdvcml0aG0uXG5cdCAgICAgIHZhciBpbnRlcnNlY3Rpb25zID0gW107XG5cdCAgICAgIHBhaXJzLmZvckVhY2goZnVuY3Rpb24gKHBhaXIpIHtcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gdXRpbHMucGFpcml0ZXJhdGlvbihwYWlyLmxlZnQsIHBhaXIucmlnaHQsIGN1cnZlSW50ZXJzZWN0aW9uVGhyZXNob2xkKTtcblx0ICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgIGludGVyc2VjdGlvbnMgPSBpbnRlcnNlY3Rpb25zLmNvbmNhdChyZXN1bHQpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiBpbnRlcnNlY3Rpb25zO1xuXHQgICAgfSxcblx0ICAgIGFyY3M6IGZ1bmN0aW9uIGFyY3MoZXJyb3JUaHJlc2hvbGQpIHtcblx0ICAgICAgZXJyb3JUaHJlc2hvbGQgPSBlcnJvclRocmVzaG9sZCB8fCAwLjU7XG5cdCAgICAgIHZhciBjaXJjbGVzID0gW107XG5cdCAgICAgIHJldHVybiB0aGlzLl9pdGVyYXRlKGVycm9yVGhyZXNob2xkLCBjaXJjbGVzKTtcblx0ICAgIH0sXG5cdCAgICBfZXJyb3I6IGZ1bmN0aW9uIF9lcnJvcihwYywgbnAxLCBzLCBlKSB7XG5cdCAgICAgIHZhciBxID0gKGUgLSBzKSAvIDQsXG5cdCAgICAgICAgICBjMSA9IHRoaXMuZ2V0KHMgKyBxKSxcblx0ICAgICAgICAgIGMyID0gdGhpcy5nZXQoZSAtIHEpLFxuXHQgICAgICAgICAgcmVmID0gdXRpbHMuZGlzdChwYywgbnAxKSxcblx0ICAgICAgICAgIGQxID0gdXRpbHMuZGlzdChwYywgYzEpLFxuXHQgICAgICAgICAgZDIgPSB1dGlscy5kaXN0KHBjLCBjMik7XG5cdCAgICAgIHJldHVybiBhYnMoZDEgLSByZWYpICsgYWJzKGQyIC0gcmVmKTtcblx0ICAgIH0sXG5cdCAgICBfaXRlcmF0ZTogZnVuY3Rpb24gX2l0ZXJhdGUoZXJyb3JUaHJlc2hvbGQsIGNpcmNsZXMpIHtcblx0ICAgICAgdmFyIHRfcyA9IDAsXG5cdCAgICAgICAgICB0X2UgPSAxLFxuXHQgICAgICAgICAgc2FmZXR5O1xuXHQgICAgICAvLyB3ZSBkbyBhIGJpbmFyeSBzZWFyY2ggdG8gZmluZCB0aGUgXCJnb29kIGB0YCBjbG9zZXN0IHRvIG5vLWxvbmdlci1nb29kXCJcblx0ICAgICAgZG8ge1xuXHQgICAgICAgIHNhZmV0eSA9IDA7XG5cblx0ICAgICAgICAvLyBzdGVwIDE6IHN0YXJ0IHdpdGggdGhlIG1heGltdW0gcG9zc2libGUgYXJjXG5cdCAgICAgICAgdF9lID0gMTtcblxuXHQgICAgICAgIC8vIHBvaW50czpcblx0ICAgICAgICB2YXIgbnAxID0gdGhpcy5nZXQodF9zKSxcblx0ICAgICAgICAgICAgbnAyLFxuXHQgICAgICAgICAgICBucDMsXG5cdCAgICAgICAgICAgIGFyYyxcblx0ICAgICAgICAgICAgcHJldl9hcmM7XG5cblx0ICAgICAgICAvLyBib29sZWFuczpcblx0ICAgICAgICB2YXIgY3Vycl9nb29kID0gZmFsc2UsXG5cdCAgICAgICAgICAgIHByZXZfZ29vZCA9IGZhbHNlLFxuXHQgICAgICAgICAgICBkb25lO1xuXG5cdCAgICAgICAgLy8gbnVtYmVyczpcblx0ICAgICAgICB2YXIgdF9tID0gdF9lLFxuXHQgICAgICAgICAgICBwcmV2X2UgPSAxLFxuXHQgICAgICAgICAgICBzdGVwID0gMDtcblxuXHQgICAgICAgIC8vIHN0ZXAgMjogZmluZCB0aGUgYmVzdCBwb3NzaWJsZSBhcmNcblx0ICAgICAgICBkbyB7XG5cdCAgICAgICAgICBwcmV2X2dvb2QgPSBjdXJyX2dvb2Q7XG5cdCAgICAgICAgICBwcmV2X2FyYyA9IGFyYztcblx0ICAgICAgICAgIHRfbSA9ICh0X3MgKyB0X2UpIC8gMjtcblx0ICAgICAgICAgIHN0ZXArKztcblxuXHQgICAgICAgICAgbnAyID0gdGhpcy5nZXQodF9tKTtcblx0ICAgICAgICAgIG5wMyA9IHRoaXMuZ2V0KHRfZSk7XG5cblx0ICAgICAgICAgIGFyYyA9IHV0aWxzLmdldGNjZW50ZXIobnAxLCBucDIsIG5wMyk7XG5cblx0ICAgICAgICAgIC8vYWxzbyBzYXZlIHRoZSB0IHZhbHVlc1xuXHQgICAgICAgICAgYXJjLmludGVydmFsID0ge1xuXHQgICAgICAgICAgICBzdGFydDogdF9zLFxuXHQgICAgICAgICAgICBlbmQ6IHRfZVxuXHQgICAgICAgICAgfTtcblxuXHQgICAgICAgICAgdmFyIGVycm9yID0gdGhpcy5fZXJyb3IoYXJjLCBucDEsIHRfcywgdF9lKTtcblx0ICAgICAgICAgIGN1cnJfZ29vZCA9IGVycm9yIDw9IGVycm9yVGhyZXNob2xkO1xuXG5cdCAgICAgICAgICBkb25lID0gcHJldl9nb29kICYmICFjdXJyX2dvb2Q7XG5cdCAgICAgICAgICBpZiAoIWRvbmUpIHByZXZfZSA9IHRfZTtcblxuXHQgICAgICAgICAgLy8gdGhpcyBhcmMgaXMgZmluZTogd2UgY2FuIG1vdmUgJ2UnIHVwIHRvIHNlZSBpZiB3ZSBjYW4gZmluZCBhIHdpZGVyIGFyY1xuXHQgICAgICAgICAgaWYgKGN1cnJfZ29vZCkge1xuXHQgICAgICAgICAgICAvLyBpZiBlIGlzIGFscmVhZHkgYXQgbWF4LCB0aGVuIHdlJ3JlIGRvbmUgZm9yIHRoaXMgYXJjLlxuXHQgICAgICAgICAgICBpZiAodF9lID49IDEpIHtcblx0ICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgd2UgY2FwIGF0IHQ9MVxuXHQgICAgICAgICAgICAgIGFyYy5pbnRlcnZhbC5lbmQgPSBwcmV2X2UgPSAxO1xuXHQgICAgICAgICAgICAgIHByZXZfYXJjID0gYXJjO1xuXHQgICAgICAgICAgICAgIC8vIGlmIHdlIGNhcHBlZCB0aGUgYXJjIHNlZ21lbnQgdG8gdD0xIHdlIGFsc28gbmVlZCB0byBtYWtlIHN1cmUgdGhhdFxuXHQgICAgICAgICAgICAgIC8vIHRoZSBhcmMncyBlbmQgYW5nbGUgaXMgY29ycmVjdCB3aXRoIHJlc3BlY3QgdG8gdGhlIGJlemllciBlbmQgcG9pbnQuXG5cdCAgICAgICAgICAgICAgaWYgKHRfZSA+IDEpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBkID0ge1xuXHQgICAgICAgICAgICAgICAgICB4OiBhcmMueCArIGFyYy5yICogY29zKGFyYy5lKSxcblx0ICAgICAgICAgICAgICAgICAgeTogYXJjLnkgKyBhcmMuciAqIHNpbihhcmMuZSlcblx0ICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgICAgICBhcmMuZSArPSB1dGlscy5hbmdsZSh7IHg6IGFyYy54LCB5OiBhcmMueSB9LCBkLCB0aGlzLmdldCgxKSk7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIC8vIGlmIG5vdCwgbW92ZSBpdCB1cCBieSBoYWxmIHRoZSBpdGVyYXRpb24gZGlzdGFuY2Vcblx0ICAgICAgICAgICAgdF9lID0gdF9lICsgKHRfZSAtIHRfcykgLyAyO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgLy8gdGhpcyBpcyBhIGJhZCBhcmM6IHdlIG5lZWQgdG8gbW92ZSAnZScgZG93biB0byBmaW5kIGEgZ29vZCBhcmNcblx0ICAgICAgICAgICAgdF9lID0gdF9tO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gd2hpbGUgKCFkb25lICYmIHNhZmV0eSsrIDwgMTAwKTtcblxuXHQgICAgICAgIGlmIChzYWZldHkgPj0gMTAwKSB7XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgICB9XG5cblx0ICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkw4MzU6IFtGXSBhcmMgZm91bmRcIiwgdF9zLCBwcmV2X2UsIHByZXZfYXJjLngsIHByZXZfYXJjLnksIHByZXZfYXJjLnMsIHByZXZfYXJjLmUpO1xuXG5cdCAgICAgICAgcHJldl9hcmMgPSBwcmV2X2FyYyA/IHByZXZfYXJjIDogYXJjO1xuXHQgICAgICAgIGNpcmNsZXMucHVzaChwcmV2X2FyYyk7XG5cdCAgICAgICAgdF9zID0gcHJldl9lO1xuXHQgICAgICB9IHdoaWxlICh0X2UgPCAxKTtcblx0ICAgICAgcmV0dXJuIGNpcmNsZXM7XG5cdCAgICB9XG5cdCAgfTtcblxuXHQgIG1vZHVsZS5leHBvcnRzID0gQmV6aWVyO1xuXHR9KSgpO1xuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHQoZnVuY3Rpb24gKCkge1xuXHQgIFwidXNlIHN0cmljdFwiO1xuXG5cdCAgLy8gbWF0aC1pbmxpbmluZy5cblxuXHQgIHZhciBhYnMgPSBNYXRoLmFicyxcblx0ICAgICAgY29zID0gTWF0aC5jb3MsXG5cdCAgICAgIHNpbiA9IE1hdGguc2luLFxuXHQgICAgICBhY29zID0gTWF0aC5hY29zLFxuXHQgICAgICBhdGFuMiA9IE1hdGguYXRhbjIsXG5cdCAgICAgIHNxcnQgPSBNYXRoLnNxcnQsXG5cdCAgICAgIHBvdyA9IE1hdGgucG93LFxuXG5cdCAgLy8gY3ViZSByb290IGZ1bmN0aW9uIHlpZWxkaW5nIHJlYWwgcm9vdHNcblx0ICBjcnQgPSBmdW5jdGlvbiBjcnQodikge1xuXHQgICAgcmV0dXJuIHYgPCAwID8gLXBvdygtdiwgMSAvIDMpIDogcG93KHYsIDEgLyAzKTtcblx0ICB9LFxuXG5cdCAgLy8gdHJpZyBjb25zdGFudHNcblx0ICBwaSA9IE1hdGguUEksXG5cdCAgICAgIHRhdSA9IDIgKiBwaSxcblx0ICAgICAgcXVhcnQgPSBwaSAvIDIsXG5cblx0ICAvLyBmbG9hdCBwcmVjaXNpb24gc2lnbmlmaWNhbnQgZGVjaW1hbFxuXHQgIGVwc2lsb24gPSAwLjAwMDAwMSxcblxuXHQgIC8vIGV4dHJlbWFzIHVzZWQgaW4gYmJveCBjYWxjdWxhdGlvbiBhbmQgc2ltaWxhciBhbGdvcml0aG1zXG5cdCAgbk1heCA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIHx8IDkwMDcxOTkyNTQ3NDA5OTEsXG5cdCAgICAgIG5NaW4gPSBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUiB8fCAtOTAwNzE5OTI1NDc0MDk5MSxcblxuXHQgIC8vIGEgemVybyBjb29yZGluYXRlLCB3aGljaCBpcyBzdXJwcmlzaW5nbHkgdXNlZnVsXG5cdCAgWkVSTyA9IHsgeDogMCwgeTogMCwgejogMCB9O1xuXG5cdCAgLy8gQmV6aWVyIHV0aWxpdHkgZnVuY3Rpb25zXG5cdCAgdmFyIHV0aWxzID0ge1xuXHQgICAgLy8gTGVnZW5kcmUtR2F1c3MgYWJzY2lzc2FlIHdpdGggbj0yNCAoeF9pIHZhbHVlcywgZGVmaW5lZCBhdCBpPW4gYXMgdGhlIHJvb3RzIG9mIHRoZSBudGggb3JkZXIgTGVnZW5kcmUgcG9seW5vbWlhbCBQbih4KSlcblx0ICAgIFR2YWx1ZXM6IFstMC4wNjQwNTY4OTI4NjI2MDU2MjYwODUwNDMwODI2MjQ3NDUwMzg1OTA5LCAwLjA2NDA1Njg5Mjg2MjYwNTYyNjA4NTA0MzA4MjYyNDc0NTAzODU5MDksIC0wLjE5MTExODg2NzQ3MzYxNjMwOTE1ODYzOTgyMDc1NzA2OTYzMTg0MDQsIDAuMTkxMTE4ODY3NDczNjE2MzA5MTU4NjM5ODIwNzU3MDY5NjMxODQwNCwgLTAuMzE1MDQyNjc5Njk2MTYzMzc0Mzg2NzkzMjkxMzE5ODEwMjQwNzg2NCwgMC4zMTUwNDI2Nzk2OTYxNjMzNzQzODY3OTMyOTEzMTk4MTAyNDA3ODY0LCAtMC40MzM3OTM1MDc2MjYwNDUxMzg0ODcwODQyMzE5MTMzNDk3MTI0NTI0LCAwLjQzMzc5MzUwNzYyNjA0NTEzODQ4NzA4NDIzMTkxMzM0OTcxMjQ1MjQsIC0wLjU0NTQyMTQ3MTM4ODgzOTUzNTY1ODM3NTYxNzIxODM3MjM3MDAxMDcsIDAuNTQ1NDIxNDcxMzg4ODM5NTM1NjU4Mzc1NjE3MjE4MzcyMzcwMDEwNywgLTAuNjQ4MDkzNjUxOTM2OTc1NTY5MjUyNDk1Nzg2OTEwNzQ3NjI2NjY5NiwgMC42NDgwOTM2NTE5MzY5NzU1NjkyNTI0OTU3ODY5MTA3NDc2MjY2Njk2LCAtMC43NDAxMjQxOTE1Nzg1NTQzNjQyNDM4MjgxMDMwOTk5Nzg0MjU1MjMyLCAwLjc0MDEyNDE5MTU3ODU1NDM2NDI0MzgyODEwMzA5OTk3ODQyNTUyMzIsIC0wLjgyMDAwMTk4NTk3MzkwMjkyMTk1Mzk0OTg3MjY2OTc0NTIwODA3NjEsIDAuODIwMDAxOTg1OTczOTAyOTIxOTUzOTQ5ODcyNjY5NzQ1MjA4MDc2MSwgLTAuODg2NDE1NTI3MDA0NDAxMDM0MjEzMTU0MzQxOTgyMTk2NzU1MDg3MywgMC44ODY0MTU1MjcwMDQ0MDEwMzQyMTMxNTQzNDE5ODIxOTY3NTUwODczLCAtMC45MzgyNzQ1NTIwMDI3MzI3NTg1MjM2NDkwMDE3MDg3MjE0NDk2NTQ4LCAwLjkzODI3NDU1MjAwMjczMjc1ODUyMzY0OTAwMTcwODcyMTQ0OTY1NDgsIC0wLjk3NDcyODU1NTk3MTMwOTQ5ODE5ODM5MTk5MzAwODE2OTA2MTc0MTEsIDAuOTc0NzI4NTU1OTcxMzA5NDk4MTk4MzkxOTkzMDA4MTY5MDYxNzQxMSwgLTAuOTk1MTg3MjE5OTk3MDIxMzYwMTc5OTk3NDA5NzAwNzM2ODExODc0NSwgMC45OTUxODcyMTk5OTcwMjEzNjAxNzk5OTc0MDk3MDA3MzY4MTE4NzQ1XSxcblxuXHQgICAgLy8gTGVnZW5kcmUtR2F1c3Mgd2VpZ2h0cyB3aXRoIG49MjQgKHdfaSB2YWx1ZXMsIGRlZmluZWQgYnkgYSBmdW5jdGlvbiBsaW5rZWQgdG8gaW4gdGhlIEJlemllciBwcmltZXIgYXJ0aWNsZSlcblx0ICAgIEN2YWx1ZXM6IFswLjEyNzkzODE5NTM0Njc1MjE1Njk3NDA1NjE2NTIyNDY5NTM3MTg1MTcsIDAuMTI3OTM4MTk1MzQ2NzUyMTU2OTc0MDU2MTY1MjI0Njk1MzcxODUxNywgMC4xMjU4Mzc0NTYzNDY4MjgyOTYxMjEzNzUzODI1MTExODM2ODg3MjY0LCAwLjEyNTgzNzQ1NjM0NjgyODI5NjEyMTM3NTM4MjUxMTE4MzY4ODcyNjQsIDAuMTIxNjcwNDcyOTI3ODAzMzkxMjA0NDYzMTUzNDc2MjYyNDI1NjA3LCAwLjEyMTY3MDQ3MjkyNzgwMzM5MTIwNDQ2MzE1MzQ3NjI2MjQyNTYwNywgMC4xMTU1MDU2NjgwNTM3MjU2MDEzNTMzNDQ0ODM5MDY3ODM1NTk4NjIyLCAwLjExNTUwNTY2ODA1MzcyNTYwMTM1MzM0NDQ4MzkwNjc4MzU1OTg2MjIsIDAuMTA3NDQ0MjcwMTE1OTY1NjM0NzgyNTc3MzQyNDQ2NjA2MjIyNzk0NiwgMC4xMDc0NDQyNzAxMTU5NjU2MzQ3ODI1NzczNDI0NDY2MDYyMjI3OTQ2LCAwLjA5NzYxODY1MjEwNDExMzg4ODI2OTg4MDY2NDQ2NDI0NzE1NDQyNzksIDAuMDk3NjE4NjUyMTA0MTEzODg4MjY5ODgwNjY0NDY0MjQ3MTU0NDI3OSwgMC4wODYxOTAxNjE1MzE5NTMyNzU5MTcxODUyMDI5ODM3NDI2NjcxODUsIDAuMDg2MTkwMTYxNTMxOTUzMjc1OTE3MTg1MjAyOTgzNzQyNjY3MTg1LCAwLjA3MzM0NjQ4MTQxMTA4MDMwNTczNDAzMzYxNTI1MzExNjUxODExOTMsIDAuMDczMzQ2NDgxNDExMDgwMzA1NzM0MDMzNjE1MjUzMTE2NTE4MTE5MywgMC4wNTkyOTg1ODQ5MTU0MzY3ODA3NDYzNjc3NTg1MDAxMDg1ODQ1NDEyLCAwLjA1OTI5ODU4NDkxNTQzNjc4MDc0NjM2Nzc1ODUwMDEwODU4NDU0MTIsIDAuMDQ0Mjc3NDM4ODE3NDE5ODA2MTY4NjAyNzQ4MjExMzM4MjI4ODU5MywgMC4wNDQyNzc0Mzg4MTc0MTk4MDYxNjg2MDI3NDgyMTEzMzgyMjg4NTkzLCAwLjAyODUzMTM4ODYyODkzMzY2MzE4MTMwNzgxNTk1MTg3ODI4NjQ0OTEsIDAuMDI4NTMxMzg4NjI4OTMzNjYzMTgxMzA3ODE1OTUxODc4Mjg2NDQ5MSwgMC4wMTIzNDEyMjk3OTk5ODcxOTk1NDY4MDU2NjcwNzAwMzcyOTE1NzU5LCAwLjAxMjM0MTIyOTc5OTk4NzE5OTU0NjgwNTY2NzA3MDAzNzI5MTU3NTldLFxuXG5cdCAgICBhcmNmbjogZnVuY3Rpb24gYXJjZm4odCwgZGVyaXZhdGl2ZUZuKSB7XG5cdCAgICAgIHZhciBkID0gZGVyaXZhdGl2ZUZuKHQpO1xuXHQgICAgICB2YXIgbCA9IGQueCAqIGQueCArIGQueSAqIGQueTtcblx0ICAgICAgaWYgKHR5cGVvZiBkLnogIT09IFwidW5kZWZpbmVkXCIpIHtcblx0ICAgICAgICBsICs9IGQueiAqIGQuejtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gc3FydChsKTtcblx0ICAgIH0sXG5cblx0ICAgIGNvbXB1dGU6IGZ1bmN0aW9uIGNvbXB1dGUodCwgcG9pbnRzLCBfM2QpIHtcblx0ICAgICAgLy8gc2hvcnRjdXRzXG5cdCAgICAgIGlmICh0ID09PSAwKSB7XG5cdCAgICAgICAgcmV0dXJuIHBvaW50c1swXTtcblx0ICAgICAgfVxuXG5cdCAgICAgIHZhciBvcmRlciA9IHBvaW50cy5sZW5ndGggLSAxO1xuXG5cdCAgICAgIGlmICh0ID09PSAxKSB7XG5cdCAgICAgICAgcmV0dXJuIHBvaW50c1tvcmRlcl07XG5cdCAgICAgIH1cblxuXHQgICAgICB2YXIgcCA9IHBvaW50cztcblx0ICAgICAgdmFyIG10ID0gMSAtIHQ7XG5cblx0ICAgICAgLy8gY29uc3RhbnQ/XG5cdCAgICAgIGlmIChvcmRlciA9PT0gMCkge1xuXHQgICAgICAgIHJldHVybiBwb2ludHNbMF07XG5cdCAgICAgIH1cblxuXHQgICAgICAvLyBsaW5lYXI/XG5cdCAgICAgIGlmIChvcmRlciA9PT0gMSkge1xuXHQgICAgICAgIHJldCA9IHtcblx0ICAgICAgICAgIHg6IG10ICogcFswXS54ICsgdCAqIHBbMV0ueCxcblx0ICAgICAgICAgIHk6IG10ICogcFswXS55ICsgdCAqIHBbMV0ueVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgaWYgKF8zZCkge1xuXHQgICAgICAgICAgcmV0LnogPSBtdCAqIHBbMF0ueiArIHQgKiBwWzFdLno7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICAgIH1cblxuXHQgICAgICAvLyBxdWFkcmF0aWMvY3ViaWMgY3VydmU/XG5cdCAgICAgIGlmIChvcmRlciA8IDQpIHtcblx0ICAgICAgICB2YXIgbXQyID0gbXQgKiBtdCxcblx0ICAgICAgICAgICAgdDIgPSB0ICogdCxcblx0ICAgICAgICAgICAgYSxcblx0ICAgICAgICAgICAgYixcblx0ICAgICAgICAgICAgYyxcblx0ICAgICAgICAgICAgZCA9IDA7XG5cdCAgICAgICAgaWYgKG9yZGVyID09PSAyKSB7XG5cdCAgICAgICAgICBwID0gW3BbMF0sIHBbMV0sIHBbMl0sIFpFUk9dO1xuXHQgICAgICAgICAgYSA9IG10Mjtcblx0ICAgICAgICAgIGIgPSBtdCAqIHQgKiAyO1xuXHQgICAgICAgICAgYyA9IHQyO1xuXHQgICAgICAgIH0gZWxzZSBpZiAob3JkZXIgPT09IDMpIHtcblx0ICAgICAgICAgIGEgPSBtdDIgKiBtdDtcblx0ICAgICAgICAgIGIgPSBtdDIgKiB0ICogMztcblx0ICAgICAgICAgIGMgPSBtdCAqIHQyICogMztcblx0ICAgICAgICAgIGQgPSB0ICogdDI7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciByZXQgPSB7XG5cdCAgICAgICAgICB4OiBhICogcFswXS54ICsgYiAqIHBbMV0ueCArIGMgKiBwWzJdLnggKyBkICogcFszXS54LFxuXHQgICAgICAgICAgeTogYSAqIHBbMF0ueSArIGIgKiBwWzFdLnkgKyBjICogcFsyXS55ICsgZCAqIHBbM10ueVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgaWYgKF8zZCkge1xuXHQgICAgICAgICAgcmV0LnogPSBhICogcFswXS56ICsgYiAqIHBbMV0ueiArIGMgKiBwWzJdLnogKyBkICogcFszXS56O1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgICB9XG5cblx0ICAgICAgLy8gaGlnaGVyIG9yZGVyIGN1cnZlczogdXNlIGRlIENhc3RlbGphdSdzIGNvbXB1dGF0aW9uXG5cdCAgICAgIHZhciBkQ3B0cyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocG9pbnRzKSk7XG5cdCAgICAgIHdoaWxlIChkQ3B0cy5sZW5ndGggPiAxKSB7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkQ3B0cy5sZW5ndGggLSAxOyBpKyspIHtcblx0ICAgICAgICAgIGRDcHRzW2ldID0ge1xuXHQgICAgICAgICAgICB4OiBkQ3B0c1tpXS54ICsgKGRDcHRzW2kgKyAxXS54IC0gZENwdHNbaV0ueCkgKiB0LFxuXHQgICAgICAgICAgICB5OiBkQ3B0c1tpXS55ICsgKGRDcHRzW2kgKyAxXS55IC0gZENwdHNbaV0ueSkgKiB0XG5cdCAgICAgICAgICB9O1xuXHQgICAgICAgICAgaWYgKHR5cGVvZiBkQ3B0c1tpXS56ICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdCAgICAgICAgICAgIGRDcHRzW2ldID0gZENwdHNbaV0ueiArIChkQ3B0c1tpICsgMV0ueiAtIGRDcHRzW2ldLnopICogdDtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgZENwdHMuc3BsaWNlKGRDcHRzLmxlbmd0aCAtIDEsIDEpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBkQ3B0c1swXTtcblx0ICAgIH0sXG5cblx0ICAgIGNvbXB1dGVXaXRoUmF0aW9zOiBmdW5jdGlvbiBjb21wdXRlV2l0aFJhdGlvcyh0LCBwb2ludHMsIHJhdGlvcywgXzNkKSB7XG5cdCAgICAgIHZhciBtdCA9IDEgLSB0LFxuXHQgICAgICAgICAgciA9IHJhdGlvcyxcblx0ICAgICAgICAgIHAgPSBwb2ludHMsXG5cdCAgICAgICAgICBkO1xuXHQgICAgICB2YXIgZjEgPSByWzBdLFxuXHQgICAgICAgICAgZjIgPSByWzFdLFxuXHQgICAgICAgICAgZjMgPSByWzJdLFxuXHQgICAgICAgICAgZjQgPSByWzNdO1xuXG5cdCAgICAgIC8vIHNwZWMgZm9yIGxpbmVhclxuXHQgICAgICBmMSAqPSBtdDtcblx0ICAgICAgZjIgKj0gdDtcblxuXHQgICAgICBpZiAocC5sZW5ndGggPT09IDIpIHtcblx0ICAgICAgICBkID0gZjEgKyBmMjtcblx0ICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgeDogKGYxICogcFswXS54ICsgZjIgKiBwWzFdLngpIC8gZCxcblx0ICAgICAgICAgIHk6IChmMSAqIHBbMF0ueSArIGYyICogcFsxXS55KSAvIGQsXG5cdCAgICAgICAgICB6OiAhXzNkID8gZmFsc2UgOiAoZjEgKiBwWzBdLnogKyBmMiAqIHBbMV0ueikgLyBkXG5cdCAgICAgICAgfTtcblx0ICAgICAgfVxuXG5cdCAgICAgIC8vIHVwZ3JhZGUgdG8gcXVhZHJhdGljXG5cdCAgICAgIGYxICo9IG10O1xuXHQgICAgICBmMiAqPSAyICogbXQ7XG5cdCAgICAgIGYzICo9IHQgKiB0O1xuXG5cdCAgICAgIGlmIChwLmxlbmd0aCA9PT0gMykge1xuXHQgICAgICAgIGQgPSBmMSArIGYyICsgZjM7XG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgIHg6IChmMSAqIHBbMF0ueCArIGYyICogcFsxXS54ICsgZjMgKiBwWzJdLngpIC8gZCxcblx0ICAgICAgICAgIHk6IChmMSAqIHBbMF0ueSArIGYyICogcFsxXS55ICsgZjMgKiBwWzJdLnkpIC8gZCxcblx0ICAgICAgICAgIHo6ICFfM2QgPyBmYWxzZSA6IChmMSAqIHBbMF0ueiArIGYyICogcFsxXS56ICsgZjMgKiBwWzJdLnopIC8gZFxuXHQgICAgICAgIH07XG5cdCAgICAgIH1cblxuXHQgICAgICAvLyB1cGdyYWRlIHRvIGN1YmljXG5cdCAgICAgIGYxICo9IG10O1xuXHQgICAgICBmMiAqPSAxLjUgKiBtdDtcblx0ICAgICAgZjMgKj0gMyAqIG10O1xuXHQgICAgICBmNCAqPSB0ICogdCAqIHQ7XG5cblx0ICAgICAgaWYgKHAubGVuZ3RoID09PSA0KSB7XG5cdCAgICAgICAgZCA9IGYxICsgZjIgKyBmMyArIGY0O1xuXHQgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICB4OiAoZjEgKiBwWzBdLnggKyBmMiAqIHBbMV0ueCArIGYzICogcFsyXS54ICsgZjQgKiBwWzNdLngpIC8gZCxcblx0ICAgICAgICAgIHk6IChmMSAqIHBbMF0ueSArIGYyICogcFsxXS55ICsgZjMgKiBwWzJdLnkgKyBmNCAqIHBbM10ueSkgLyBkLFxuXHQgICAgICAgICAgejogIV8zZCA/IGZhbHNlIDogKGYxICogcFswXS56ICsgZjIgKiBwWzFdLnogKyBmMyAqIHBbMl0ueiArIGY0ICogcFszXS56KSAvIGRcblx0ICAgICAgICB9O1xuXHQgICAgICB9XG5cdCAgICB9LFxuXG5cdCAgICBkZXJpdmU6IGZ1bmN0aW9uIGRlcml2ZShwb2ludHMsIF8zZCkge1xuXHQgICAgICB2YXIgZHBvaW50cyA9IFtdO1xuXHQgICAgICBmb3IgKHZhciBwID0gcG9pbnRzLCBkID0gcC5sZW5ndGgsIGMgPSBkIC0gMTsgZCA+IDE7IGQtLSwgYy0tKSB7XG5cdCAgICAgICAgdmFyIGxpc3QgPSBbXTtcblx0ICAgICAgICBmb3IgKHZhciBqID0gMCwgZHB0OyBqIDwgYzsgaisrKSB7XG5cdCAgICAgICAgICBkcHQgPSB7XG5cdCAgICAgICAgICAgIHg6IGMgKiAocFtqICsgMV0ueCAtIHBbal0ueCksXG5cdCAgICAgICAgICAgIHk6IGMgKiAocFtqICsgMV0ueSAtIHBbal0ueSlcblx0ICAgICAgICAgIH07XG5cdCAgICAgICAgICBpZiAoXzNkKSB7XG5cdCAgICAgICAgICAgIGRwdC56ID0gYyAqIChwW2ogKyAxXS56IC0gcFtqXS56KTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGxpc3QucHVzaChkcHQpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBkcG9pbnRzLnB1c2gobGlzdCk7XG5cdCAgICAgICAgcCA9IGxpc3Q7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGRwb2ludHM7XG5cdCAgICB9LFxuXG5cdCAgICBiZXR3ZWVuOiBmdW5jdGlvbiBiZXR3ZWVuKHYsIG0sIE0pIHtcblx0ICAgICAgcmV0dXJuIG0gPD0gdiAmJiB2IDw9IE0gfHwgdXRpbHMuYXBwcm94aW1hdGVseSh2LCBtKSB8fCB1dGlscy5hcHByb3hpbWF0ZWx5KHYsIE0pO1xuXHQgICAgfSxcblxuXHQgICAgYXBwcm94aW1hdGVseTogZnVuY3Rpb24gYXBwcm94aW1hdGVseShhLCBiLCBwcmVjaXNpb24pIHtcblx0ICAgICAgcmV0dXJuIGFicyhhIC0gYikgPD0gKHByZWNpc2lvbiB8fCBlcHNpbG9uKTtcblx0ICAgIH0sXG5cblx0ICAgIGxlbmd0aDogZnVuY3Rpb24gbGVuZ3RoKGRlcml2YXRpdmVGbikge1xuXHQgICAgICB2YXIgeiA9IDAuNSxcblx0ICAgICAgICAgIHN1bSA9IDAsXG5cdCAgICAgICAgICBsZW4gPSB1dGlscy5UdmFsdWVzLmxlbmd0aCxcblx0ICAgICAgICAgIGksXG5cdCAgICAgICAgICB0O1xuXHQgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgICAgICB0ID0geiAqIHV0aWxzLlR2YWx1ZXNbaV0gKyB6O1xuXHQgICAgICAgIHN1bSArPSB1dGlscy5DdmFsdWVzW2ldICogdXRpbHMuYXJjZm4odCwgZGVyaXZhdGl2ZUZuKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4geiAqIHN1bTtcblx0ICAgIH0sXG5cblx0ICAgIG1hcDogZnVuY3Rpb24gbWFwKHYsIGRzLCBkZSwgdHMsIHRlKSB7XG5cdCAgICAgIHZhciBkMSA9IGRlIC0gZHMsXG5cdCAgICAgICAgICBkMiA9IHRlIC0gdHMsXG5cdCAgICAgICAgICB2MiA9IHYgLSBkcyxcblx0ICAgICAgICAgIHIgPSB2MiAvIGQxO1xuXHQgICAgICByZXR1cm4gdHMgKyBkMiAqIHI7XG5cdCAgICB9LFxuXG5cdCAgICBsZXJwOiBmdW5jdGlvbiBsZXJwKHIsIHYxLCB2Mikge1xuXHQgICAgICB2YXIgcmV0ID0ge1xuXHQgICAgICAgIHg6IHYxLnggKyByICogKHYyLnggLSB2MS54KSxcblx0ICAgICAgICB5OiB2MS55ICsgciAqICh2Mi55IC0gdjEueSlcblx0ICAgICAgfTtcblx0ICAgICAgaWYgKCEhdjEueiAmJiAhIXYyLnopIHtcblx0ICAgICAgICByZXQueiA9IHYxLnogKyByICogKHYyLnogLSB2MS56KTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcmV0O1xuXHQgICAgfSxcblxuXHQgICAgcG9pbnRUb1N0cmluZzogZnVuY3Rpb24gcG9pbnRUb1N0cmluZyhwKSB7XG5cdCAgICAgIHZhciBzID0gcC54ICsgXCIvXCIgKyBwLnk7XG5cdCAgICAgIGlmICh0eXBlb2YgcC56ICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdCAgICAgICAgcyArPSBcIi9cIiArIHAuejtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcztcblx0ICAgIH0sXG5cblx0ICAgIHBvaW50c1RvU3RyaW5nOiBmdW5jdGlvbiBwb2ludHNUb1N0cmluZyhwb2ludHMpIHtcblx0ICAgICAgcmV0dXJuIFwiW1wiICsgcG9pbnRzLm1hcCh1dGlscy5wb2ludFRvU3RyaW5nKS5qb2luKFwiLCBcIikgKyBcIl1cIjtcblx0ICAgIH0sXG5cblx0ICAgIGNvcHk6IGZ1bmN0aW9uIGNvcHkob2JqKSB7XG5cdCAgICAgIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpO1xuXHQgICAgfSxcblxuXHQgICAgYW5nbGU6IGZ1bmN0aW9uIGFuZ2xlKG8sIHYxLCB2Mikge1xuXHQgICAgICB2YXIgZHgxID0gdjEueCAtIG8ueCxcblx0ICAgICAgICAgIGR5MSA9IHYxLnkgLSBvLnksXG5cdCAgICAgICAgICBkeDIgPSB2Mi54IC0gby54LFxuXHQgICAgICAgICAgZHkyID0gdjIueSAtIG8ueSxcblx0ICAgICAgICAgIGNyb3NzID0gZHgxICogZHkyIC0gZHkxICogZHgyLFxuXHQgICAgICAgICAgZG90ID0gZHgxICogZHgyICsgZHkxICogZHkyO1xuXHQgICAgICByZXR1cm4gYXRhbjIoY3Jvc3MsIGRvdCk7XG5cdCAgICB9LFxuXG5cdCAgICAvLyByb3VuZCBhcyBzdHJpbmcsIHRvIGF2b2lkIHJvdW5kaW5nIGVycm9yc1xuXHQgICAgcm91bmQ6IGZ1bmN0aW9uIHJvdW5kKHYsIGQpIHtcblx0ICAgICAgdmFyIHMgPSBcIlwiICsgdjtcblx0ICAgICAgdmFyIHBvcyA9IHMuaW5kZXhPZihcIi5cIik7XG5cdCAgICAgIHJldHVybiBwYXJzZUZsb2F0KHMuc3Vic3RyaW5nKDAsIHBvcyArIDEgKyBkKSk7XG5cdCAgICB9LFxuXG5cdCAgICBkaXN0OiBmdW5jdGlvbiBkaXN0KHAxLCBwMikge1xuXHQgICAgICB2YXIgZHggPSBwMS54IC0gcDIueCxcblx0ICAgICAgICAgIGR5ID0gcDEueSAtIHAyLnk7XG5cdCAgICAgIHJldHVybiBzcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcblx0ICAgIH0sXG5cblx0ICAgIGNsb3Nlc3Q6IGZ1bmN0aW9uIGNsb3Nlc3QoTFVULCBwb2ludCkge1xuXHQgICAgICB2YXIgbWRpc3QgPSBwb3coMiwgNjMpLFxuXHQgICAgICAgICAgbXBvcyxcblx0ICAgICAgICAgIGQ7XG5cdCAgICAgIExVVC5mb3JFYWNoKGZ1bmN0aW9uIChwLCBpZHgpIHtcblx0ICAgICAgICBkID0gdXRpbHMuZGlzdChwb2ludCwgcCk7XG5cdCAgICAgICAgaWYgKGQgPCBtZGlzdCkge1xuXHQgICAgICAgICAgbWRpc3QgPSBkO1xuXHQgICAgICAgICAgbXBvcyA9IGlkeDtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgICByZXR1cm4geyBtZGlzdDogbWRpc3QsIG1wb3M6IG1wb3MgfTtcblx0ICAgIH0sXG5cblx0ICAgIGFiY3JhdGlvOiBmdW5jdGlvbiBhYmNyYXRpbyh0LCBuKSB7XG5cdCAgICAgIC8vIHNlZSByYXRpbyh0KSBub3RlIG9uIGh0dHA6Ly9wb21heC5naXRodWIuaW8vYmV6aWVyaW5mby8jYWJjXG5cdCAgICAgIGlmIChuICE9PSAyICYmIG4gIT09IDMpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHR5cGVvZiB0ID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdCAgICAgICAgdCA9IDAuNTtcblx0ICAgICAgfSBlbHNlIGlmICh0ID09PSAwIHx8IHQgPT09IDEpIHtcblx0ICAgICAgICByZXR1cm4gdDtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgYm90dG9tID0gcG93KHQsIG4pICsgcG93KDEgLSB0LCBuKSxcblx0ICAgICAgICAgIHRvcCA9IGJvdHRvbSAtIDE7XG5cdCAgICAgIHJldHVybiBhYnModG9wIC8gYm90dG9tKTtcblx0ICAgIH0sXG5cblx0ICAgIHByb2plY3Rpb25yYXRpbzogZnVuY3Rpb24gcHJvamVjdGlvbnJhdGlvKHQsIG4pIHtcblx0ICAgICAgLy8gc2VlIHUodCkgbm90ZSBvbiBodHRwOi8vcG9tYXguZ2l0aHViLmlvL2JlemllcmluZm8vI2FiY1xuXHQgICAgICBpZiAobiAhPT0gMiAmJiBuICE9PSAzKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICh0eXBlb2YgdCA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHQgICAgICAgIHQgPSAwLjU7XG5cdCAgICAgIH0gZWxzZSBpZiAodCA9PT0gMCB8fCB0ID09PSAxKSB7XG5cdCAgICAgICAgcmV0dXJuIHQ7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHRvcCA9IHBvdygxIC0gdCwgbiksXG5cdCAgICAgICAgICBib3R0b20gPSBwb3codCwgbikgKyB0b3A7XG5cdCAgICAgIHJldHVybiB0b3AgLyBib3R0b207XG5cdCAgICB9LFxuXG5cdCAgICBsbGk4OiBmdW5jdGlvbiBsbGk4KHgxLCB5MSwgeDIsIHkyLCB4MywgeTMsIHg0LCB5NCkge1xuXHQgICAgICB2YXIgbnggPSAoeDEgKiB5MiAtIHkxICogeDIpICogKHgzIC0geDQpIC0gKHgxIC0geDIpICogKHgzICogeTQgLSB5MyAqIHg0KSxcblx0ICAgICAgICAgIG55ID0gKHgxICogeTIgLSB5MSAqIHgyKSAqICh5MyAtIHk0KSAtICh5MSAtIHkyKSAqICh4MyAqIHk0IC0geTMgKiB4NCksXG5cdCAgICAgICAgICBkID0gKHgxIC0geDIpICogKHkzIC0geTQpIC0gKHkxIC0geTIpICogKHgzIC0geDQpO1xuXHQgICAgICBpZiAoZCA9PSAwKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB7IHg6IG54IC8gZCwgeTogbnkgLyBkIH07XG5cdCAgICB9LFxuXG5cdCAgICBsbGk0OiBmdW5jdGlvbiBsbGk0KHAxLCBwMiwgcDMsIHA0KSB7XG5cdCAgICAgIHZhciB4MSA9IHAxLngsXG5cdCAgICAgICAgICB5MSA9IHAxLnksXG5cdCAgICAgICAgICB4MiA9IHAyLngsXG5cdCAgICAgICAgICB5MiA9IHAyLnksXG5cdCAgICAgICAgICB4MyA9IHAzLngsXG5cdCAgICAgICAgICB5MyA9IHAzLnksXG5cdCAgICAgICAgICB4NCA9IHA0LngsXG5cdCAgICAgICAgICB5NCA9IHA0Lnk7XG5cdCAgICAgIHJldHVybiB1dGlscy5sbGk4KHgxLCB5MSwgeDIsIHkyLCB4MywgeTMsIHg0LCB5NCk7XG5cdCAgICB9LFxuXG5cdCAgICBsbGk6IGZ1bmN0aW9uIGxsaSh2MSwgdjIpIHtcblx0ICAgICAgcmV0dXJuIHV0aWxzLmxsaTQodjEsIHYxLmMsIHYyLCB2Mi5jKTtcblx0ICAgIH0sXG5cblx0ICAgIG1ha2VsaW5lOiBmdW5jdGlvbiBtYWtlbGluZShwMSwgcDIpIHtcblx0ICAgICAgdmFyIEJlemllciA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdCAgICAgIHZhciB4MSA9IHAxLngsXG5cdCAgICAgICAgICB5MSA9IHAxLnksXG5cdCAgICAgICAgICB4MiA9IHAyLngsXG5cdCAgICAgICAgICB5MiA9IHAyLnksXG5cdCAgICAgICAgICBkeCA9ICh4MiAtIHgxKSAvIDMsXG5cdCAgICAgICAgICBkeSA9ICh5MiAtIHkxKSAvIDM7XG5cdCAgICAgIHJldHVybiBuZXcgQmV6aWVyKHgxLCB5MSwgeDEgKyBkeCwgeTEgKyBkeSwgeDEgKyAyICogZHgsIHkxICsgMiAqIGR5LCB4MiwgeTIpO1xuXHQgICAgfSxcblxuXHQgICAgZmluZGJib3g6IGZ1bmN0aW9uIGZpbmRiYm94KHNlY3Rpb25zKSB7XG5cdCAgICAgIHZhciBteCA9IG5NYXgsXG5cdCAgICAgICAgICBteSA9IG5NYXgsXG5cdCAgICAgICAgICBNWCA9IG5NaW4sXG5cdCAgICAgICAgICBNWSA9IG5NaW47XG5cdCAgICAgIHNlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcblx0ICAgICAgICB2YXIgYmJveCA9IHMuYmJveCgpO1xuXHQgICAgICAgIGlmIChteCA+IGJib3gueC5taW4pIG14ID0gYmJveC54Lm1pbjtcblx0ICAgICAgICBpZiAobXkgPiBiYm94LnkubWluKSBteSA9IGJib3gueS5taW47XG5cdCAgICAgICAgaWYgKE1YIDwgYmJveC54Lm1heCkgTVggPSBiYm94LngubWF4O1xuXHQgICAgICAgIGlmIChNWSA8IGJib3gueS5tYXgpIE1ZID0gYmJveC55Lm1heDtcblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiB7XG5cdCAgICAgICAgeDogeyBtaW46IG14LCBtaWQ6IChteCArIE1YKSAvIDIsIG1heDogTVgsIHNpemU6IE1YIC0gbXggfSxcblx0ICAgICAgICB5OiB7IG1pbjogbXksIG1pZDogKG15ICsgTVkpIC8gMiwgbWF4OiBNWSwgc2l6ZTogTVkgLSBteSB9XG5cdCAgICAgIH07XG5cdCAgICB9LFxuXG5cdCAgICBzaGFwZWludGVyc2VjdGlvbnM6IGZ1bmN0aW9uIHNoYXBlaW50ZXJzZWN0aW9ucyhzMSwgYmJveDEsIHMyLCBiYm94MiwgY3VydmVJbnRlcnNlY3Rpb25UaHJlc2hvbGQpIHtcblx0ICAgICAgaWYgKCF1dGlscy5iYm94b3ZlcmxhcChiYm94MSwgYmJveDIpKSByZXR1cm4gW107XG5cdCAgICAgIHZhciBpbnRlcnNlY3Rpb25zID0gW107XG5cdCAgICAgIHZhciBhMSA9IFtzMS5zdGFydGNhcCwgczEuZm9yd2FyZCwgczEuYmFjaywgczEuZW5kY2FwXTtcblx0ICAgICAgdmFyIGEyID0gW3MyLnN0YXJ0Y2FwLCBzMi5mb3J3YXJkLCBzMi5iYWNrLCBzMi5lbmRjYXBdO1xuXHQgICAgICBhMS5mb3JFYWNoKGZ1bmN0aW9uIChsMSkge1xuXHQgICAgICAgIGlmIChsMS52aXJ0dWFsKSByZXR1cm47XG5cdCAgICAgICAgYTIuZm9yRWFjaChmdW5jdGlvbiAobDIpIHtcblx0ICAgICAgICAgIGlmIChsMi52aXJ0dWFsKSByZXR1cm47XG5cdCAgICAgICAgICB2YXIgaXNzID0gbDEuaW50ZXJzZWN0cyhsMiwgY3VydmVJbnRlcnNlY3Rpb25UaHJlc2hvbGQpO1xuXHQgICAgICAgICAgaWYgKGlzcy5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgIGlzcy5jMSA9IGwxO1xuXHQgICAgICAgICAgICBpc3MuYzIgPSBsMjtcblx0ICAgICAgICAgICAgaXNzLnMxID0gczE7XG5cdCAgICAgICAgICAgIGlzcy5zMiA9IHMyO1xuXHQgICAgICAgICAgICBpbnRlcnNlY3Rpb25zLnB1c2goaXNzKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiBpbnRlcnNlY3Rpb25zO1xuXHQgICAgfSxcblxuXHQgICAgbWFrZXNoYXBlOiBmdW5jdGlvbiBtYWtlc2hhcGUoZm9yd2FyZCwgYmFjaywgY3VydmVJbnRlcnNlY3Rpb25UaHJlc2hvbGQpIHtcblx0ICAgICAgdmFyIGJwbCA9IGJhY2sucG9pbnRzLmxlbmd0aDtcblx0ICAgICAgdmFyIGZwbCA9IGZvcndhcmQucG9pbnRzLmxlbmd0aDtcblx0ICAgICAgdmFyIHN0YXJ0ID0gdXRpbHMubWFrZWxpbmUoYmFjay5wb2ludHNbYnBsIC0gMV0sIGZvcndhcmQucG9pbnRzWzBdKTtcblx0ICAgICAgdmFyIGVuZCA9IHV0aWxzLm1ha2VsaW5lKGZvcndhcmQucG9pbnRzW2ZwbCAtIDFdLCBiYWNrLnBvaW50c1swXSk7XG5cdCAgICAgIHZhciBzaGFwZSA9IHtcblx0ICAgICAgICBzdGFydGNhcDogc3RhcnQsXG5cdCAgICAgICAgZm9yd2FyZDogZm9yd2FyZCxcblx0ICAgICAgICBiYWNrOiBiYWNrLFxuXHQgICAgICAgIGVuZGNhcDogZW5kLFxuXHQgICAgICAgIGJib3g6IHV0aWxzLmZpbmRiYm94KFtzdGFydCwgZm9yd2FyZCwgYmFjaywgZW5kXSlcblx0ICAgICAgfTtcblx0ICAgICAgdmFyIHNlbGYgPSB1dGlscztcblx0ICAgICAgc2hhcGUuaW50ZXJzZWN0aW9ucyA9IGZ1bmN0aW9uIChzMikge1xuXHQgICAgICAgIHJldHVybiBzZWxmLnNoYXBlaW50ZXJzZWN0aW9ucyhzaGFwZSwgc2hhcGUuYmJveCwgczIsIHMyLmJib3gsIGN1cnZlSW50ZXJzZWN0aW9uVGhyZXNob2xkKTtcblx0ICAgICAgfTtcblx0ICAgICAgcmV0dXJuIHNoYXBlO1xuXHQgICAgfSxcblxuXHQgICAgZ2V0bWlubWF4OiBmdW5jdGlvbiBnZXRtaW5tYXgoY3VydmUsIGQsIGxpc3QpIHtcblx0ICAgICAgaWYgKCFsaXN0KSByZXR1cm4geyBtaW46IDAsIG1heDogMCB9O1xuXHQgICAgICB2YXIgbWluID0gbk1heCxcblx0ICAgICAgICAgIG1heCA9IG5NaW4sXG5cdCAgICAgICAgICB0LFxuXHQgICAgICAgICAgYztcblx0ICAgICAgaWYgKGxpc3QuaW5kZXhPZigwKSA9PT0gLTEpIHtcblx0ICAgICAgICBsaXN0ID0gWzBdLmNvbmNhdChsaXN0KTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAobGlzdC5pbmRleE9mKDEpID09PSAtMSkge1xuXHQgICAgICAgIGxpc3QucHVzaCgxKTtcblx0ICAgICAgfVxuXHQgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbGlzdC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHQgICAgICAgIHQgPSBsaXN0W2ldO1xuXHQgICAgICAgIGMgPSBjdXJ2ZS5nZXQodCk7XG5cdCAgICAgICAgaWYgKGNbZF0gPCBtaW4pIHtcblx0ICAgICAgICAgIG1pbiA9IGNbZF07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChjW2RdID4gbWF4KSB7XG5cdCAgICAgICAgICBtYXggPSBjW2RdO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4geyBtaW46IG1pbiwgbWlkOiAobWluICsgbWF4KSAvIDIsIG1heDogbWF4LCBzaXplOiBtYXggLSBtaW4gfTtcblx0ICAgIH0sXG5cblx0ICAgIGFsaWduOiBmdW5jdGlvbiBhbGlnbihwb2ludHMsIGxpbmUpIHtcblx0ICAgICAgdmFyIHR4ID0gbGluZS5wMS54LFxuXHQgICAgICAgICAgdHkgPSBsaW5lLnAxLnksXG5cdCAgICAgICAgICBhID0gLWF0YW4yKGxpbmUucDIueSAtIHR5LCBsaW5lLnAyLnggLSB0eCksXG5cdCAgICAgICAgICBkID0gZnVuY3Rpb24gZCh2KSB7XG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgIHg6ICh2LnggLSB0eCkgKiBjb3MoYSkgLSAodi55IC0gdHkpICogc2luKGEpLFxuXHQgICAgICAgICAgeTogKHYueCAtIHR4KSAqIHNpbihhKSArICh2LnkgLSB0eSkgKiBjb3MoYSlcblx0ICAgICAgICB9O1xuXHQgICAgICB9O1xuXHQgICAgICByZXR1cm4gcG9pbnRzLm1hcChkKTtcblx0ICAgIH0sXG5cblx0ICAgIHJvb3RzOiBmdW5jdGlvbiByb290cyhwb2ludHMsIGxpbmUpIHtcblx0ICAgICAgbGluZSA9IGxpbmUgfHwgeyBwMTogeyB4OiAwLCB5OiAwIH0sIHAyOiB7IHg6IDEsIHk6IDAgfSB9O1xuXHQgICAgICB2YXIgb3JkZXIgPSBwb2ludHMubGVuZ3RoIC0gMTtcblx0ICAgICAgdmFyIHAgPSB1dGlscy5hbGlnbihwb2ludHMsIGxpbmUpO1xuXHQgICAgICB2YXIgcmVkdWNlID0gZnVuY3Rpb24gcmVkdWNlKHQpIHtcblx0ICAgICAgICByZXR1cm4gMCA8PSB0ICYmIHQgPD0gMTtcblx0ICAgICAgfTtcblxuXHQgICAgICBpZiAob3JkZXIgPT09IDIpIHtcblx0ICAgICAgICB2YXIgYSA9IHBbMF0ueSxcblx0ICAgICAgICAgICAgYiA9IHBbMV0ueSxcblx0ICAgICAgICAgICAgYyA9IHBbMl0ueSxcblx0ICAgICAgICAgICAgZCA9IGEgLSAyICogYiArIGM7XG5cdCAgICAgICAgaWYgKGQgIT09IDApIHtcblx0ICAgICAgICAgIHZhciBtMSA9IC1zcXJ0KGIgKiBiIC0gYSAqIGMpLFxuXHQgICAgICAgICAgICAgIG0yID0gLWEgKyBiLFxuXHQgICAgICAgICAgICAgIHYxID0gLShtMSArIG0yKSAvIGQsXG5cdCAgICAgICAgICAgICAgdjIgPSAtKC1tMSArIG0yKSAvIGQ7XG5cdCAgICAgICAgICByZXR1cm4gW3YxLCB2Ml0uZmlsdGVyKHJlZHVjZSk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChiICE9PSBjICYmIGQgPT09IDApIHtcblx0ICAgICAgICAgIHJldHVybiBbKDIgKiBiIC0gYykgLyAoMiAqIGIgLSAyICogYyldLmZpbHRlcihyZWR1Y2UpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gW107XG5cdCAgICAgIH1cblxuXHQgICAgICAvLyBzZWUgaHR0cDovL3d3dy50cmFuczRtaW5kLmNvbS9wZXJzb25hbF9kZXZlbG9wbWVudC9tYXRoZW1hdGljcy9wb2x5bm9taWFscy9jdWJpY0FsZ2VicmEuaHRtXG5cdCAgICAgIHZhciBwYSA9IHBbMF0ueSxcblx0ICAgICAgICAgIHBiID0gcFsxXS55LFxuXHQgICAgICAgICAgcGMgPSBwWzJdLnksXG5cdCAgICAgICAgICBwZCA9IHBbM10ueSxcblx0ICAgICAgICAgIGQgPSAtcGEgKyAzICogcGIgLSAzICogcGMgKyBwZCxcblx0ICAgICAgICAgIGEgPSAzICogcGEgLSA2ICogcGIgKyAzICogcGMsXG5cdCAgICAgICAgICBiID0gLTMgKiBwYSArIDMgKiBwYixcblx0ICAgICAgICAgIGMgPSBwYTtcblxuXHQgICAgICBpZiAodXRpbHMuYXBwcm94aW1hdGVseShkLCAwKSkge1xuXHQgICAgICAgIC8vIHRoaXMgaXMgbm90IGEgY3ViaWMgY3VydmUuXG5cdCAgICAgICAgaWYgKHV0aWxzLmFwcHJveGltYXRlbHkoYSwgMCkpIHtcblx0ICAgICAgICAgIC8vIGluIGZhY3QsIHRoaXMgaXMgbm90IGEgcXVhZHJhdGljIGN1cnZlIGVpdGhlci5cblx0ICAgICAgICAgIGlmICh1dGlscy5hcHByb3hpbWF0ZWx5KGIsIDApKSB7XG5cdCAgICAgICAgICAgIC8vIGluIGZhY3QgaW4gZmFjdCwgdGhlcmUgYXJlIG5vIHNvbHV0aW9ucy5cblx0ICAgICAgICAgICAgcmV0dXJuIFtdO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgLy8gbGluZWFyIHNvbHV0aW9uOlxuXHQgICAgICAgICAgcmV0dXJuIFstYyAvIGJdLmZpbHRlcihyZWR1Y2UpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyBxdWFkcmF0aWMgc29sdXRpb246XG5cdCAgICAgICAgdmFyIHEgPSBzcXJ0KGIgKiBiIC0gNCAqIGEgKiBjKSxcblx0ICAgICAgICAgICAgYTIgPSAyICogYTtcblx0ICAgICAgICByZXR1cm4gWyhxIC0gYikgLyBhMiwgKC1iIC0gcSkgLyBhMl0uZmlsdGVyKHJlZHVjZSk7XG5cdCAgICAgIH1cblxuXHQgICAgICAvLyBhdCB0aGlzIHBvaW50LCB3ZSBrbm93IHdlIG5lZWQgYSBjdWJpYyBzb2x1dGlvbjpcblxuXHQgICAgICBhIC89IGQ7XG5cdCAgICAgIGIgLz0gZDtcblx0ICAgICAgYyAvPSBkO1xuXG5cdCAgICAgIHZhciBwID0gKDMgKiBiIC0gYSAqIGEpIC8gMyxcblx0ICAgICAgICAgIHAzID0gcCAvIDMsXG5cdCAgICAgICAgICBxID0gKDIgKiBhICogYSAqIGEgLSA5ICogYSAqIGIgKyAyNyAqIGMpIC8gMjcsXG5cdCAgICAgICAgICBxMiA9IHEgLyAyLFxuXHQgICAgICAgICAgZGlzY3JpbWluYW50ID0gcTIgKiBxMiArIHAzICogcDMgKiBwMyxcblx0ICAgICAgICAgIHUxLFxuXHQgICAgICAgICAgdjEsXG5cdCAgICAgICAgICB4MSxcblx0ICAgICAgICAgIHgyLFxuXHQgICAgICAgICAgeDM7XG5cdCAgICAgIGlmIChkaXNjcmltaW5hbnQgPCAwKSB7XG5cdCAgICAgICAgdmFyIG1wMyA9IC1wIC8gMyxcblx0ICAgICAgICAgICAgbXAzMyA9IG1wMyAqIG1wMyAqIG1wMyxcblx0ICAgICAgICAgICAgciA9IHNxcnQobXAzMyksXG5cdCAgICAgICAgICAgIHQgPSAtcSAvICgyICogciksXG5cdCAgICAgICAgICAgIGNvc3BoaSA9IHQgPCAtMSA/IC0xIDogdCA+IDEgPyAxIDogdCxcblx0ICAgICAgICAgICAgcGhpID0gYWNvcyhjb3NwaGkpLFxuXHQgICAgICAgICAgICBjcnRyID0gY3J0KHIpLFxuXHQgICAgICAgICAgICB0MSA9IDIgKiBjcnRyO1xuXHQgICAgICAgIHgxID0gdDEgKiBjb3MocGhpIC8gMykgLSBhIC8gMztcblx0ICAgICAgICB4MiA9IHQxICogY29zKChwaGkgKyB0YXUpIC8gMykgLSBhIC8gMztcblx0ICAgICAgICB4MyA9IHQxICogY29zKChwaGkgKyAyICogdGF1KSAvIDMpIC0gYSAvIDM7XG5cdCAgICAgICAgcmV0dXJuIFt4MSwgeDIsIHgzXS5maWx0ZXIocmVkdWNlKTtcblx0ICAgICAgfSBlbHNlIGlmIChkaXNjcmltaW5hbnQgPT09IDApIHtcblx0ICAgICAgICB1MSA9IHEyIDwgMCA/IGNydCgtcTIpIDogLWNydChxMik7XG5cdCAgICAgICAgeDEgPSAyICogdTEgLSBhIC8gMztcblx0ICAgICAgICB4MiA9IC11MSAtIGEgLyAzO1xuXHQgICAgICAgIHJldHVybiBbeDEsIHgyXS5maWx0ZXIocmVkdWNlKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgc2QgPSBzcXJ0KGRpc2NyaW1pbmFudCk7XG5cdCAgICAgICAgdTEgPSBjcnQoLXEyICsgc2QpO1xuXHQgICAgICAgIHYxID0gY3J0KHEyICsgc2QpO1xuXHQgICAgICAgIHJldHVybiBbdTEgLSB2MSAtIGEgLyAzXS5maWx0ZXIocmVkdWNlKTtcblx0ICAgICAgfVxuXHQgICAgfSxcblxuXHQgICAgZHJvb3RzOiBmdW5jdGlvbiBkcm9vdHMocCkge1xuXHQgICAgICAvLyBxdWFkcmF0aWMgcm9vdHMgYXJlIGVhc3lcblx0ICAgICAgaWYgKHAubGVuZ3RoID09PSAzKSB7XG5cdCAgICAgICAgdmFyIGEgPSBwWzBdLFxuXHQgICAgICAgICAgICBiID0gcFsxXSxcblx0ICAgICAgICAgICAgYyA9IHBbMl0sXG5cdCAgICAgICAgICAgIGQgPSBhIC0gMiAqIGIgKyBjO1xuXHQgICAgICAgIGlmIChkICE9PSAwKSB7XG5cdCAgICAgICAgICB2YXIgbTEgPSAtc3FydChiICogYiAtIGEgKiBjKSxcblx0ICAgICAgICAgICAgICBtMiA9IC1hICsgYixcblx0ICAgICAgICAgICAgICB2MSA9IC0obTEgKyBtMikgLyBkLFxuXHQgICAgICAgICAgICAgIHYyID0gLSgtbTEgKyBtMikgLyBkO1xuXHQgICAgICAgICAgcmV0dXJuIFt2MSwgdjJdO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoYiAhPT0gYyAmJiBkID09PSAwKSB7XG5cdCAgICAgICAgICByZXR1cm4gWygyICogYiAtIGMpIC8gKDIgKiAoYiAtIGMpKV07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBbXTtcblx0ICAgICAgfVxuXG5cdCAgICAgIC8vIGxpbmVhciByb290cyBhcmUgZXZlbiBlYXNpZXJcblx0ICAgICAgaWYgKHAubGVuZ3RoID09PSAyKSB7XG5cdCAgICAgICAgdmFyIGEgPSBwWzBdLFxuXHQgICAgICAgICAgICBiID0gcFsxXTtcblx0ICAgICAgICBpZiAoYSAhPT0gYikge1xuXHQgICAgICAgICAgcmV0dXJuIFthIC8gKGEgLSBiKV07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBbXTtcblx0ICAgICAgfVxuXHQgICAgfSxcblxuXHQgICAgY3VydmF0dXJlOiBmdW5jdGlvbiBjdXJ2YXR1cmUodCwgcG9pbnRzLCBfM2QsIGtPbmx5KSB7XG5cdCAgICAgIHZhciBkcG9pbnRzID0gdXRpbHMuZGVyaXZlKHBvaW50cyk7XG5cdCAgICAgIHZhciBkMSA9IGRwb2ludHNbMF07XG5cdCAgICAgIHZhciBkMiA9IGRwb2ludHNbMV07XG5cdCAgICAgIHZhciBudW0sXG5cdCAgICAgICAgICBkbm0sXG5cdCAgICAgICAgICBhZGssXG5cdCAgICAgICAgICBkayxcblx0ICAgICAgICAgIGsgPSAwLFxuXHQgICAgICAgICAgciA9IDA7XG5cblx0ICAgICAgLy9cblx0ICAgICAgLy8gV2UncmUgdXNpbmcgdGhlIGZvbGxvd2luZyBmb3JtdWxhIGZvciBjdXJ2YXR1cmU6XG5cdCAgICAgIC8vXG5cdCAgICAgIC8vICAgICAgICAgICAgICB4J3lcIiAtIHkneFwiXG5cdCAgICAgIC8vICAgayh0KSA9IC0tLS0tLS0tLS0tLS0tLS0tLVxuXHQgICAgICAvLyAgICAgICAgICAgKHgnwrIgKyB5J8KyKV4oMy8yKVxuXHQgICAgICAvL1xuXHQgICAgICAvLyBmcm9tIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1JhZGl1c19vZl9jdXJ2YXR1cmUjRGVmaW5pdGlvblxuXHQgICAgICAvL1xuXHQgICAgICAvLyBXaXRoIGl0IGNvcnJlc3BvbmRpbmcgM0QgY291bnRlcnBhcnQ6XG5cdCAgICAgIC8vXG5cdCAgICAgIC8vICAgICAgICAgIHNxcnQoICh5J3pcIiAtIHlcInonKcKyICsgKHoneFwiIC0gelwieCcpwrIgKyAoeCd5XCIgLSB4XCJ5JynCsilcblx0ICAgICAgLy8gICBrKHQpID0gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHQgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICh4J8KyICsgeSfCsiArIHonwrIpXigzLzIpXG5cdCAgICAgIC8vXG5cblx0ICAgICAgdmFyIGQgPSB1dGlscy5jb21wdXRlKHQsIGQxKTtcblx0ICAgICAgdmFyIGRkID0gdXRpbHMuY29tcHV0ZSh0LCBkMik7XG5cdCAgICAgIHZhciBxZHN1bSA9IGQueCAqIGQueCArIGQueSAqIGQueTtcblx0ICAgICAgaWYgKF8zZCkge1xuXHQgICAgICAgIG51bSA9IHNxcnQocG93KGQueSAqIGRkLnogLSBkZC55ICogZC56LCAyKSArIHBvdyhkLnogKiBkZC54IC0gZGQueiAqIGQueCwgMikgKyBwb3coZC54ICogZGQueSAtIGRkLnggKiBkLnksIDIpKTtcblx0ICAgICAgICBkbm0gPSBwb3cocWRzdW0gKyBkLnogKiBkLnosIDMgLyAyKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBudW0gPSBkLnggKiBkZC55IC0gZC55ICogZGQueDtcblx0ICAgICAgICBkbm0gPSBwb3cocWRzdW0sIDMgLyAyKTtcblx0ICAgICAgfVxuXG5cdCAgICAgIGlmIChudW0gPT09IDAgfHwgZG5tID09PSAwKSB7XG5cdCAgICAgICAgcmV0dXJuIHsgazogMCwgcjogMCB9O1xuXHQgICAgICB9XG5cblx0ICAgICAgayA9IG51bSAvIGRubTtcblx0ICAgICAgciA9IGRubSAvIG51bTtcblxuXHQgICAgICAvLyBXZSdyZSBhbHNvIGNvbXB1dGluZyB0aGUgZGVyaXZhdGl2ZSBvZiBrYXBwYSwgYmVjYXVzZVxuXHQgICAgICAvLyB0aGVyZSBpcyB2YWx1ZSBpbiBrbm93aW5nIHRoZSByYXRlIG9mIGNoYW5nZSBmb3IgdGhlXG5cdCAgICAgIC8vIGN1cnZhdHVyZSBhbG9uZyB0aGUgY3VydmUuIEFuZCB3ZSdyZSBqdXN0IGdvaW5nIHRvXG5cdCAgICAgIC8vIGJhbGxwYXJrIGl0IGJhc2VkIG9uIGFuIGVwc2lsb24uXG5cdCAgICAgIGlmICgha09ubHkpIHtcblx0ICAgICAgICAvLyBjb21wdXRlIGsnKHQpIGJhc2VkIG9uIHRoZSBpbnRlcnZhbCBiZWZvcmUsIGFuZCBhZnRlciBpdCxcblx0ICAgICAgICAvLyB0byBhdCBsZWFzdCB0cnkgdG8gbm90IGludHJvZHVjZSBmb3J3YXJkL2JhY2t3YXJkIHBhc3MgYmlhcy5cblx0ICAgICAgICB2YXIgcGsgPSB1dGlscy5jdXJ2YXR1cmUodCAtIDAuMDAxLCBwb2ludHMsIF8zZCwgdHJ1ZSkuaztcblx0ICAgICAgICB2YXIgbmsgPSB1dGlscy5jdXJ2YXR1cmUodCArIDAuMDAxLCBwb2ludHMsIF8zZCwgdHJ1ZSkuaztcblx0ICAgICAgICBkayA9IChuayAtIGsgKyAoayAtIHBrKSkgLyAyO1xuXHQgICAgICAgIGFkayA9IChhYnMobmsgLSBrKSArIGFicyhrIC0gcGspKSAvIDI7XG5cdCAgICAgIH1cblxuXHQgICAgICByZXR1cm4geyBrOiBrLCByOiByLCBkazogZGssIGFkazogYWRrIH07XG5cdCAgICB9LFxuXG5cdCAgICBpbmZsZWN0aW9uczogZnVuY3Rpb24gaW5mbGVjdGlvbnMocG9pbnRzKSB7XG5cdCAgICAgIGlmIChwb2ludHMubGVuZ3RoIDwgNCkgcmV0dXJuIFtdO1xuXG5cdCAgICAgIC8vIEZJWE1FOiBUT0RPOiBhZGQgaW4gaW5mbGVjdGlvbiBhYnN0cmFjdGlvbiBmb3IgcXVhcnRpYysgY3VydmVzP1xuXG5cdCAgICAgIHZhciBwID0gdXRpbHMuYWxpZ24ocG9pbnRzLCB7IHAxOiBwb2ludHNbMF0sIHAyOiBwb2ludHMuc2xpY2UoLTEpWzBdIH0pLFxuXHQgICAgICAgICAgYSA9IHBbMl0ueCAqIHBbMV0ueSxcblx0ICAgICAgICAgIGIgPSBwWzNdLnggKiBwWzFdLnksXG5cdCAgICAgICAgICBjID0gcFsxXS54ICogcFsyXS55LFxuXHQgICAgICAgICAgZCA9IHBbM10ueCAqIHBbMl0ueSxcblx0ICAgICAgICAgIHYxID0gMTggKiAoLTMgKiBhICsgMiAqIGIgKyAzICogYyAtIGQpLFxuXHQgICAgICAgICAgdjIgPSAxOCAqICgzICogYSAtIGIgLSAzICogYyksXG5cdCAgICAgICAgICB2MyA9IDE4ICogKGMgLSBhKTtcblxuXHQgICAgICBpZiAodXRpbHMuYXBwcm94aW1hdGVseSh2MSwgMCkpIHtcblx0ICAgICAgICBpZiAoIXV0aWxzLmFwcHJveGltYXRlbHkodjIsIDApKSB7XG5cdCAgICAgICAgICB2YXIgdCA9IC12MyAvIHYyO1xuXHQgICAgICAgICAgaWYgKDAgPD0gdCAmJiB0IDw9IDEpIHJldHVybiBbdF07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBbXTtcblx0ICAgICAgfVxuXG5cdCAgICAgIHZhciB0cm0gPSB2MiAqIHYyIC0gNCAqIHYxICogdjMsXG5cdCAgICAgICAgICBzcSA9IE1hdGguc3FydCh0cm0pLFxuXHQgICAgICAgICAgZCA9IDIgKiB2MTtcblxuXHQgICAgICBpZiAodXRpbHMuYXBwcm94aW1hdGVseShkLCAwKSkgcmV0dXJuIFtdO1xuXG5cdCAgICAgIHJldHVybiBbKHNxIC0gdjIpIC8gZCwgLSh2MiArIHNxKSAvIGRdLmZpbHRlcihmdW5jdGlvbiAocikge1xuXHQgICAgICAgIHJldHVybiAwIDw9IHIgJiYgciA8PSAxO1xuXHQgICAgICB9KTtcblx0ICAgIH0sXG5cblx0ICAgIGJib3hvdmVybGFwOiBmdW5jdGlvbiBiYm94b3ZlcmxhcChiMSwgYjIpIHtcblx0ICAgICAgdmFyIGRpbXMgPSBbXCJ4XCIsIFwieVwiXSxcblx0ICAgICAgICAgIGxlbiA9IGRpbXMubGVuZ3RoLFxuXHQgICAgICAgICAgaSxcblx0ICAgICAgICAgIGRpbSxcblx0ICAgICAgICAgIGwsXG5cdCAgICAgICAgICB0LFxuXHQgICAgICAgICAgZDtcblx0ICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICAgICAgZGltID0gZGltc1tpXTtcblx0ICAgICAgICBsID0gYjFbZGltXS5taWQ7XG5cdCAgICAgICAgdCA9IGIyW2RpbV0ubWlkO1xuXHQgICAgICAgIGQgPSAoYjFbZGltXS5zaXplICsgYjJbZGltXS5zaXplKSAvIDI7XG5cdCAgICAgICAgaWYgKGFicyhsIC0gdCkgPj0gZCkgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfSxcblxuXHQgICAgZXhwYW5kYm94OiBmdW5jdGlvbiBleHBhbmRib3goYmJveCwgX2Jib3gpIHtcblx0ICAgICAgaWYgKF9iYm94LngubWluIDwgYmJveC54Lm1pbikge1xuXHQgICAgICAgIGJib3gueC5taW4gPSBfYmJveC54Lm1pbjtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoX2Jib3gueS5taW4gPCBiYm94LnkubWluKSB7XG5cdCAgICAgICAgYmJveC55Lm1pbiA9IF9iYm94LnkubWluO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChfYmJveC56ICYmIF9iYm94LnoubWluIDwgYmJveC56Lm1pbikge1xuXHQgICAgICAgIGJib3guei5taW4gPSBfYmJveC56Lm1pbjtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoX2Jib3gueC5tYXggPiBiYm94LngubWF4KSB7XG5cdCAgICAgICAgYmJveC54Lm1heCA9IF9iYm94LngubWF4O1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChfYmJveC55Lm1heCA+IGJib3gueS5tYXgpIHtcblx0ICAgICAgICBiYm94LnkubWF4ID0gX2Jib3gueS5tYXg7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKF9iYm94LnogJiYgX2Jib3guei5tYXggPiBiYm94LnoubWF4KSB7XG5cdCAgICAgICAgYmJveC56Lm1heCA9IF9iYm94LnoubWF4O1xuXHQgICAgICB9XG5cdCAgICAgIGJib3gueC5taWQgPSAoYmJveC54Lm1pbiArIGJib3gueC5tYXgpIC8gMjtcblx0ICAgICAgYmJveC55Lm1pZCA9IChiYm94LnkubWluICsgYmJveC55Lm1heCkgLyAyO1xuXHQgICAgICBpZiAoYmJveC56KSB7XG5cdCAgICAgICAgYmJveC56Lm1pZCA9IChiYm94LnoubWluICsgYmJveC56Lm1heCkgLyAyO1xuXHQgICAgICB9XG5cdCAgICAgIGJib3gueC5zaXplID0gYmJveC54Lm1heCAtIGJib3gueC5taW47XG5cdCAgICAgIGJib3gueS5zaXplID0gYmJveC55Lm1heCAtIGJib3gueS5taW47XG5cdCAgICAgIGlmIChiYm94LnopIHtcblx0ICAgICAgICBiYm94Lnouc2l6ZSA9IGJib3guei5tYXggLSBiYm94LnoubWluO1xuXHQgICAgICB9XG5cdCAgICB9LFxuXG5cdCAgICBwYWlyaXRlcmF0aW9uOiBmdW5jdGlvbiBwYWlyaXRlcmF0aW9uKGMxLCBjMiwgY3VydmVJbnRlcnNlY3Rpb25UaHJlc2hvbGQpIHtcblx0ICAgICAgdmFyIGMxYiA9IGMxLmJib3goKSxcblx0ICAgICAgICAgIGMyYiA9IGMyLmJib3goKSxcblx0ICAgICAgICAgIHIgPSAxMDAwMDAsXG5cdCAgICAgICAgICB0aHJlc2hvbGQgPSBjdXJ2ZUludGVyc2VjdGlvblRocmVzaG9sZCB8fCAwLjU7XG5cdCAgICAgIGlmIChjMWIueC5zaXplICsgYzFiLnkuc2l6ZSA8IHRocmVzaG9sZCAmJiBjMmIueC5zaXplICsgYzJiLnkuc2l6ZSA8IHRocmVzaG9sZCkge1xuXHQgICAgICAgIHJldHVybiBbKHIgKiAoYzEuX3QxICsgYzEuX3QyKSAvIDIgfCAwKSAvIHIgKyBcIi9cIiArIChyICogKGMyLl90MSArIGMyLl90MikgLyAyIHwgMCkgLyByXTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgY2MxID0gYzEuc3BsaXQoMC41KSxcblx0ICAgICAgICAgIGNjMiA9IGMyLnNwbGl0KDAuNSksXG5cdCAgICAgICAgICBwYWlycyA9IFt7IGxlZnQ6IGNjMS5sZWZ0LCByaWdodDogY2MyLmxlZnQgfSwgeyBsZWZ0OiBjYzEubGVmdCwgcmlnaHQ6IGNjMi5yaWdodCB9LCB7IGxlZnQ6IGNjMS5yaWdodCwgcmlnaHQ6IGNjMi5yaWdodCB9LCB7IGxlZnQ6IGNjMS5yaWdodCwgcmlnaHQ6IGNjMi5sZWZ0IH1dO1xuXHQgICAgICBwYWlycyA9IHBhaXJzLmZpbHRlcihmdW5jdGlvbiAocGFpcikge1xuXHQgICAgICAgIHJldHVybiB1dGlscy5iYm94b3ZlcmxhcChwYWlyLmxlZnQuYmJveCgpLCBwYWlyLnJpZ2h0LmJib3goKSk7XG5cdCAgICAgIH0pO1xuXHQgICAgICB2YXIgcmVzdWx0cyA9IFtdO1xuXHQgICAgICBpZiAocGFpcnMubGVuZ3RoID09PSAwKSByZXR1cm4gcmVzdWx0cztcblx0ICAgICAgcGFpcnMuZm9yRWFjaChmdW5jdGlvbiAocGFpcikge1xuXHQgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLmNvbmNhdCh1dGlscy5wYWlyaXRlcmF0aW9uKHBhaXIubGVmdCwgcGFpci5yaWdodCwgdGhyZXNob2xkKSk7XG5cdCAgICAgIH0pO1xuXHQgICAgICByZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIoZnVuY3Rpb24gKHYsIGkpIHtcblx0ICAgICAgICByZXR1cm4gcmVzdWx0cy5pbmRleE9mKHYpID09PSBpO1xuXHQgICAgICB9KTtcblx0ICAgICAgcmV0dXJuIHJlc3VsdHM7XG5cdCAgICB9LFxuXG5cdCAgICBnZXRjY2VudGVyOiBmdW5jdGlvbiBnZXRjY2VudGVyKHAxLCBwMiwgcDMpIHtcblx0ICAgICAgdmFyIGR4MSA9IHAyLnggLSBwMS54LFxuXHQgICAgICAgICAgZHkxID0gcDIueSAtIHAxLnksXG5cdCAgICAgICAgICBkeDIgPSBwMy54IC0gcDIueCxcblx0ICAgICAgICAgIGR5MiA9IHAzLnkgLSBwMi55O1xuXHQgICAgICB2YXIgZHgxcCA9IGR4MSAqIGNvcyhxdWFydCkgLSBkeTEgKiBzaW4ocXVhcnQpLFxuXHQgICAgICAgICAgZHkxcCA9IGR4MSAqIHNpbihxdWFydCkgKyBkeTEgKiBjb3MocXVhcnQpLFxuXHQgICAgICAgICAgZHgycCA9IGR4MiAqIGNvcyhxdWFydCkgLSBkeTIgKiBzaW4ocXVhcnQpLFxuXHQgICAgICAgICAgZHkycCA9IGR4MiAqIHNpbihxdWFydCkgKyBkeTIgKiBjb3MocXVhcnQpO1xuXHQgICAgICAvLyBjaG9yZCBtaWRwb2ludHNcblx0ICAgICAgdmFyIG14MSA9IChwMS54ICsgcDIueCkgLyAyLFxuXHQgICAgICAgICAgbXkxID0gKHAxLnkgKyBwMi55KSAvIDIsXG5cdCAgICAgICAgICBteDIgPSAocDIueCArIHAzLngpIC8gMixcblx0ICAgICAgICAgIG15MiA9IChwMi55ICsgcDMueSkgLyAyO1xuXHQgICAgICAvLyBtaWRwb2ludCBvZmZzZXRzXG5cdCAgICAgIHZhciBteDFuID0gbXgxICsgZHgxcCxcblx0ICAgICAgICAgIG15MW4gPSBteTEgKyBkeTFwLFxuXHQgICAgICAgICAgbXgybiA9IG14MiArIGR4MnAsXG5cdCAgICAgICAgICBteTJuID0gbXkyICsgZHkycDtcblx0ICAgICAgLy8gaW50ZXJzZWN0aW9uIG9mIHRoZXNlIGxpbmVzOlxuXHQgICAgICB2YXIgYXJjID0gdXRpbHMubGxpOChteDEsIG15MSwgbXgxbiwgbXkxbiwgbXgyLCBteTIsIG14Mm4sIG15Mm4pLFxuXHQgICAgICAgICAgciA9IHV0aWxzLmRpc3QoYXJjLCBwMSksXG5cblx0ICAgICAgLy8gYXJjIHN0YXJ0L2VuZCB2YWx1ZXMsIG92ZXIgbWlkIHBvaW50OlxuXHQgICAgICBzID0gYXRhbjIocDEueSAtIGFyYy55LCBwMS54IC0gYXJjLngpLFxuXHQgICAgICAgICAgbSA9IGF0YW4yKHAyLnkgLSBhcmMueSwgcDIueCAtIGFyYy54KSxcblx0ICAgICAgICAgIGUgPSBhdGFuMihwMy55IC0gYXJjLnksIHAzLnggLSBhcmMueCksXG5cdCAgICAgICAgICBfO1xuXHQgICAgICAvLyBkZXRlcm1pbmUgYXJjIGRpcmVjdGlvbiAoY3cvY2N3IGNvcnJlY3Rpb24pXG5cdCAgICAgIGlmIChzIDwgZSkge1xuXHQgICAgICAgIC8vIGlmIHM8bTxlLCBhcmMocywgZSlcblx0ICAgICAgICAvLyBpZiBtPHM8ZSwgYXJjKGUsIHMgKyB0YXUpXG5cdCAgICAgICAgLy8gaWYgczxlPG0sIGFyYyhlLCBzICsgdGF1KVxuXHQgICAgICAgIGlmIChzID4gbSB8fCBtID4gZSkge1xuXHQgICAgICAgICAgcyArPSB0YXU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChzID4gZSkge1xuXHQgICAgICAgICAgXyA9IGU7XG5cdCAgICAgICAgICBlID0gcztcblx0ICAgICAgICAgIHMgPSBfO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAvLyBpZiBlPG08cywgYXJjKGUsIHMpXG5cdCAgICAgICAgLy8gaWYgbTxlPHMsIGFyYyhzLCBlICsgdGF1KVxuXHQgICAgICAgIC8vIGlmIGU8czxtLCBhcmMocywgZSArIHRhdSlcblx0ICAgICAgICBpZiAoZSA8IG0gJiYgbSA8IHMpIHtcblx0ICAgICAgICAgIF8gPSBlO1xuXHQgICAgICAgICAgZSA9IHM7XG5cdCAgICAgICAgICBzID0gXztcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgZSArPSB0YXU7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIC8vIGFzc2lnbiBhbmQgZG9uZS5cblx0ICAgICAgYXJjLnMgPSBzO1xuXHQgICAgICBhcmMuZSA9IGU7XG5cdCAgICAgIGFyYy5yID0gcjtcblx0ICAgICAgcmV0dXJuIGFyYztcblx0ICAgIH0sXG5cblx0ICAgIG51bWJlclNvcnQ6IGZ1bmN0aW9uIG51bWJlclNvcnQoYSwgYikge1xuXHQgICAgICByZXR1cm4gYSAtIGI7XG5cdCAgICB9XG5cdCAgfTtcblxuXHQgIG1vZHVsZS5leHBvcnRzID0gdXRpbHM7XG5cdH0pKCk7XG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdChmdW5jdGlvbiAoKSB7XG5cdCAgXCJ1c2Ugc3RyaWN0XCI7XG5cblx0ICB2YXIgdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5cdCAgLyoqXG5cdCAgICogUG9seSBCZXppZXJcblx0ICAgKiBAcGFyYW0ge1t0eXBlXX0gY3VydmVzIFtkZXNjcmlwdGlvbl1cblx0ICAgKi9cblx0ICB2YXIgUG9seUJlemllciA9IGZ1bmN0aW9uIFBvbHlCZXppZXIoY3VydmVzKSB7XG5cdCAgICB0aGlzLmN1cnZlcyA9IFtdO1xuXHQgICAgdGhpcy5fM2QgPSBmYWxzZTtcblx0ICAgIGlmICghIWN1cnZlcykge1xuXHQgICAgICB0aGlzLmN1cnZlcyA9IGN1cnZlcztcblx0ICAgICAgdGhpcy5fM2QgPSB0aGlzLmN1cnZlc1swXS5fM2Q7XG5cdCAgICB9XG5cdCAgfTtcblxuXHQgIFBvbHlCZXppZXIucHJvdG90eXBlID0ge1xuXHQgICAgdmFsdWVPZjogZnVuY3Rpb24gdmFsdWVPZigpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTtcblx0ICAgIH0sXG5cdCAgICB0b1N0cmluZzogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdCAgICAgIHJldHVybiBcIltcIiArIHRoaXMuY3VydmVzLm1hcChmdW5jdGlvbiAoY3VydmUpIHtcblx0ICAgICAgICByZXR1cm4gdXRpbHMucG9pbnRzVG9TdHJpbmcoY3VydmUucG9pbnRzKTtcblx0ICAgICAgfSkuam9pbihcIiwgXCIpICsgXCJdXCI7XG5cdCAgICB9LFxuXHQgICAgYWRkQ3VydmU6IGZ1bmN0aW9uIGFkZEN1cnZlKGN1cnZlKSB7XG5cdCAgICAgIHRoaXMuY3VydmVzLnB1c2goY3VydmUpO1xuXHQgICAgICB0aGlzLl8zZCA9IHRoaXMuXzNkIHx8IGN1cnZlLl8zZDtcblx0ICAgIH0sXG5cdCAgICBsZW5ndGg6IGZ1bmN0aW9uIGxlbmd0aCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuY3VydmVzLm1hcChmdW5jdGlvbiAodikge1xuXHQgICAgICAgIHJldHVybiB2Lmxlbmd0aCgpO1xuXHQgICAgICB9KS5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcblx0ICAgICAgICByZXR1cm4gYSArIGI7XG5cdCAgICAgIH0pO1xuXHQgICAgfSxcblx0ICAgIGN1cnZlOiBmdW5jdGlvbiBjdXJ2ZShpZHgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuY3VydmVzW2lkeF07XG5cdCAgICB9LFxuXHQgICAgYmJveDogZnVuY3Rpb24gYmJveCgpIHtcblx0ICAgICAgdmFyIGMgPSB0aGlzLmN1cnZlcztcblx0ICAgICAgdmFyIGJib3ggPSBjWzBdLmJib3goKTtcblx0ICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBjLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdXRpbHMuZXhwYW5kYm94KGJib3gsIGNbaV0uYmJveCgpKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gYmJveDtcblx0ICAgIH0sXG5cdCAgICBvZmZzZXQ6IGZ1bmN0aW9uIG9mZnNldChkKSB7XG5cdCAgICAgIHZhciBvZmZzZXQgPSBbXTtcblx0ICAgICAgdGhpcy5jdXJ2ZXMuZm9yRWFjaChmdW5jdGlvbiAodikge1xuXHQgICAgICAgIG9mZnNldCA9IG9mZnNldC5jb25jYXQodi5vZmZzZXQoZCkpO1xuXHQgICAgICB9KTtcblx0ICAgICAgcmV0dXJuIG5ldyBQb2x5QmV6aWVyKG9mZnNldCk7XG5cdCAgICB9XG5cdCAgfTtcblxuXHQgIG1vZHVsZS5leHBvcnRzID0gUG9seUJlemllcjtcblx0fSkoKTtcblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBub3JtYWxpc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG5cdHZhciBNID0geyB4OiBmYWxzZSwgeTogZmFsc2UgfTtcblxuXHRmdW5jdGlvbiBtYWtlQmV6aWVyKEJlemllciwgdGVybSwgdmFsdWVzKSB7XG5cdCAgaWYgKHRlcm0gPT09ICdaJykgcmV0dXJuO1xuXHQgIGlmICh0ZXJtID09PSAnTScpIHtcblx0ICAgIE0gPSB7IHg6IHZhbHVlc1swXSwgeTogdmFsdWVzWzFdIH07XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXHQgIC8vIEVTNzogbmV3IEJlemllcihNLngsIE0ueSwgLi4udmFsdWVzKVxuXHQgIHZhciBjdmFsdWVzID0gW2ZhbHNlLCBNLngsIE0ueV0uY29uY2F0KHZhbHVlcyk7XG5cdCAgdmFyIFByZWJvdW5kQ29uc3RydWN0b3IgPSBCZXppZXIuYmluZC5hcHBseShCZXppZXIsIGN2YWx1ZXMpO1xuXHQgIHZhciBjdXJ2ZSA9IG5ldyBQcmVib3VuZENvbnN0cnVjdG9yKCk7XG5cdCAgdmFyIGxhc3QgPSB2YWx1ZXMuc2xpY2UoLTIpO1xuXHQgIE0gPSB7IHg6IGxhc3RbMF0sIHk6IGxhc3RbMV0gfTtcblx0ICByZXR1cm4gY3VydmU7XG5cdH1cblxuXHRmdW5jdGlvbiBjb252ZXJ0UGF0aChCZXppZXIsIGQpIHtcblx0ICB2YXIgdGVybXMgPSBub3JtYWxpc2UoZCkuc3BsaXQoXCIgXCIpLFxuXHQgICAgICB0ZXJtLFxuXHQgICAgICBtYXRjaGVyID0gbmV3IFJlZ0V4cChcIltNTENRWl1cIiwgXCJcIiksXG5cdCAgICAgIHNlZ21lbnQsXG5cdCAgICAgIHZhbHVlcyxcblx0ICAgICAgc2VnbWVudHMgPSBbXSxcblx0ICAgICAgQVJHUyA9IHsgXCJDXCI6IDYsIFwiUVwiOiA0LCBcIkxcIjogMiwgXCJNXCI6IDIgfTtcblxuXHQgIHdoaWxlICh0ZXJtcy5sZW5ndGgpIHtcblx0ICAgIHRlcm0gPSB0ZXJtcy5zcGxpY2UoMCwgMSlbMF07XG5cdCAgICBpZiAobWF0Y2hlci50ZXN0KHRlcm0pKSB7XG5cdCAgICAgIHZhbHVlcyA9IHRlcm1zLnNwbGljZSgwLCBBUkdTW3Rlcm1dKS5tYXAocGFyc2VGbG9hdCk7XG5cdCAgICAgIHNlZ21lbnQgPSBtYWtlQmV6aWVyKEJlemllciwgdGVybSwgdmFsdWVzKTtcblx0ICAgICAgaWYgKHNlZ21lbnQpIHNlZ21lbnRzLnB1c2goc2VnbWVudCk7XG5cdCAgICB9XG5cdCAgfVxuXG5cdCAgcmV0dXJuIG5ldyBCZXppZXIuUG9seUJlemllcihzZWdtZW50cyk7XG5cdH1cblxuXHRtb2R1bGUuZXhwb3J0cyA9IGNvbnZlcnRQYXRoO1xuXG4vKioqLyB9KSxcbi8qIDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHQvKipcblx0ICogTm9ybWFsaXNlIGFuIFNWRyBwYXRoIHRvIGFic29sdXRlIGNvb3JkaW5hdGVzXG5cdCAqIGFuZCBmdWxsIGNvbW1hbmRzLCByYXRoZXIgdGhhbiByZWxhdGl2ZSBjb29yZGluYXRlc1xuXHQgKiBhbmQvb3Igc2hvcnRjdXQgY29tbWFuZHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBub3JtYWxpemVQYXRoKGQpIHtcblx0ICAvLyBwcmVwcm9jZXNzIFwiZFwiIHNvIHRoYXQgd2UgaGF2ZSBzcGFjZXMgYmV0d2VlbiB2YWx1ZXNcblx0ICBkID0gZC5yZXBsYWNlKC8sL2csIFwiIFwiKSAvLyByZXBsYWNlIGNvbW1hcyB3aXRoIHNwYWNlc1xuXHQgIC5yZXBsYWNlKC8tL2csIFwiIC0gXCIpIC8vIGFkZCBzcGFjaW5nIGFyb3VuZCBtaW51cyBzaWduc1xuXHQgIC5yZXBsYWNlKC8tXFxzKy9nLCBcIi1cIikgLy8gcmVtb3ZlIHNwYWNpbmcgdG8gdGhlIHJpZ2h0IG9mIG1pbnVzIHNpZ25zLlxuXHQgIC5yZXBsYWNlKC8oW2EtekEtWl0pL2csIFwiICQxIFwiKTtcblxuXHQgIC8vIHNldCB1cCB0aGUgdmFyaWFibGVzIHVzZWQgaW4gdGhpcyBmdW5jdGlvblxuXHQgIHZhciBpbnN0cnVjdGlvbnMgPSBkLnJlcGxhY2UoLyhbYS16QS1aXSlcXHM/L2csIFwifCQxXCIpLnNwbGl0KFwifFwiKSxcblx0ICAgICAgaW5zdHJ1Y3Rpb25MZW5ndGggPSBpbnN0cnVjdGlvbnMubGVuZ3RoLFxuXHQgICAgICBpLFxuXHQgICAgICBpbnN0cnVjdGlvbixcblx0ICAgICAgb3AsXG5cdCAgICAgIGxvcCxcblx0ICAgICAgYXJncyA9IFtdLFxuXHQgICAgICBhbGVuLFxuXHQgICAgICBhLFxuXHQgICAgICBzeCA9IDAsXG5cdCAgICAgIHN5ID0gMCxcblx0ICAgICAgeCA9IDAsXG5cdCAgICAgIHkgPSAwLFxuXHQgICAgICBjeCA9IDAsXG5cdCAgICAgIGN5ID0gMCxcblx0ICAgICAgY3gyID0gMCxcblx0ICAgICAgY3kyID0gMCxcblx0ICAgICAgbm9ybWFsaXplZCA9IFwiXCI7XG5cblx0ICAvLyB3ZSBydW4gdGhyb3VnaCB0aGUgaW5zdHJ1Y3Rpb24gbGlzdCBzdGFydGluZyBhdCAxLCBub3QgMCxcblx0ICAvLyBiZWNhdXNlIHdlIHNwbGl0IHVwIFwifE0geCB5IC4uLi5cIiBzbyB0aGUgZmlyc3QgZWxlbWVudCB3aWxsXG5cdCAgLy8gYWx3YXlzIGJlIGFuIGVtcHR5IHN0cmluZy4gQnkgZGVzaWduLlxuXHQgIGZvciAoaSA9IDE7IGkgPCBpbnN0cnVjdGlvbkxlbmd0aDsgaSsrKSB7XG5cdCAgICAvLyB3aGljaCBpbnN0cnVjdGlvbiBpcyB0aGlzP1xuXHQgICAgaW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbnNbaV07XG5cdCAgICBvcCA9IGluc3RydWN0aW9uLnN1YnN0cmluZygwLCAxKTtcblx0ICAgIGxvcCA9IG9wLnRvTG93ZXJDYXNlKCk7XG5cblx0ICAgIC8vIHdoYXQgYXJlIHRoZSBhcmd1bWVudHM/IG5vdGUgdGhhdCB3ZSBuZWVkIHRvIGNvbnZlcnRcblx0ICAgIC8vIGFsbCBzdHJpbmdzIGludG8gbnVtYmVycywgb3IgKyB3aWxsIGRvIHNpbGx5IHRoaW5ncy5cblx0ICAgIGFyZ3MgPSBpbnN0cnVjdGlvbi5yZXBsYWNlKG9wLCBcIlwiKS50cmltKCkuc3BsaXQoXCIgXCIpO1xuXHQgICAgYXJncyA9IGFyZ3MuZmlsdGVyKGZ1bmN0aW9uICh2KSB7XG5cdCAgICAgIHJldHVybiB2ICE9PSBcIlwiO1xuXHQgICAgfSkubWFwKHBhcnNlRmxvYXQpO1xuXHQgICAgYWxlbiA9IGFyZ3MubGVuZ3RoO1xuXG5cdCAgICAvLyB3ZSBjb3VsZCB1c2UgYSBzd2l0Y2gsIGJ1dCBlbGFib3JhdGUgY29kZSBpbiBhIFwiY2FzZVwiIHdpdGhcblx0ICAgIC8vIGZhbGx0aHJvdWdoIGlzIGp1c3QgaG9ycmlkIHRvIHJlYWQuIFNvIGxldCdzIHVzZSBpZnRoZW5cblx0ICAgIC8vIHN0YXRlbWVudHMgaW5zdGVhZC5cblxuXHQgICAgLy8gbW92ZXRvIGNvbW1hbmQgKHBsdXMgcG9zc2libGUgbGluZXRvKVxuXHQgICAgaWYgKGxvcCA9PT0gXCJtXCIpIHtcblx0ICAgICAgbm9ybWFsaXplZCArPSBcIk0gXCI7XG5cdCAgICAgIGlmIChvcCA9PT0gXCJtXCIpIHtcblx0ICAgICAgICB4ICs9IGFyZ3NbMF07XG5cdCAgICAgICAgeSArPSBhcmdzWzFdO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHggPSBhcmdzWzBdO1xuXHQgICAgICAgIHkgPSBhcmdzWzFdO1xuXHQgICAgICB9XG5cdCAgICAgIC8vIHJlY29yZHMgc3RhcnQgcG9zaXRpb24sIGZvciBkZWFsaW5nXG5cdCAgICAgIC8vIHdpdGggdGhlIHNoYXBlIGNsb3NlIG9wZXJhdG9yICgnWicpXG5cdCAgICAgIHN4ID0geDtcblx0ICAgICAgc3kgPSB5O1xuXHQgICAgICBub3JtYWxpemVkICs9IHggKyBcIiBcIiArIHkgKyBcIiBcIjtcblx0ICAgICAgaWYgKGFsZW4gPiAyKSB7XG5cdCAgICAgICAgZm9yIChhID0gMDsgYSA8IGFsZW47IGEgKz0gMikge1xuXHQgICAgICAgICAgaWYgKG9wID09PSBcIm1cIikge1xuXHQgICAgICAgICAgICB4ICs9IGFyZ3NbYV07XG5cdCAgICAgICAgICAgIHkgKz0gYXJnc1thICsgMV07XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB4ID0gYXJnc1thXTtcblx0ICAgICAgICAgICAgeSA9IGFyZ3NbYSArIDFdO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgbm9ybWFsaXplZCArPSBbXCJMXCIsIHgsIHksICcnXS5qb2luKFwiIFwiKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAobG9wID09PSBcImxcIikge1xuXHQgICAgICAvLyBsaW5ldG8gY29tbWFuZHNcblx0ICAgICAgZm9yIChhID0gMDsgYSA8IGFsZW47IGEgKz0gMikge1xuXHQgICAgICAgIGlmIChvcCA9PT0gXCJsXCIpIHtcblx0ICAgICAgICAgIHggKz0gYXJnc1thXTtcblx0ICAgICAgICAgIHkgKz0gYXJnc1thICsgMV07XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHggPSBhcmdzW2FdO1xuXHQgICAgICAgICAgeSA9IGFyZ3NbYSArIDFdO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBub3JtYWxpemVkICs9IFtcIkxcIiwgeCwgeSwgJyddLmpvaW4oXCIgXCIpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKGxvcCA9PT0gXCJoXCIpIHtcblx0ICAgICAgZm9yIChhID0gMDsgYSA8IGFsZW47IGErKykge1xuXHQgICAgICAgIGlmIChvcCA9PT0gXCJoXCIpIHtcblx0ICAgICAgICAgIHggKz0gYXJnc1thXTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgeCA9IGFyZ3NbYV07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIG5vcm1hbGl6ZWQgKz0gW1wiTFwiLCB4LCB5LCAnJ10uam9pbihcIiBcIik7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAobG9wID09PSBcInZcIikge1xuXHQgICAgICBmb3IgKGEgPSAwOyBhIDwgYWxlbjsgYSsrKSB7XG5cdCAgICAgICAgaWYgKG9wID09PSBcInZcIikge1xuXHQgICAgICAgICAgeSArPSBhcmdzW2FdO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB5ID0gYXJnc1thXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgbm9ybWFsaXplZCArPSBbXCJMXCIsIHgsIHksICcnXS5qb2luKFwiIFwiKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIGlmIChsb3AgPT09IFwicVwiKSB7XG5cdCAgICAgIC8vIHF1YWRyYXRpYyBjdXJ2ZXRvIGNvbW1hbmRzXG5cdCAgICAgIGZvciAoYSA9IDA7IGEgPCBhbGVuOyBhICs9IDQpIHtcblx0ICAgICAgICBpZiAob3AgPT09IFwicVwiKSB7XG5cdCAgICAgICAgICBjeCA9IHggKyBhcmdzW2FdO1xuXHQgICAgICAgICAgY3kgPSB5ICsgYXJnc1thICsgMV07XG5cdCAgICAgICAgICB4ICs9IGFyZ3NbYSArIDJdO1xuXHQgICAgICAgICAgeSArPSBhcmdzW2EgKyAzXTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgY3ggPSBhcmdzW2FdO1xuXHQgICAgICAgICAgY3kgPSBhcmdzW2EgKyAxXTtcblx0ICAgICAgICAgIHggPSBhcmdzW2EgKyAyXTtcblx0ICAgICAgICAgIHkgPSBhcmdzW2EgKyAzXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgbm9ybWFsaXplZCArPSBbXCJRXCIsIGN4LCBjeSwgeCwgeSwgJyddLmpvaW4oXCIgXCIpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKGxvcCA9PT0gXCJ0XCIpIHtcblx0ICAgICAgZm9yIChhID0gMDsgYSA8IGFsZW47IGEgKz0gMikge1xuXHQgICAgICAgIC8vIHJlZmxlY3QgcHJldmlvdXMgY3gvY3kgb3ZlciB4L3lcblx0ICAgICAgICBjeCA9IHggKyAoeCAtIGN4KTtcblx0ICAgICAgICBjeSA9IHkgKyAoeSAtIGN5KTtcblx0ICAgICAgICAvLyB0aGVuIGdldCByZWFsIGVuZCBwb2ludFxuXHQgICAgICAgIGlmIChvcCA9PT0gXCJ0XCIpIHtcblx0ICAgICAgICAgIHggKz0gYXJnc1thXTtcblx0ICAgICAgICAgIHkgKz0gYXJnc1thICsgMV07XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHggPSBhcmdzW2FdO1xuXHQgICAgICAgICAgeSA9IGFyZ3NbYSArIDFdO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBub3JtYWxpemVkICs9IFtcIlFcIiwgY3gsIGN5LCB4LCB5LCAnJ10uam9pbihcIiBcIik7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAobG9wID09PSBcImNcIikge1xuXHQgICAgICAvLyBjdWJpYyBjdXJ2ZXRvIGNvbW1hbmRzXG5cdCAgICAgIGZvciAoYSA9IDA7IGEgPCBhbGVuOyBhICs9IDYpIHtcblx0ICAgICAgICBpZiAob3AgPT09IFwiY1wiKSB7XG5cdCAgICAgICAgICBjeCA9IHggKyBhcmdzW2FdO1xuXHQgICAgICAgICAgY3kgPSB5ICsgYXJnc1thICsgMV07XG5cdCAgICAgICAgICBjeDIgPSB4ICsgYXJnc1thICsgMl07XG5cdCAgICAgICAgICBjeTIgPSB5ICsgYXJnc1thICsgM107XG5cdCAgICAgICAgICB4ICs9IGFyZ3NbYSArIDRdO1xuXHQgICAgICAgICAgeSArPSBhcmdzW2EgKyA1XTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgY3ggPSBhcmdzW2FdO1xuXHQgICAgICAgICAgY3kgPSBhcmdzW2EgKyAxXTtcblx0ICAgICAgICAgIGN4MiA9IGFyZ3NbYSArIDJdO1xuXHQgICAgICAgICAgY3kyID0gYXJnc1thICsgM107XG5cdCAgICAgICAgICB4ID0gYXJnc1thICsgNF07XG5cdCAgICAgICAgICB5ID0gYXJnc1thICsgNV07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIG5vcm1hbGl6ZWQgKz0gW1wiQ1wiLCBjeCwgY3ksIGN4MiwgY3kyLCB4LCB5LCAnJ10uam9pbihcIiBcIik7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAobG9wID09PSBcInNcIikge1xuXHQgICAgICBmb3IgKGEgPSAwOyBhIDwgYWxlbjsgYSArPSA0KSB7XG5cdCAgICAgICAgLy8gcmVmbGVjdCBwcmV2aW91cyBjeDIvY3kyIG92ZXIgeC95XG5cdCAgICAgICAgY3ggPSB4ICsgKHggLSBjeDIpO1xuXHQgICAgICAgIGN5ID0geSArICh5IC0gY3kyKTtcblx0ICAgICAgICAvLyB0aGVuIGdldCByZWFsIGNvbnRyb2wgYW5kIGVuZCBwb2ludFxuXHQgICAgICAgIGlmIChvcCA9PT0gXCJzXCIpIHtcblx0ICAgICAgICAgIGN4MiA9IHggKyBhcmdzW2FdO1xuXHQgICAgICAgICAgY3kyID0geSArIGFyZ3NbYSArIDFdO1xuXHQgICAgICAgICAgeCArPSBhcmdzW2EgKyAyXTtcblx0ICAgICAgICAgIHkgKz0gYXJnc1thICsgM107XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGN4MiA9IGFyZ3NbYV07XG5cdCAgICAgICAgICBjeTIgPSBhcmdzW2EgKyAxXTtcblx0ICAgICAgICAgIHggPSBhcmdzW2EgKyAyXTtcblx0ICAgICAgICAgIHkgPSBhcmdzW2EgKyAzXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgbm9ybWFsaXplZCArPSBbXCJDXCIsIGN4LCBjeSwgY3gyLCBjeTIsIHgsIHksICcnXS5qb2luKFwiIFwiKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIGlmIChsb3AgPT09IFwielwiKSB7XG5cdCAgICAgIG5vcm1hbGl6ZWQgKz0gXCJaIFwiO1xuXHQgICAgICAvLyBub3QgdW5pbXBvcnRhbnQ6IHBhdGggY2xvc2luZyBjaGFuZ2VzIHRoZSBjdXJyZW50IHgveSBjb29yZGluYXRlXG5cdCAgICAgIHggPSBzeDtcblx0ICAgICAgeSA9IHN5O1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gbm9ybWFsaXplZC50cmltKCk7XG5cdH1cblxuXHRtb2R1bGUuZXhwb3J0cyA9IG5vcm1hbGl6ZVBhdGg7XG5cbi8qKiovIH0pXG4vKioqKioqLyBdKTtcblxuZXhwb3J0IGRlZmF1bHQgQmV6aWVyOyIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovXG5pbXBvcnQgeyBHS1V0aWxzIH0gZnJvbSAnLi4vY29yZS91dGlscyc7XG5pbXBvcnQgQmV6aWVyIGZyb20gJy4uL3RoaXJkcGFydHkvYmV6aWVyJztcbmltcG9ydCB7dmVjM30gZnJvbSAnLi4vdGhpcmRwYXJ0eS9nbC1tYXRyaXgvaW5kZXgnO1xuXG5mdW5jdGlvbiBkb3Rwcm9kdWN0KHgsIHkpIHtcbiAgZnVuY3Rpb24gZG90cF9zdW0oYSwgYikgeyByZXR1cm4gYSArIGI7IH1cbiAgZnVuY3Rpb24gZG90cF90aW1lcyhhLCBpKSB7IHJldHVybiB4W2ldICogeVtpXTsgfVxuICBpZiAoeC5sZW5ndGggIT0geS5sZW5ndGgpIHRocm93IFwiY2FuJ3QgZmluZCBkb3QgcHJvZHVjdDogYXJyYXlzIGhhdmUgZGlmZmVyZW50IGxlbmd0aHNcIjtcbiAgcmV0dXJuIHgubWFwKGRvdHBfdGltZXMpLnJlZHVjZShkb3RwX3N1bSwgMCk7XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItY29uc3RcbmxldCB0cmFuc2Zvcm0gPSAoZWxlbWVudCwgcG9pbnQpID0+IHBvaW50O1xuXG5jcmVhdGVQb2ludEF0TG9jYXRpb24gPSAobGF0LCBsb24sIGFsdCkgPT4gR0tVdGlscy53b3JsZEZyb21MYXRMb24obGF0LCBsb24sIGFsdCk7XG5cbmxlcnBCZXR3ZWVuUG9pbnRzID0gKHAwLCBwMSwgcGVyY2VudCkgPT4ge1xuICBjb25zdCB4ID0gKHAxWzBdIC0gcDBbMF0pICogcGVyY2VudCArIHAwWzBdO1xuICBjb25zdCB5ID0gKHAxWzFdIC0gcDBbMV0pICogcGVyY2VudCArIHAwWzFdO1xuICBjb25zdCB6ID0gKHAxWzJdIC0gcDBbMl0pICogcGVyY2VudCArIHAwWzJdO1xuICByZXR1cm4gW3gsIHksIHpdO1xufTtcblxuZ2V0UG9pbnRPbkN1YmljQmV6aWVyID0gKHQsIGNwKSA9PiB7XG4gIGNvbnN0IGIwID0gKDEgLSB0KSAqKiAzO1xuICBjb25zdCBiMSA9IDMgKiB0ICogKDEgLSB0KSAqKiAyO1xuICBjb25zdCBiMiA9IDMgKiAoMSAtIHQpICogdCAqKiAyO1xuICBjb25zdCBiMyA9IHQgKiogMztcblxuICByZXR1cm4gKGIwICogY3BbMF0pICsgKGIxICogY3BbMV0pICsgKGIyICogY3BbMl0pICsgKGIzICogY3BbM10pO1xufTtcblxuY3JlYXRlQXJjQmV0d2VlbkNvb3JkcyA9IChzdGFydCwgZW5kKSA9PiB7XG4gIGNvbnN0IG4gPSAxMDA7XG5cbiAgY29uc3QgcyA9IEdLVXRpbHMud29ybGRGcm9tTGF0TG9uKHN0YXJ0WzBdLCBzdGFydFsxXSwgMC4wKTtcbiAgY29uc3QgZSA9IEdLVXRpbHMud29ybGRGcm9tTGF0TG9uKGVuZFswXSwgZW5kWzFdLCAwLjApO1xuICBjb25zdCBzaW11bGFyaXR5ID0gKDEuMCAtICgoZG90cHJvZHVjdChzLCBlKSArIDEuMCkgLyAyLjApKTtcblxuICBjb25zdCBtaWRwb2ludCA9IHZlYzMuY3JlYXRlKCk7XG4gIHZlYzMubGVycChtaWRwb2ludCwgcywgZSwgMC41KTtcbiAgbGV0IG0gPSBHS1V0aWxzLmxhdExvbkZyb21Xb3JsZChtaWRwb2ludCk7XG4gIGNvbnNvbGUubG9nKFwiTUlEXCIsIG0pO1xuICBtID0gR0tVdGlscy53b3JsZEZyb21MYXRMb24obS5sYXQsIG0ubG9uLCAwLjUpO1xuICAvLyB2ZWMzLnNjYWxlKG1pZHBvaW50LCBtaWRwb2ludCwgMS4wKTtcblxuICBjb25zdCBkaXIgPSB2ZWMzLmNyZWF0ZSgpO1xuICB2ZWMzLm5vcm1hbGl6ZShkaXIsIHZlYzMuc3VidHJhY3QoZGlyLCBtLCBzKSk7XG4gIGNvbnNvbGUubG9nKHMsIGUpO1xuXG4gIGNvbnN0IHBsYW5lVmVjdG9yID0gdmVjMy5jcmVhdGUoKTtcbiAgdmVjMy5jcm9zcyhwbGFuZVZlY3RvciwgbSwgcyk7XG4gIGNvbnN0IG5vcm1hbCA9IHZlYzMuY3JlYXRlKCk7XG4gIHZlYzMuY3Jvc3Mobm9ybWFsLCBwbGFuZVZlY3RvciwgZGlyKTtcblxuICBjb25zdCBzTm9ybWFsMCA9IHZlYzMuY3JlYXRlKCk7XG4gIHZlYzMuc2NhbGUoc05vcm1hbDAsIG5vcm1hbCwgMC41KTtcblxuICBjb25zdCBzTm9ybWFsMSA9IHZlYzMuY3JlYXRlKCk7XG4gIHZlYzMuc2NhbGUoc05vcm1hbDEsIG5vcm1hbCwgMC4wKTtcblxuICBjb25zdCB0MCA9IHZlYzMuY3JlYXRlKCk7XG4gIHZlYzMubGVycCh0MCwgcywgbSwgMC4yNSk7XG4gIHZlYzMuYWRkKHQwLCB0MCwgc05vcm1hbDApO1xuXG4gIGNvbnN0IHQxID0gdmVjMy5jcmVhdGUoKTtcbiAgdmVjMy5sZXJwKHQxLCBzLCBtLCAxLjApO1xuICB2ZWMzLmFkZCh0MSwgdDEsIHNOb3JtYWwxKTtcblxuICAvLyBjb25zdCBwMSA9IGxlcnBCZXR3ZWVuUG9pbnRzKHAwLCBwMywgMC4xNSk7XG4gIC8vIGNvbnN0IHAyID0gbGVycEJldHdlZW5Qb2ludHMocDAsIHAzLCAwLjM1KTtcblxuICBjb25zdCBjcCA9IFtdO1xuICBjcC5wdXNoKC4uLnMpO1xuICBjcC5wdXNoKC4uLnQwKTtcbiAgLy8gY3AucHVzaCguLi50MSk7XG4gIGNwLnB1c2goLi4ubSk7XG5cbiAgY29uc29sZS5sb2cocywgdDAsIHQxLCBtKTtcblxuICBjb25zdCBjMCA9IHt4OnNbMF0sIHk6IHNbMV0sIHo6IHNbMl19O1xuICBjb25zdCBjMSA9IHt4Om1bMF0sIHk6IG1bMV0sIHo6IG1bMl19O1xuICBjb25zdCBjMiA9IHt4OmVbMF0sIHk6IGVbMV0sIHo6IGVbMl19O1xuXG4gIC8vIGNvbnN0IGIgPSBCZXppZXIuY3ViaWNGcm9tUG9pbnRzKGMwLCBjMSwgYzIsIDAuNSk7XG5cbiAgY29uc3QgYiA9IG5ldyBCZXppZXIoY3ApO1xuICBjb25zdCBwID0gYi5nZXRMVVQoNTApO1xuICBjb25zdCBwb2ludHMgPSBbXTtcbiAgcC5mb3JFYWNoKChwb2ludCkgPT4ge1xuICAgIHBvaW50cy5wdXNoKC4uLk9iamVjdC52YWx1ZXMocG9pbnQpKTtcbiAgfSk7XG5cbiAgY29uc29sZS5sb2cocG9pbnRzKTtcbiAgLy8gcG9pbnRzLnB1c2goLi4ucDApO1xuICAvLyBwb2ludHMucHVzaCguLi50MCk7XG4gIC8vIHBvaW50cy5wdXNoKC4uLnQxKTtcbiAgLy8gcG9pbnRzLnB1c2goLi4ubWlkcG9pbnQpO1xuICAvLyBwb2ludHMucHVzaCguLi4pO1xuICAvLyBwb2ludHMucHVzaCguLi5taWRwb2ludCk7XG5cbiAgcmV0dXJuIHBvaW50cztcbn07XG5cbm9ubWVzc2FnZSA9IChlKSA9PiB7XG4gIGNvbnN0IHsgZGF0YSB9ID0gZS5kYXRhO1xuICBjb25zdCB7IHR5cGUgfSA9IGUuZGF0YTtcbiAgY29uc29sZS5sb2coZS5kYXRhKTtcblxuICBpZiAoZS5kYXRhLnRyYW5zZm9ybSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGltcG9ydFNjcmlwdHMoZS5kYXRhLnRyYW5zZm9ybSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZSA9PT0gJ3BvaW50Jykge1xuICAgIGNvbnN0IHZlcnRpY2VzID0ge307XG4gICAgdmVydGljZXMucG9zaXRpb24gPSB7IG51bUNvbXBvbmVudHM6IDMsIGRhdGE6IFtdIH07XG4gICAgdmVydGljZXMuY29sb3IgPSB7IG51bUNvbXBvbmVudHM6IDQsIGRhdGE6IFtdIH07XG4gICAgdmVydGljZXMuc2l6ZSA9IHsgbnVtQ29tcG9uZW50czogMSwgZGF0YTogW10gfTtcbiAgICB2ZXJ0aWNlcy5pbmRpY2VzID0geyBudW1Db21wb25lbnRzOiAxLCBkYXRhOiBbXSB9O1xuXG4gICAgZGF0YS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgLy8gQ3JlYXRlIHBvaW50IGdlb21ldHJ5IGF0IGxvY2F0aW9uXG4gICAgICBsZXQgcG9pbnQgPSB7XG4gICAgICAgIGxhdDogZWxlbWVudC5sYXQsXG4gICAgICAgIGxvbjogZWxlbWVudC5sb24sXG4gICAgICAgIGFsdDogZWxlbWVudC5hbHQsXG4gICAgICAgIGNvbG9yOiBbMS4wLCAxLjAsIDEuMCwgMS4wXSxcbiAgICAgICAgc2l6ZTogMTAuMCxcbiAgICAgIH07XG5cbiAgICAgIC8vIFRyYW5zZm9ybSBnZW9tZXRyeSB1c2luZyBwcm92aWRlZCBmdW5jdGlvblxuICAgICAgLy8gY29uc29sZS5sb2coZWxlbWVudCwgcG9pbnQpO1xuICAgICAgcG9pbnQgPSB0cmFuc2Zvcm0oZWxlbWVudCwgcG9pbnQpO1xuXG4gICAgICBwb2ludC5jb29yZHMgPSBjcmVhdGVQb2ludEF0TG9jYXRpb24ocG9pbnQubGF0LCBwb2ludC5sb24sIHBvaW50LmFsdCk7XG4gICAgICB2ZXJ0aWNlcy5wb3NpdGlvbi5kYXRhLnB1c2goLi4ucG9pbnQuY29vcmRzKTtcbiAgICAgIHZlcnRpY2VzLmNvbG9yLmRhdGEucHVzaCguLi5wb2ludC5jb2xvcik7XG4gICAgICB2ZXJ0aWNlcy5zaXplLmRhdGEucHVzaChwb2ludC5zaXplKTtcbiAgICAgIHZlcnRpY2VzLmluZGljZXMuZGF0YS5wdXNoKGluZGV4KTtcbiAgICB9KTtcblxuICAgIHBvc3RNZXNzYWdlKHZlcnRpY2VzKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAncXVhZCcpIHtcbiAgICBjb25zb2xlLmxvZygnQ3JlYXRlIFF1YWQnKTtcbiAgICBjb25zb2xlLmxvZygnRGF0YUdlby1RdWFkJywgZGF0YSk7XG4gICAgZGF0YS5mb3JFYWNoKChlbCkgPT4gY29uc29sZS5sb2coZWwpKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnYXJjJykge1xuICAgIGNvbnN0IHZlcnRpY2VzID0ge307XG4gICAgdmVydGljZXMucG9zaXRpb24gPSB7IG51bUNvbXBvbmVudHM6IDMsIGRhdGE6IFtdIH07XG5cbiAgICBkYXRhLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICBjb25zdCBkZW1vQXJjID0gY3JlYXRlQXJjQmV0d2VlbkNvb3JkcyhlbC5mcm9tLCBlbC50byk7XG4gICAgICB2ZXJ0aWNlcy5wb3NpdGlvbi5kYXRhLnB1c2goLi4uZGVtb0FyYyk7XG4gICAgfSk7XG5cbiAgICBwb3N0TWVzc2FnZSh2ZXJ0aWNlcyk7XG4gIH1cbn07XG4iXSwibmFtZXMiOlsiRVBTSUxPTiIsIkFSUkFZX1RZUEUiLCJGbG9hdDMyQXJyYXkiLCJBcnJheSIsIk1hdGgiLCJoeXBvdCIsInkiLCJpIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic3FydCIsImNyZWF0ZSIsIm91dCIsImdsTWF0cml4IiwiYSIsIngiLCJ6IiwiZnJvbVZhbHVlcyIsImFkZCIsImIiLCJzdWJ0cmFjdCIsInNjYWxlIiwibm9ybWFsaXplIiwibGVuIiwiZG90IiwiY3Jvc3MiLCJheCIsImF5IiwiYXoiLCJieCIsImJ5IiwiYnoiLCJsZXJwIiwidCIsImZvckVhY2giLCJ2ZWMiLCJzdHJpZGUiLCJvZmZzZXQiLCJjb3VudCIsImZuIiwiYXJnIiwibCIsIm1pbiIsInciLCJzZXRBeGlzQW5nbGUiLCJheGlzIiwicmFkIiwicyIsInNpbiIsImNvcyIsInNsZXJwIiwiYXciLCJidyIsIm9tZWdhIiwiY29zb20iLCJzaW5vbSIsInNjYWxlMCIsInNjYWxlMSIsImFjb3MiLCJmcm9tTWF0MyIsIm0iLCJmVHJhY2UiLCJmUm9vdCIsImoiLCJrIiwidmVjNCIsInJvdGF0aW9uVG8iLCJ0bXB2ZWMzIiwidmVjMyIsInhVbml0VmVjMyIsInlVbml0VmVjMyIsIlBJIiwic3FsZXJwIiwidGVtcDEiLCJ0ZW1wMiIsImMiLCJkIiwic2V0QXhlcyIsIm1hdHIiLCJtYXQzIiwidmlldyIsInJpZ2h0IiwidXAiLCJHS1V0aWxzIiwiYXRhbiIsInBvcyIsIm5vcm1hbCIsImxhdFJhZCIsImFzaW4iLCJsb25SYWQiLCJyYWRpYW5zRm9yUG9zaXRpb24iLCJsYXREZWciLCJsb25EZWciLCJsYXQiLCJsb24iLCJwMCIsInAxIiwiZGVncmVlc1RvUmFkaWFucyIsImRlZ3JlZXMiLCJSIiwicGhpMSIsInBoaTIiLCJkZWx0YVBoaSIsImRlbHRhTGFtYmRhIiwiYXRhbjIiLCJhbHQiLCJhbHRpdHVkZSIsImxuZ1JhZCIsInJhZGl1cyIsIm5vcm0iLCJoIiwiciIsImciLCJwYXJzZUludCIsInJnYiIsImhleFRvUkdCIiwiYWxwaGEiLCJldmVyeSIsImVsIiwiZmluZCIsImUiLCJ1bmRlZmluZWQiLCJhbW91bnQiLCJhaCIsInJlcGxhY2UiLCJhciIsImFnIiwiYWIiLCJiaCIsImJyIiwiYmciLCJiYiIsInJyIiwicmciLCJyYiIsInRvU3RyaW5nIiwic2xpY2UiLCJCZXppZXIiLCJtb2R1bGVzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpZCIsImxvYWRlZCIsImNhbGwiLCJwIiwiX3R5cGVvZiIsIlN5bWJvbCIsIl90eXBlb2YyIiwiaXRlcmF0b3IiLCJvYmoiLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsImFicyIsIm1heCIsInBpIiwiWkVSTyIsInV0aWxzIiwiUG9seUJlemllciIsImNvb3JkcyIsImFyZ3MiLCJjb29yZGxlbiIsIm5ld2FyZ3MiLCJwb2ludCIsInB1c2giLCJoaWdoZXIiLCJFcnJvciIsIl8zZCIsInBvaW50cyIsImlkeCIsInN0ZXAiLCJvcmRlciIsImRpbXMiLCJkaW1sZW4iLCJjdXJ2ZSIsImFsaWduIiwicDIiLCJfbGluZWFyIiwiX3QxIiwiX3QyIiwidXBkYXRlIiwic3ZnVG9CZXppZXJzIiwiU1ZHdG9CZXppZXJzIiwiZ2V0QUJDIiwibiIsIlMiLCJCIiwiRSIsInUiLCJwcm9qZWN0aW9ucmF0aW8iLCJ1bSIsIkMiLCJhYmNyYXRpbyIsIkEiLCJxdWFkcmF0aWNGcm9tUG9pbnRzIiwicDMiLCJhYmMiLCJjdWJpY0Zyb21Qb2ludHMiLCJkMSIsImRpc3QiLCJkMiIsInNlbGVuIiwibHgiLCJseSIsImJ4MSIsImJ5MSIsImJ4MiIsImJ5MiIsImUxIiwiZTIiLCJ2MSIsInYyIiwibmMxIiwibmMyIiwiZ2V0VXRpbHMiLCJ2YWx1ZU9mIiwicG9pbnRzVG9TdHJpbmciLCJ0b1NWRyIsInJlbGF0aXZlIiwibGFzdCIsImpvaW4iLCJzZXRSYXRpb3MiLCJyYXRpb3MiLCJfbHV0IiwidmVyaWZ5IiwicHJpbnQiLCJjb29yZERpZ2VzdCIsIl9wcmludCIsIm1hcCIsIm5ld3ByaW50IiwiZHBvaW50cyIsImRlcml2ZSIsImNvbXB1dGVkaXJlY3Rpb24iLCJhbmdsZSIsImNsb2Nrd2lzZSIsImRlcml2YXRpdmUiLCJiaW5kIiwiZ2V0TFVUIiwic3RlcHMiLCJjb21wdXRlIiwib24iLCJlcnJvciIsImx1dCIsImhpdHMiLCJwcm9qZWN0IiwiTFVUIiwiY2xvc2VzdCIsIm1kaXN0IiwibXBvcyIsImZ0IiwidDEiLCJ0MiIsImdldCIsImNvbXB1dGVXaXRoUmF0aW9zIiwicmFpc2UiLCJucCIsInBpbSIsIm10IiwicmV0IiwiY3VydmF0dXJlIiwiaW5mbGVjdGlvbnMiLCJfX25vcm1hbDMiLCJfX25vcm1hbDIiLCJxIiwicjEiLCJyMiIsInExIiwicTIiLCJodWxsIiwiX3AiLCJwdCIsInNwbGl0IiwibGVmdCIsInJlc3VsdCIsInNwYW4iLCJzdWJzcGxpdCIsImV4dHJlbWEiLCJyb290cyIsIm1mbiIsImRpbSIsInYiLCJkcm9vdHMiLCJjb25jYXQiLCJmaWx0ZXIiLCJzb3J0IiwibnVtYmVyU29ydCIsImluZGV4T2YiLCJ2YWx1ZXMiLCJiYm94IiwiZ2V0bWlubWF4Iiwib3ZlcmxhcHMiLCJsYmJveCIsInRiYm94IiwiYmJveG92ZXJsYXAiLCJudiIsInJlZHVjZWQiLCJyZWR1Y2UiLCJzaW1wbGUiLCJhMSIsImEyIiwibjEiLCJuMiIsInNlZ21lbnQiLCJwYXNzMSIsInBhc3MyIiwiZGlzdGFuY2VGbiIsIm8iLCJsbGk0IiwiY29weSIsIm92IiwicmMiLCJvdXRsaW5lIiwiZDMiLCJkNCIsImZjdXJ2ZXMiLCJiY3VydmVzIiwiYWxlbiIsInRsZW4iLCJncmFkdWF0ZWQiLCJsaW5lYXJEaXN0YW5jZUZ1bmN0aW9uIiwic2xlbiIsImYxIiwiZjIiLCJyZXZlcnNlIiwiZnMiLCJmZSIsImJzIiwiYmUiLCJscyIsIm1ha2VsaW5lIiwibGUiLCJzZWdtZW50cyIsIm91dGxpbmVzaGFwZXMiLCJjdXJ2ZUludGVyc2VjdGlvblRocmVzaG9sZCIsImN1cnZlcyIsInNoYXBlcyIsInNoYXBlIiwibWFrZXNoYXBlIiwic3RhcnRjYXAiLCJ2aXJ0dWFsIiwiZW5kY2FwIiwiaW50ZXJzZWN0cyIsInNlbGZpbnRlcnNlY3RzIiwibGluZUludGVyc2VjdHMiLCJjdXJ2ZWludGVyc2VjdHMiLCJsaW5lIiwibXgiLCJteSIsIk1YIiwiTVkiLCJzZWxmIiwiYmV0d2VlbiIsInJlc3VsdHMiLCJjMSIsImMyIiwicGFpcnMiLCJpbnRlcnNlY3Rpb25zIiwicGFpciIsInBhaXJpdGVyYXRpb24iLCJhcmNzIiwiZXJyb3JUaHJlc2hvbGQiLCJjaXJjbGVzIiwiX2l0ZXJhdGUiLCJfZXJyb3IiLCJwYyIsIm5wMSIsInJlZiIsInRfcyIsInRfZSIsInNhZmV0eSIsIm5wMiIsIm5wMyIsImFyYyIsInByZXZfYXJjIiwiY3Vycl9nb29kIiwicHJldl9nb29kIiwiZG9uZSIsInRfbSIsInByZXZfZSIsImdldGNjZW50ZXIiLCJpbnRlcnZhbCIsInN0YXJ0IiwiZW5kIiwicG93IiwiY3J0IiwidGF1IiwicXVhcnQiLCJlcHNpbG9uIiwibk1heCIsIk51bWJlciIsIk1BWF9TQUZFX0lOVEVHRVIiLCJuTWluIiwiTUlOX1NBRkVfSU5URUdFUiIsIlR2YWx1ZXMiLCJDdmFsdWVzIiwiYXJjZm4iLCJkZXJpdmF0aXZlRm4iLCJtdDIiLCJkQ3B0cyIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsInNwbGljZSIsImYzIiwiZjQiLCJsaXN0IiwiZHB0IiwiTSIsImFwcHJveGltYXRlbHkiLCJwcmVjaXNpb24iLCJzdW0iLCJkcyIsImRlIiwidHMiLCJ0ZSIsInBvaW50VG9TdHJpbmciLCJkeDEiLCJkeTEiLCJkeDIiLCJkeTIiLCJyb3VuZCIsInBhcnNlRmxvYXQiLCJzdWJzdHJpbmciLCJkeCIsImR5IiwiYm90dG9tIiwidG9wIiwibGxpOCIsIngxIiwieTEiLCJ4MiIsInkyIiwieDMiLCJ5MyIsIng0IiwieTQiLCJueCIsIm55IiwicDQiLCJsbGkiLCJmaW5kYmJveCIsInNlY3Rpb25zIiwibWlkIiwic2l6ZSIsInNoYXBlaW50ZXJzZWN0aW9ucyIsInMxIiwiYmJveDEiLCJzMiIsImJib3gyIiwiZm9yd2FyZCIsImJhY2siLCJsMSIsImwyIiwiaXNzIiwiYnBsIiwiZnBsIiwidHgiLCJ0eSIsIm0xIiwibTIiLCJwYSIsInBiIiwicGQiLCJkaXNjcmltaW5hbnQiLCJ1MSIsIm1wMyIsIm1wMzMiLCJjb3NwaGkiLCJwaGkiLCJjcnRyIiwic2QiLCJrT25seSIsIm51bSIsImRubSIsImFkayIsImRrIiwiZGQiLCJxZHN1bSIsInBrIiwibmsiLCJ2MyIsInRybSIsInNxIiwiYjEiLCJiMiIsImV4cGFuZGJveCIsIl9iYm94IiwiYzFiIiwiYzJiIiwidGhyZXNob2xkIiwiY2MxIiwiY2MyIiwiZHgxcCIsImR5MXAiLCJkeDJwIiwiZHkycCIsIm14MSIsIm15MSIsIm14MiIsIm15MiIsIm14MW4iLCJteTFuIiwibXgybiIsIm15Mm4iLCJfIiwiYWRkQ3VydmUiLCJub3JtYWxpc2UiLCJtYWtlQmV6aWVyIiwidGVybSIsImN2YWx1ZXMiLCJQcmVib3VuZENvbnN0cnVjdG9yIiwiYXBwbHkiLCJjb252ZXJ0UGF0aCIsInRlcm1zIiwibWF0Y2hlciIsIlJlZ0V4cCIsIkFSR1MiLCJ0ZXN0Iiwibm9ybWFsaXplUGF0aCIsImluc3RydWN0aW9ucyIsImluc3RydWN0aW9uTGVuZ3RoIiwiaW5zdHJ1Y3Rpb24iLCJvcCIsImxvcCIsInN4Iiwic3kiLCJjeCIsImN5IiwiY3gyIiwiY3kyIiwibm9ybWFsaXplZCIsInRvTG93ZXJDYXNlIiwidHJpbSIsImRvdHByb2R1Y3QiLCJkb3RwX3N1bSIsImRvdHBfdGltZXMiLCJ0cmFuc2Zvcm0iLCJlbGVtZW50IiwiY3JlYXRlUG9pbnRBdExvY2F0aW9uIiwid29ybGRGcm9tTGF0TG9uIiwibGVycEJldHdlZW5Qb2ludHMiLCJwZXJjZW50IiwiZ2V0UG9pbnRPbkN1YmljQmV6aWVyIiwiY3AiLCJiMCIsImIzIiwiY3JlYXRlQXJjQmV0d2VlbkNvb3JkcyIsInNpbXVsYXJpdHkiLCJtaWRwb2ludCIsImxhdExvbkZyb21Xb3JsZCIsImNvbnNvbGUiLCJsb2ciLCJkaXIiLCJwbGFuZVZlY3RvciIsInNOb3JtYWwwIiwic05vcm1hbDEiLCJ0MCIsImMwIiwiT2JqZWN0Iiwib25tZXNzYWdlIiwiZGF0YSIsInR5cGUiLCJpbXBvcnRTY3JpcHRzIiwidmVydGljZXMiLCJwb3NpdGlvbiIsIm51bUNvbXBvbmVudHMiLCJjb2xvciIsImluZGljZXMiLCJpbmRleCIsInBvc3RNZXNzYWdlIiwiZGVtb0FyYyIsImZyb20iLCJ0byJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUlBO0FBQ08sSUFBSUEsT0FBTyxHQUFHLFFBQWQ7QUFDQSxJQUFJQyxVQUFVLEdBQUcsT0FBT0MsWUFBUCxLQUF3QixXQUF4QixHQUFzQ0EsWUFBdEMsR0FBcURDLEtBQXRFO0FBa0NQLElBQUksQ0FBQ0MsSUFBSSxDQUFDQyxLQUFWLEVBQWlCRCxJQUFJLENBQUNDLEtBQUwsR0FBYSxZQUFZO0FBQ3hDLE1BQUlDLENBQUMsR0FBRyxDQUFSO0FBQUEsTUFDSUMsQ0FBQyxHQUFHQyxTQUFTLENBQUNDLE1BRGxCOztBQUdBLFNBQU9GLENBQUMsRUFBUixFQUFZO0FBQ1ZELElBQUFBLENBQUMsSUFBSUUsU0FBUyxDQUFDRCxDQUFELENBQVQsR0FBZUMsU0FBUyxDQUFDRCxDQUFELENBQTdCO0FBQ0Q7O0FBRUQsU0FBT0gsSUFBSSxDQUFDTSxJQUFMLENBQVVKLENBQVYsQ0FBUDtBQUNELENBVGdCOztBQ3ZDakI7Ozs7O0FBS0E7Ozs7OztBQU1PLFNBQVNLLE1BQVQsR0FBa0I7QUFDdkIsTUFBSUMsR0FBRyxHQUFHLElB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",!1),DataGeometryFactory=function DataGeometryFactory(){var _this=this;_classCallCheck(this,DataGeometryFactory),_defineProperty(this,"blobURL",void 0),_defineProperty(this,"transform",void 0),_defineProperty(this,"type",void 0),_defineProperty(this,"worker",void 0),_defineProperty(this,"isRunning",!1),_defineProperty(this,"createGeometry",(function(type,data,transform,cb){_this.isRunning=!0,_this.worker=new WorkerFactory,_this.worker.onmessage=function(e){void 0!==cb&&cb(e.data),_this.isRunning=!1};var blob=new Blob([transform.toString()]);_this.blobURL=window.URL.createObjectURL(blob),_this.worker.postMessage({data:data,transform:_this.blobURL,type:type})})),_defineProperty(this,"cleanup",(function(){_this.worker.terminate(),_this.worker=void 0}))},shaders$2={vertex:"#define GLSLIFY 1\nattribute vec4 position;attribute vec4 color;attribute float size;uniform mat4 u_worldViewProjection;uniform mat4 u_viewInverse;uniform mat4 u_model;uniform vec3 u_cameraPos;varying vec4 v_color;varying float v_alpha;void main(){vec4 pos=u_worldViewProjection*u_model*position;gl_PointSize=size;gl_Position=pos;v_color=color;v_alpha=dot(position.xyz,normalize(u_cameraPos));}",fragment:"precision mediump float;\n#define GLSLIFY 1\nvarying vec4 v_color;void main(){gl_FragColor=v_color;}"},uniforms$2={},transform=function transform(element,point){return console.log("transform",point),point.alt=.05,point.size=0,point.color=GKUtils.hexToRGBA("#ff0000",1),point},Points=function(_DataDrawable){_inherits(Points,_DataDrawable);var _super=_createSuper(Points);function Points(params){var _thisSuper,_this;return _classCallCheck(this,Points),_defineProperty(_assertThisInitialized(_this=_super.call(this,params)),"datastore",void 0),_defineProperty(_assertThisInitialized(_this),"maxSelectionDistance",300),_defineProperty(_assertThisInitialized(_this),"maxSelectionCount",1),_defineProperty(_assertThisInitialized(_this),"maxDataPoints",10),_defineProperty(_assertThisInitialized(_this),"dataPointCount",0),_defineProperty(_assertThisInitialized(_this),"geoFactory",void 0),_defineProperty(_assertThisInitialized(_this),"_resourceLoaded",!1),_defineProperty(_assertThisInitialized(_this),"_isDirty",!0),_defineProperty(_assertThisInitialized(_this),"_hasGeometry",!1),_defineProperty(_assertThisInitialized(_this),"createEmptyVertices",(function(){_this.geometry.vertices.position={numComponents:3,data:new Array(3*_this.maxDataPoints).fill(0)},_this.geometry.vertices.color={numComponents:4,data:new Array(4*_this.maxDataPoints).fill(0)},_this.geometry.vertices.size={numComponents:1,data:new Array(1*_this.maxDataPoints).fill(0)},_this.geometry.vertices.indices={numComponents:1,data:Array.from(Array(1*_this.maxDataPoints).keys())}})),_defineProperty(_assertThisInitialized(_this),"extendVerticesBy",(function(size){var _this$geometry$vertic,_this$geometry$vertic2,_this$geometry$vertic3;(_this$geometry$vertic=_this.geometry.vertices.position.data).push.apply(_this$geometry$vertic,_toConsumableArray(Array(3*size).fill(0))),(_this$geometry$vertic2=_this.geometry.vertices.color.data).push.apply(_this$geometry$vertic2,_toConsumableArray(Array(4*size).fill(0))),(_this$geometry$vertic3=_this.geometry.vertices.size.data).push.apply(_this$geometry$vertic3,_toConsumableArray(Array(1*size).fill(0)));var indicesLen=_this.geometry.vertices.indices.data.length;_this.geometry.vertices.indices.data=Array.from(Array(1*(indicesLen+size)).keys()),_this.geometry.needsResize=!0,_this.maxDataPoints+=size})),_defineProperty(_assertThisInitialized(_this),"init",(function(gl){_this.geometry.init(gl),_this._hasGeometry=!0,_this.material.init(gl),_this.material.texturesLoaded=!0})),_defineProperty(_assertThisInitialized(_this),"createCollisionGeo",(function(){})),_defineProperty(_assertThisInitialized(_this),"update",(function(gl,sceneProps,time){_get((_thisSuper=_assertThisInitialized(_this),_getPrototypeOf(Points.prototype)),"update",_thisSuper).call(_thisSuper,sceneProps,time),_this.material.uniforms.u_model=_this.modelMatrix,_this.geometry.needsResize&&_this.geometry.reloadBuffers(gl),_this.geometry.isDirty&&_this.geometry.updateBuffers(gl)})),_defineProperty(_assertThisInitialized(_this),"draw",(function(gl){(_this.isReady||_this._hasGeometry)&&0!==!_this.dataPointCount&&(gl.useProgram(_this.material.programInfo.program),setBuffersAndAttributes(gl,_this.material.programInfo,_this.geometry.bufferInfo),setUniforms(_this.material.programInfo,_this.material.uniforms),gl.drawElements(gl.POINTS,_this.dataPointCount,gl.UNSIGNED_SHORT,0))})),_defineProperty(_assertThisInitialized(_this),"rayCastFrom",(function(ray){return!0})),_defineProperty(_assertThisInitialized(_this),"hitTest",(function(ray){return!0})),_defineProperty(_assertThisInitialized(_this),"onSelectionCB",(function(selection){return selection})),_defineProperty(_assertThisInitialized(_this),"onSelection",(function(lat,lon,collision){var selection=_this.getNearest(lat,lon);return selection=_this.onSelectionCB(selection)})),_defineProperty(_assertThisInitialized(_this),"addGeojson",(function(geojson,cb){"string"!=typeof geojson?(_this.datastore.addGeojson(geojson),_this.geoFactory.createGeometry("point",_this.datastore.data,_this.applyTransform||transform,(function(geometry){_this.geometry.updateGeometry(geometry,_this.dataPointCount),_this.dataPointCount+=geojson.features.length,void 0!==cb&&cb()}))):console.warn("This function needs a geojson object at this time")})),_defineProperty(_assertThisInitialized(_this),"addGeoJsonPoint",(function(geojsonPoint){var lat=geojsonPoint.geometry.coordinates[1],lon=geojsonPoint.geometry.coordinates[0],props=geojsonPoint.properties;_this.addDataPoint(lat,lon,props)})),_defineProperty(_assertThisInitialized(_this),"addDataPoint",(function(lat,lon,data){_this.dataPointCount+1>=_this.maxDataPoints&&(console.warn("More than "+_this.maxDataPoints+" datapoints have been added, Increasing buffer size by: "+_this.maxDataPoints),_this.extendVerticesBy(_this.maxDataPoints));var newData=[];newData.push(_this.datastore.addPoint(lat,lon,data)),_this.geoFactory.createGeometry("point",newData,_this.applyTransform||transform,(function(geometry){_this.geometry.updateGeometry(geometry,_this.ver),_this.dataPointCount+=1,console.log("verify",_this.datastore.getTypeList(),_this.datastore.isHomogeneous)}))})),_defineProperty(_assertThisInitialized(_this),"getNearest",(function(lat,lon){return _this.datastore.getNearest(lat,lon,_this.maxSelectionDistance,_this.maxSelectionCount)})),params&&(params.maxSelectionCount&&(_this.maxSelectionCount=params.maxSelectionCount),params.maxSelectionDistance&&(_this.maxSelectionDistance=params.maxSelectionDistance),params.maxDataPoints&&(_this.maxDataPoints=params.maxDataPoints)),_this.material=new ShaderMaterial(shaders$2),_this.datastore=new DataStore,_this.material.uniforms=uniforms$2,_this.geoFactory=new DataGeometryFactory,_this.geometry=new Geometry,_this.createEmptyVertices(),_this}return Points}(DataDrawable),shaders$3={vertex:"#define GLSLIFY 1\nattribute vec4 position;uniform mat4 u_worldViewProjection;uniform mat4 u_viewInverse;uniform mat4 u_model;uniform vec3 u_cameraPos;varying vec4 v_color;void main(){vec4 pos=u_worldViewProjection*u_model*position;gl_PointSize=4.0;gl_Position=pos;v_color=vec4(1.0,0.0,0.0,1.0);}",fragment:"precision mediump float;\n#define GLSLIFY 1\nvarying vec4 v_color;void main(){gl_FragColor=v_color;}"},uniforms$3={},transform$1=function transform(element,arc){return console.log("arc-transform",element,arc),arc},Arcs=function(_DataDrawable){_inherits(Arcs,_DataDrawable);var _super=_createSuper(Arcs);function Arcs(params){var _thisSuper,_this;return _classCallCheck(this,Arcs),_defineProperty(_assertThisInitialized(_this=_super.call(this,params)),"datastore",void 0),_defineProperty(_assertThisInitialized(_this),"maxSelectionDistance",300),_defineProperty(_assertThisInitialized(_this),"maxSelectionCount",1),_defineProperty(_assertThisInitialized(_this),"maxDataPoints",1e4),_defineProperty(_assertThisInitialized(_this),"dataPointCount",void 0),_defineProperty(_assertThisInitialized(_this),"arcCount",0),_defineProperty(_assertThisInitialized(_this),"geoFactory",void 0),_defineProperty(_assertThisInitialized(_this),"_resourceLoaded",!1),_defineProperty(_assertThisInitialized(_this),"_isDirty",!0),_defineProperty(_assertThisInitialized(_this),"_hasGeometry",!1),_defineProperty(_assertThisInitialized(_this),"createEmptyVertices",(function(){_this.geometry.vertices.position={numComponents:3,data:new Array(3*_this.maxDataPoints).fill(0)},_this.geometry.vertices.indices={numComponents:1,data:Array.from(Array(1*_this.maxDataPoints).keys())}})),_defineProperty(_assertThisInitialized(_this),"extendVerticesBy",(function(size){var _this$geometry$vertic;(_this$geometry$vertic=_this.geometry.vertices.position.data).push.apply(_this$geometry$vertic,_toConsumableArray(Array(3*size).fill(0)));var indicesLen=_this.geometry.vertices.indices.data.length;_this.geometry.vertices.indices.data=Array.from(Array(1*(indicesLen+size)).keys()),_this.geometry.needsResize=!0,_this.maxDataPoints+=size})),_defineProperty(_assertThisInitialized(_this),"init",(function(gl){_this.geometry.init(gl),_this._hasGeometry=!0,_this.material.init(gl),_this.material.texturesLoaded=!0})),_defineProperty(_assertThisInitialized(_this),"createCollisionGeo",(function(){})),_defineProperty(_assertThisInitialized(_this),"update",(function(gl,sceneProps,time){_get((_thisSuper=_assertThisInitialized(_this),_getPrototypeOf(Arcs.prototype)),"update",_thisSuper).call(_thisSuper,sceneProps,time),_this.material.uniforms.u_model=_this.modelMatrix,_this.geometry.needsResize&&_this.geometry.reloadBuffers(gl),_this.geometry.isDirty&&_this.geometry.updateBuffers(gl)})),_defineProperty(_assertThisInitialized(_this),"draw",(function(gl){(_this.isReady||_this._hasGeometry)&&0!==_this.arcCount&&(gl.useProgram(_this.material.programInfo.program),setBuffersAndAttributes(gl,_this.material.programInfo,_this.geometry.bufferInfo),setUniforms(_this.material.programInfo,_this.material.uniforms),gl.drawElements(gl.POINTS,100*_this.arcCount*3,gl.UNSIGNED_SHORT,0))})),_defineProperty(_assertThisInitialized(_this),"rayCastFrom",(function(ray){return!0})),_defineProperty(_assertThisInitialized(_this),"hitTest",(function(ray){return!0})),_defineProperty(_assertThisInitialized(_this),"onSelectionCB",(function(selection){return selection})),_defineProperty(_assertThisInitialized(_this),"onSelection",(function(lat,lon,collision){var selection=_this.getNearest(lat,lon);return selection=_this.onSelectionCB(selection)})),_defineProperty(_assertThisInitialized(_this),"createArcAt",(function(p0,p1){var data={from:p0,to:p1};console.log("hello",data,_this.arcCount+1),_this.geoFactory.createGeometry("arc",[data],transform$1,(function(geometry){_this.geometry.updateGeometry(geometry,300*_this.arcCount),console.log(_this.arcCount,_this.geometry),_this.arcCount+=1,_this.dataPointCount+=1}))})),_defineProperty(_assertThisInitialized(_this),"addGeojson",(function(geojson,cb){"string"!=typeof geojson?(_this.datastore.addGeojson(geojson),_this.geoFactory.createGeometry("arc",_this.datastore.data,transform$1,(function(geometry){_this.geometry.updateGeometry(geometry,_this.dataPointCount),_this.dataPointCount+=geojson.features.length,void 0!==cb&&cb()}))):console.warn("This function needs a geojson object at this time")})),_defineProperty(_assertThisInitialized(_this),"addDataPoint",(function(dataPoint){_this.dataPointCount+1>=_this.maxDataPoints&&(console.warn("More than ".concat(_this.maxDataPoints," datapoints have been added, Increasing buffer size by: ").concat(_this.maxDataPoints)),_this.extendVerticesBy(_this.maxDataPoints));var newData=[];newData.push(_this.datastore.addGeojsonPoint(dataPoint)),_this.geoFactory.createGeometry("arc",newData,transform$1,(function(geometry){_this.geometry.updateGeometry(geometry,_this.ver),_this.dataPointCount+=1,console.log("verify",_this.datastore.getTypeList(),_this.datastore.isHomogeneous)}))})),_defineProperty(_assertThisInitialized(_this),"getNearest",(function(lat,lon){return _this.datastore.getNearest(lat,lon,_this.maxSelectionDistance,_this.maxSelectionCount)})),params&&(params.maxSelectionCount&&(_this.maxSelectionCount=params.maxSelectionCount),params.maxSelectionDistance&&(_this.maxSelectionDistance=params.maxSelectionDistance),params.maxDataPoints&&(_this.maxDataPoints=params.maxDataPoints)),_this.material=new ShaderMaterial(shaders$3),_this.datastore=new DataStore,_this.material.uniforms=uniforms$3,_this.geoFactory=new DataGeometryFactory,_this.geometry=new Geometry,_this.createEmptyVertices(),_this}return Arcs}(DataDrawable),shaders$4={vertex:"#define GLSLIFY 1\nattribute vec4 position;attribute vec3 normal;attribute vec2 texcoord;uniform mat4 u_worldViewProjection;uniform mat4 u_viewInverse;uniform mat4 u_model;uniform vec3 u_cameraPos;varying vec2 vTexture;varying float vAlpha;void main(){vec4 pos=u_worldViewProjection*u_model*position;gl_PointSize=10.0;vec3 transformedNormal=(u_worldViewProjection*u_model*vec4(normal,1.0)).xyz;vec4 transformedCamera=vec4(0.0,0.0,-1.0,1.0)*u_worldViewProjection;vAlpha=pow((1.0+(dot(normal,normalize(transformedCamera.xyz))))/2.0,0.35);vTexture=texcoord.xy;gl_Position=pos+0.00000000000000001*normal.x*texcoord.x;}",fragment:"precision mediump float;\n#define GLSLIFY 1\nuniform sampler2D u_surface;varying vec2 vTexture;varying float vAlpha;void main(){vec4 surfaceColor=texture2D(u_surface,vec2(vTexture.x,1.0-vTexture.y));vec3 color=surfaceColor.rgb*vAlpha;gl_FragColor=vec4(color,1.0);}"},uniforms$4={u_lightWorldPos:[1,3,-8],u_lightColor:[1,.8,.8,1],u_ambient:[1,1,1,1],u_specular:[1,1,1,1],u_shininess:100,u_specularFactor:.1},Lowpoly=function(_Globe){_inherits(Lowpoly,_Globe);var _super=_createSuper(Lowpoly);function Lowpoly(textureSrc,geometryBin){var _thisSuper,_this;_classCallCheck(this,Lowpoly),_defineProperty(_assertThisInitialized(_this=_super.call(this)),"material",null),_defineProperty(_assertThisInitialized(_this),"lookup",null),_defineProperty(_assertThisInitialized(_this),"currentSelection",-1),_defineProperty(_assertThisInitialized(_this),"previousSelection",-1),_defineProperty(_assertThisInitialized(_this),"inAnimation",null),_defineProperty(_assertThisInitialized(_this),"outAnimation",null),_defineProperty(_assertThisInitialized(_this),"selection0",236),_defineProperty(_assertThisInitialized(_this),"selection1",144),_defineProperty(_assertThisInitialized(_this),"current",236),_defineProperty(_assertThisInitialized(_this),"dataTexture",void 0),_defineProperty(_assertThisInitialized(_this),"dataTextureSize",16),_defineProperty(_assertThisInitialized(_this),"updateCMDs",[]),_defineProperty(_assertThisInitialized(_this),"highlightAnimationProps",{start:0,stop:1,duration:1e3,onUpdate:function onUpdate(value){_this.material.uniforms.u_animateIn=value}}),_defineProperty(_assertThisInitialized(_this),"init",(function(gl,cb){_this.geometry.init(gl);var texturesConfig={surface:{src:_this.textureSrc.surface,minMag:gl.LINEAR}};console.log(_this.textureSrc),_this.material.init(gl),_this.material.uniforms.uModelMatrix=_this.modelMatrix,_this.material.loadTextures(gl,texturesConfig,(function(){_this.material.uniforms.u_surface=_this.material.textures.surface,cb&&cb()}))})),_defineProperty(_assertThisInitialized(_this),"getValueForId",(function(id){return _this.lookup.getFromId(id)})),_defineProperty(_assertThisInitialized(_this),"getValueForCode",(function(code){return _this.lookup.getFromCode(code)})),_defineProperty(_assertThisInitialized(_this),"getValueForName",(function(name){return _this.lookup.getFromName(name)})),_defineProperty(_assertThisInitialized(_this),"setIdColor",(function(id,color,alpha){var a=void 0===alpha?1:alpha,c=GKUtils.hexToRGBA(color,a,!1);_this.updateCMDs.push((function(gl){_this.dataTexture.updatePixelId(gl,c,id)}))})),_defineProperty(_assertThisInitialized(_this),"createCollisionGeo",(function(){_this.collisionGeometry&&_this.collisionGeometry instanceof GKCollision||(_this.collisionGeometry=GKCollider.create_collision_geometry(_this.geometry.vertices.position.data,_this.geometry.vertices.texcoord.data,_this.geometry.vertices.indices.data))})),_defineProperty(_assertThisInitialized(_this),"rayCastFrom",(function(ray){return _this.collisionGeometry.raycast(ray.origin,ray.direction)})),_defineProperty(_assertThisInitialized(_this),"hitTest",(function(ray){return _this.collisionGeometry.hitTest(ray.origin,ray.direction)})),_defineProperty(_assertThisInitialized(_this),"onSelectionCB",(function(selectionObj){})),_defineProperty(_assertThisInitialized(_this),"onSelection",(function(lat,lon,collision){GKUtils.latLonFromWorld(collision.point)})),_defineProperty(_assertThisInitialized(_this),"onHover",(function(collision){console.log("IcosphereLookup.onHover",collision)})),_defineProperty(_assertThisInitialized(_this),"update",(function(gl,sceneProps,time){_get((_thisSuper=_assertThisInitialized(_this),_getPrototypeOf(Lowpoly.prototype)),"update",_thisSuper).call(_thisSuper,sceneProps,time),_this.material.uniforms.u_model=_this.modelMatrix,_this.updateCMDs.forEach((function(cmd){cmd(gl)})),_this.updateCMDs=[]})),_defineProperty(_assertThisInitialized(_this),"draw",(function(gl){_this.isReady&&_this.shouldDraw&&(gl.useProgram(_this.material.programInfo.program),setBuffersAndAttributes(gl,_this.material.programInfo,_this.geometry.bufferInfo),setUniforms(_this.material.programInfo,_this.material.uniforms),gl.drawArrays(gl.TRIANGLES,0,_this.geometry.bufferInfo.numElements))})),_defineProperty(_assertThisInitialized(_this),"setCountryHover",(function(countryIndex){})),_defineProperty(_assertThisInitialized(_this),"setHighlightId",(function(id){_this.previousSelection=_this.currentSelection,_this.currentSelection=id;var animateOutStart=_this.inAnimation?_this.inAnimation.currentValue():1,animateOutDuration=300*animateOutStart;_this.animateIn(_this.currentSelection,500),_this.animateOut(_this.previousSelection,animateOutDuration,animateOutStart)})),_defineProperty(_assertThisInitialized(_this),"animateIn",(function(id,duration,cb){_this.material.uniforms.u_idAnimateIn=id,_this.inAnimation&&_this.inAnimation.stop(),_this.material.uniforms.u_animateIn=0,_this.inAnimation=new Tween(_this.highlightAnimationProps.start,_this.highlightAnimationProps.stop,_this.highlightAnimationProps.duration,{onUpdate:_this.highlightAnimationProps.onUpdate})})),_defineProperty(_assertThisInitialized(_this),"animateOut",(function(id,duration,start,cb){_this.material.uniforms.u_idAnimateOut=id,_this.outAnimation&&_this.outAnimation.stop(),_this.material.uniforms.u_animateOut=start,_this.outAnimation=new Tween(start,0,duration,{onUpdate:function onUpdate(value){_this.material.uniforms.u_animateOut=value}})})),_defineProperty(_assertThisInitialized(_this),"addDataset",(function(data){_this.lookup=new Lookup(data,_this.textureSrc.id)})),_defineProperty(_assertThisInitialized(_this),"updateIdState",(function(id,state){})),_this.textureSrc={surface:textureSrc.surface},_this.material=new ShaderMaterial(shaders$4),_this.material.uniforms=uniforms$4,_this.geometry=new Geometry;var currentPos=0,fBuff=new Float32Array(geometryBin),iBuff=new Int32Array(geometryBin),p=fBuff.subarray(currentPos,currentPos+34992);currentPos+=34992;var n=fBuff.subarray(currentPos,currentPos+34992);currentPos+=34992;var t=fBuff.subarray(currentPos,currentPos+34992);currentPos+=34992;var i=iBuff.subarray(currentPos,currentPos+11664);return _this.geometry.vertices.position={numComponents:3,data:p},_this.geometry.vertices.normal={numComponents:3,data:n},_this.geometry.vertices.texcoord={numComponents:3,data:t},_this.geometry.vertices.indices={numComponents:3,data:i},_this}return Lowpoly}(Globe),shaders$5={vertex:"#define GLSLIFY 1\nattribute vec4 position;attribute vec2 texcoord;uniform mat4 u_worldViewProjection;uniform mat4 u_viewInverse;uniform mat4 u_model;uniform vec3 u_cameraPos;varying float vAlpha;varying vec2 vTexture;void main(){vTexture=texcoord;gl_Position=position;}",fragment:"precision mediump float;\n#define GLSLIFY 1\nuniform sampler2D u_background;varying float vAlpha;varying vec2 vTexture;void main(){vec4 textureColor=texture2D(u_background,vTexture);gl_FragColor=vec4(textureColor.rgb,1.0);}"},uniforms$5={u_lightWorldPos:[1,3,-8],u_lightColor:[1,.8,.8,1],u_ambient:[1,1,1,1],u_specular:[1,1,1,1],u_shininess:100,u_specularFactor:.1,uModelMatrix:[],uCameraMatrix:[],uPerspectiveMatrix:[],uCameraPos:[0,0,0]},Background=function(_Drawable){_inherits(Background,_Drawable);var _super=_createSuper(Background);function Background(textureSrc){var _thisSuper,_this;return _classCallCheck(this,Background),_defineProperty(_assertThisInitialized(_this=_super.call(this)),"material",null),_defineProperty(_assertThisInitialized(_this),"init",(function(gl){_this.geometry=new Geometry,_this.geometry.vertices.position=[-1,-1,1,-1,1,1,1,1,1,1,-1,1],_this.geometry.vertices.texcoord=[0,0,0,1,1,1,1,0],_this.geometry.vertices.indices=[0,2,1,0,3,2],_this.geometry.init(gl);var texturesConfig={background:{src:_this.textureSrc.background,minMag:gl.LINEAR}};_this.material.init(gl),_this.material.loadTextures(gl,texturesConfig,(function(){_this.material.uniforms.u_background=_this.material.textures.background}))})),_defineProperty(_assertThisInitialized(_this),"createCollisionGeo",(function(){})),_defineProperty(_assertThisInitialized(_this),"rayCastFrom",(function(ray){return _this.collisionGeometry.raycast(ray.origin,ray.direction)})),_defineProperty(_assertThisInitialized(_this),"hitTest",(function(ray){return _this.collisionGeometry.hitTest(ray.origin,ray.direction)})),_defineProperty(_assertThisInitialized(_this),"onSelection",(function(lat,lon,selection){console.log("Icosphere.onSelection",GKUtils.latLonFromWorld(selection.point))})),_defineProperty(_assertThisInitialized(_this),"update",(function(gl,sceneProps,time){_get((_thisSuper=_assertThisInitialized(_this),_getPrototypeOf(Background.prototype)),"update",_thisSuper).call(_thisSuper,sceneProps,time),_this.material.uniforms.u_model=_this.modelMatrix})),_defineProperty(_assertThisInitialized(_this),"draw",(function(gl){_this.isReady&&(gl.disable(gl.DEPTH_TEST),gl.useProgram(_this.material.programInfo.program),setBuffersAndAttributes(gl,_this.material.programInfo,_this.geometry.bufferInfo),setUniforms(_this.material.programInfo,_this.material.uniforms),gl.drawElements(gl.TRIANGLES,_this.geometry.bufferInfo.numElements,gl.UNSIGNED_SHORT,0),gl.enable(gl.DEPTH_TEST))})),_this.material=new ShaderMaterial(shaders$5),_this.material.uniforms=uniforms$5,_this.textureSrc={background:textureSrc},_this}return Background}(Drawable),shaders$6={vertex:"#define GLSLIFY 1\nattribute vec4 position;attribute vec2 texcoord;uniform mat4 u_worldViewProjection;uniform mat4 u_viewInverse;uniform mat4 u_model;uniform mat4 u_view;uniform float u_scale;uniform vec3 u_cameraPos;varying float vAlpha;varying vec2 vTexture;void main(){vec3 cameraRight=vec3(u_view[0][0],u_view[1][0],u_view[2][0]);vec3 cameraUp=vec3(u_view[0][1],u_view[1][1],u_view[2][1]);vec3 cameraForward=normalize(u_cameraPos);vec3 worldPos=cameraRight*position.x*u_scale+cameraUp*position.y*u_scale+cameraForward;vec4 pos=u_worldViewProjection*vec4(worldPos,1.0);gl_Position=pos;vTexture=texcoord;}",fragment:"precision mediump float;\n#define GLSLIFY 1\nuniform sampler2D u_background;varying float vAlpha;varying vec2 vTexture;void main(){gl_FragColor=vec4(1.0);}"},uniforms$6={u_lightWorldPos:[1,3,-8],u_lightColor:[1,.8,.8,1],u_ambient:[1,1,1,1],u_specular:[1,1,1,1],u_shininess:100,u_specularFactor:.1,uModelMatrix:[],uCameraMatrix:[],uPerspectiveMatrix:[],uCameraPos:[0,0,0],u_scale:1},Atmosphere=function(_Drawable){_inherits(Atmosphere,_Drawable);var _super=_createSuper(Atmosphere);function Atmosphere(params){var _thisSuper,_this;return _classCallCheck(this,Atmosphere),_defineProperty(_assertThisInitialized(_this=_super.call(this)),"material",null),_defineProperty(_assertThisInitialized(_this),"useTexture",!1),_defineProperty(_assertThisInitialized(_this),"nScale",1),_defineProperty(_assertThisInitialized(_this),"init",(function(gl){if(_this.geometry=new Geometry,_this.geometry.vertices.position=[-1,-1,0,-1,1,0,1,1,0,1,-1,0],_this.geometry.vertices.texcoord=[0,0,0,1,1,1,1,0],_this.geometry.vertices.indices=[0,2,1,0,3,2],_this.geometry.init(gl),_this.material.init(gl),_this.useTexture){var texturesConfig={background:{src:_this.textureSrc.texture,minMag:gl.LINEAR}};_this.material.loadTextures(gl,texturesConfig,(function(){_this.material.uniforms.u_background=_this.material.textures.background}))}else _this.material.texturesLoaded=!0})),_defineProperty(_assertThisInitialized(_this),"createCollisionGeo",(function(){})),_defineProperty(_assertThisInitialized(_this),"rayCastFrom",(function(ray){return _this.collisionGeometry.raycast(ray.origin,ray.direction)})),_defineProperty(_assertThisInitialized(_this),"hitTest",(function(ray){return _this.collisionGeometry.hitTest(ray.origin,ray.direction)})),_defineProperty(_assertThisInitialized(_this),"onSelection",(function(lat,lon,selection){console.log("Icosphere.onSelection",GKUtils.latLonFromWorld(selection.point))})),_defineProperty(_assertThisInitialized(_this),"update",(function(gl,sceneProps,time){_get((_thisSuper=_assertThisInitialized(_this),_getPrototypeOf(Atmosphere.prototype)),"update",_thisSuper).call(_thisSuper,sceneProps,time),_this.material.uniforms.u_model=_this.modelMatrix,_this.material.uniforms.u_scale=_this.nScale})),_defineProperty(_assertThisInitialized(_this),"draw",(function(gl){_this.isReady&&(gl.useProgram(_this.material.programInfo.program),setBuffersAndAttributes(gl,_this.material.programInfo,_this.geometry.bufferInfo),setUniforms(_this.material.programInfo,_this.material.uniforms),gl.drawElements(gl.TRIANGLES,_this.geometry.bufferInfo.numElements,gl.UNSIGNED_SHORT,0))})),params.texture&&(_this.useTexture=!0,shaders$6.fragment="precision mediump float;\n#define GLSLIFY 1\nuniform sampler2D u_background;varying float vAlpha;varying vec2 vTexture;void main(){vec4 textureColor=texture2D(u_background,vTexture);gl_FragColor=textureColor;}",_this.textureSrc={texture:params.texture}),_this.material=new ShaderMaterial(shaders$6),_this.material.uniforms=uniforms$6,_this}return Atmosphere}(Drawable),shaders$7={vertex:"#define GLSLIFY 1\nattribute vec4 position;attribute vec2 texcoord;uniform mat4 u_worldViewProjection;uniform mat4 u_viewInverse;uniform mat4 u_model;uniform mat4 u_view;uniform float u_scale;uniform vec3 u_point;uniform vec2 u_resolution;uniform vec3 u_cameraPos;varying float vAlpha;varying vec2 vTexture;void main(){vec4 pos=u_worldViewProjection*vec4(u_point,1.0);float size=u_scale*16.0;pos.y+=(size*5.0/u_resolution.y);gl_PointSize=size;gl_Position=pos;vTexture=texcoord;}",fragment:"precision mediump float;\n#define GLSLIFY 1\nuniform sampler2D u_background;varying float vAlpha;varying vec2 vTexture;void main(){vec4 textureColor=texture2D(u_background,gl_PointCoord);gl_FragColor=textureColor;}"},uniforms$7={u_lightWorldPos:[1,3,-8],u_lightColor:[1,.8,.8,1],u_ambient:[1,1,1,1],u_specular:[1,1,1,1],u_shininess:100,u_specularFactor:.1,uModelMatrix:[],uCameraMatrix:[],uPerspectiveMatrix:[],uCameraPos:[0,0,0],u_scale:1,u_point:[0,0,1]},QuadNormal=function(_Drawable){_inherits(QuadNormal,_Drawable);var _super=_createSuper(QuadNormal);function QuadNormal(params){var _thisSuper,_this;return _classCallCheck(this,QuadNormal),_defineProperty(_assertThisInitialized(_this=_super.call(this)),"material",null),_defineProperty(_assertThisInitialized(_this),"useTexture",!1),_defineProperty(_assertThisInitialized(_this),"nScale",1),_defineProperty(_assertThisInitialized(_this),"point",[0,0,1]),_defineProperty(_assertThisInitialized(_this),"init",(function(gl){_this.geometry=new Geometry,_this.geometry.vertices.position=[0,0,1],_this.geometry.init(gl),_this.material.init(gl);var texturesConfig={background:{src:_this.textureSrc.texture,minMag:gl.LINEAR}};_this.material.loadTextures(gl,texturesConfig,(function(){_this.material.uniforms.u_background=_this.material.textures.background}))})),_defineProperty(_assertThisInitialized(_this),"createCollisionGeo",(function(){})),_defineProperty(_assertThisInitialized(_this),"rayCastFrom",(function(ray){return _this.collisionGeometry.raycast(ray.origin,ray.direction)})),_defineProperty(_assertThisInitialized(_this),"hitTest",(function(ray){return _this.collisionGeometry.hitTest(ray.origin,ray.direction)})),_defineProperty(_assertThisInitialized(_this),"onSelection",(function(lat,lon,selection){console.log("Icosphere.onSelection",GKUtils.latLonFromWorld(selection.point))})),_defineProperty(_assertThisInitialized(_this),"update",(function(gl,sceneProps,time){_get((_thisSuper=_assertThisInitialized(_this),_getPrototypeOf(QuadNormal.prototype)),"update",_thisSuper).call(_thisSuper,sceneProps,time),_this.material.uniforms.u_model=_this.modelMatrix,_this.material.uniforms.u_scale=_this.nScale,_this.material.uniforms.u_point=_this.point})),_defineProperty(_assertThisInitialized(_this),"draw",(function(gl){_this.isReady&&(gl.disable(gl.DEPTH_TEST),gl.useProgram(_this.material.programInfo.program),setBuffersAndAttributes(gl,_this.material.programInfo,_this.geometry.bufferInfo),setUniforms(_this.material.programInfo,_this.material.uniforms),gl.drawArrays(gl.POINTS,0,_this.geometry.bufferInfo.numElements),gl.enable(gl.DEPTH_TEST))})),_defineProperty(_assertThisInitialized(_this),"setPoint",(function(lat,lon,alt){var altitude=void 0===alt?0:alt;_this.point=GKUtils.worldFromLatLon(lat,lon,altitude)})),_this.textureSrc={texture:params.texture},_this.material=new ShaderMaterial(shaders$7),_this.material.uniforms=uniforms$7,_this}return QuadNormal}(Drawable),CalloutDefinition=function CalloutDefinition(latitude,longitude,calloutClass,data){_classCallCheck(this,CalloutDefinition),_defineProperty(this,"id",Math.random().toFixed(16).substr(2)),_defineProperty(this,"latitude",0),_defineProperty(this,"longitude",0),_defineProperty(this,"altitude",0),_defineProperty(this,"calloutClass",void 0),_defineProperty(this,"data",void 0),this.latitude=latitude,this.longitude=longitude,this.calloutClass=calloutClass,this.data=data},Callout=function(){function Callout(definition){var _this=this;_classCallCheck(this,Callout),_defineProperty(this,"drawables",[]),_defineProperty(this,"element",void 0),_defineProperty(this,"definition",void 0),_defineProperty(this,"size",{width:0,height:0}),this.definition=definition,this.element=this.createElement(),this.resizeObserver=new index((function(entries){entries.length&&(_this.size=entries[0].contentRect)})),this.resizeObserver.observe(this.element)}return _createClass(Callout,[{key:"release",value:function release(){this.resizeObserver.disconnect()}},{key:"createElement",value:function createElement(){return document.createElement("div")}},{key:"animateIn",value:function animateIn(){}},{key:"animateOut",value:function animateOut(onComplete){onComplete(this)}},{key:"update",value:function update(time){this.drawables.forEach((function(drawable){return drawable.update(time)}))}},{key:"setPosition",value:function setPosition(position){this.element.style.transform="translate(".concat(position.screen.x,"px, ").concat(position.screen.y,"px)")}}]),Callout}()}.call(this,__webpack_require__(483),__webpack_require__(1877).Buffer,__webpack_require__(35))}}]);
//# sourceMappingURL=0.ad315194e793771bda90.bundle.js.map